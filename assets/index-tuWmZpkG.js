(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))m(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const g of u.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&m(g)}).observe(document,{childList:!0,subtree:!0});function d(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function m(r){if(r.ep)return;r.ep=!0;const u=d(r);fetch(r.href,u)}})();function Pm(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Ju={exports:{}},ar={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function jg(){if(dm)return ar;dm=1;var h=Symbol.for("react.transitional.element"),v=Symbol.for("react.fragment");function d(m,r,u){var g=null;if(u!==void 0&&(g=""+u),r.key!==void 0&&(g=""+r.key),"key"in r){u={};for(var y in r)y!=="key"&&(u[y]=r[y])}else u=r;return r=u.ref,{$$typeof:h,type:m,key:g,ref:r!==void 0?r:null,props:u}}return ar.Fragment=v,ar.jsx=d,ar.jsxs=d,ar}var hm;function Cg(){return hm||(hm=1,Ju.exports=jg()),Ju.exports}var o=Cg(),Wu={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Rg(){if(fm)return je;fm=1;var h=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),T=Symbol.iterator;function k(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,O={};function R(A,K,C){this.props=A,this.context=K,this.refs=O,this.updater=C||P}R.prototype.isReactComponent={},R.prototype.setState=function(A,K){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,K,"setState")},R.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function J(){}J.prototype=R.prototype;function ce(A,K,C){this.props=A,this.context=K,this.refs=O,this.updater=C||P}var G=ce.prototype=new J;G.constructor=ce,H(G,R.prototype),G.isPureReactComponent=!0;var ne=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function oe(A,K,C,ee,re,ge){return C=ge.ref,{$$typeof:h,type:A,key:K,ref:C!==void 0?C:null,props:ge}}function ye(A,K){return oe(A.type,K,void 0,void 0,void 0,A.props)}function F(A){return typeof A=="object"&&A!==null&&A.$$typeof===h}function me(A){var K={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(C){return K[C]})}var _e=/\/+/g;function Se(A,K){return typeof A=="object"&&A!==null&&A.key!=null?me(""+A.key):K.toString(36)}function gt(){}function Fe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(gt,gt):(A.status="pending",A.then(function(K){A.status==="pending"&&(A.status="fulfilled",A.value=K)},function(K){A.status==="pending"&&(A.status="rejected",A.reason=K)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function qe(A,K,C,ee,re){var ge=typeof A;(ge==="undefined"||ge==="boolean")&&(A=null);var de=!1;if(A===null)de=!0;else switch(ge){case"bigint":case"string":case"number":de=!0;break;case"object":switch(A.$$typeof){case h:case v:de=!0;break;case N:return de=A._init,qe(de(A._payload),K,C,ee,re)}}if(de)return re=re(A),de=ee===""?"."+Se(A,0):ee,ne(re)?(C="",de!=null&&(C=de.replace(_e,"$&/")+"/"),qe(re,K,C,"",function(Li){return Li})):re!=null&&(F(re)&&(re=ye(re,C+(re.key==null||A&&A.key===re.key?"":(""+re.key).replace(_e,"$&/")+"/")+de)),K.push(re)),1;de=0;var it=ee===""?".":ee+":";if(ne(A))for(var Be=0;Be<A.length;Be++)ee=A[Be],ge=it+Se(ee,Be),de+=qe(ee,K,C,ge,re);else if(Be=k(A),typeof Be=="function")for(A=Be.call(A),Be=0;!(ee=A.next()).done;)ee=ee.value,ge=it+Se(ee,Be++),de+=qe(ee,K,C,ge,re);else if(ge==="object"){if(typeof A.then=="function")return qe(Fe(A),K,C,ee,re);throw K=String(A),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return de}function Y(A,K,C){if(A==null)return A;var ee=[],re=0;return qe(A,ee,"","",function(ge){return K.call(C,ge,re++)}),ee}function ue(A){if(A._status===-1){var K=A._result;K=K(),K.then(function(C){(A._status===0||A._status===-1)&&(A._status=1,A._result=C)},function(C){(A._status===0||A._status===-1)&&(A._status=2,A._result=C)}),A._status===-1&&(A._status=0,A._result=K)}if(A._status===1)return A._result.default;throw A._result}var se=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Ue(){}return je.Children={map:Y,forEach:function(A,K,C){Y(A,function(){K.apply(this,arguments)},C)},count:function(A){var K=0;return Y(A,function(){K++}),K},toArray:function(A){return Y(A,function(K){return K})||[]},only:function(A){if(!F(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},je.Component=R,je.Fragment=d,je.Profiler=r,je.PureComponent=ce,je.StrictMode=m,je.Suspense=b,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,je.__COMPILER_RUNTIME={__proto__:null,c:function(A){return W.H.useMemoCache(A)}},je.cache=function(A){return function(){return A.apply(null,arguments)}},je.cloneElement=function(A,K,C){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ee=H({},A.props),re=A.key,ge=void 0;if(K!=null)for(de in K.ref!==void 0&&(ge=void 0),K.key!==void 0&&(re=""+K.key),K)!ae.call(K,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&K.ref===void 0||(ee[de]=K[de]);var de=arguments.length-2;if(de===1)ee.children=C;else if(1<de){for(var it=Array(de),Be=0;Be<de;Be++)it[Be]=arguments[Be+2];ee.children=it}return oe(A.type,re,void 0,void 0,ge,ee)},je.createContext=function(A){return A={$$typeof:g,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},je.createElement=function(A,K,C){var ee,re={},ge=null;if(K!=null)for(ee in K.key!==void 0&&(ge=""+K.key),K)ae.call(K,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(re[ee]=K[ee]);var de=arguments.length-2;if(de===1)re.children=C;else if(1<de){for(var it=Array(de),Be=0;Be<de;Be++)it[Be]=arguments[Be+2];re.children=it}if(A&&A.defaultProps)for(ee in de=A.defaultProps,de)re[ee]===void 0&&(re[ee]=de[ee]);return oe(A,ge,void 0,void 0,null,re)},je.createRef=function(){return{current:null}},je.forwardRef=function(A){return{$$typeof:y,render:A}},je.isValidElement=F,je.lazy=function(A){return{$$typeof:N,_payload:{_status:-1,_result:A},_init:ue}},je.memo=function(A,K){return{$$typeof:w,type:A,compare:K===void 0?null:K}},je.startTransition=function(A){var K=W.T,C={};W.T=C;try{var ee=A(),re=W.S;re!==null&&re(C,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ue,se)}catch(ge){se(ge)}finally{W.T=K}},je.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},je.use=function(A){return W.H.use(A)},je.useActionState=function(A,K,C){return W.H.useActionState(A,K,C)},je.useCallback=function(A,K){return W.H.useCallback(A,K)},je.useContext=function(A){return W.H.useContext(A)},je.useDebugValue=function(){},je.useDeferredValue=function(A,K){return W.H.useDeferredValue(A,K)},je.useEffect=function(A,K,C){var ee=W.H;if(typeof C=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(A,K)},je.useId=function(){return W.H.useId()},je.useImperativeHandle=function(A,K,C){return W.H.useImperativeHandle(A,K,C)},je.useInsertionEffect=function(A,K){return W.H.useInsertionEffect(A,K)},je.useLayoutEffect=function(A,K){return W.H.useLayoutEffect(A,K)},je.useMemo=function(A,K){return W.H.useMemo(A,K)},je.useOptimistic=function(A,K){return W.H.useOptimistic(A,K)},je.useReducer=function(A,K,C){return W.H.useReducer(A,K,C)},je.useRef=function(A){return W.H.useRef(A)},je.useState=function(A){return W.H.useState(A)},je.useSyncExternalStore=function(A,K,C){return W.H.useSyncExternalStore(A,K,C)},je.useTransition=function(){return W.H.useTransition()},je.version="19.1.0",je}var mm;function fd(){return mm||(mm=1,Wu.exports=Rg()),Wu.exports}var le=fd();const Qs=Pm(le);var $u={exports:{}},sr={},ed={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function Dg(){return pm||(pm=1,function(h){function v(Y,ue){var se=Y.length;Y.push(ue);e:for(;0<se;){var Ue=se-1>>>1,A=Y[Ue];if(0<r(A,ue))Y[Ue]=ue,Y[se]=A,se=Ue;else break e}}function d(Y){return Y.length===0?null:Y[0]}function m(Y){if(Y.length===0)return null;var ue=Y[0],se=Y.pop();if(se!==ue){Y[0]=se;e:for(var Ue=0,A=Y.length,K=A>>>1;Ue<K;){var C=2*(Ue+1)-1,ee=Y[C],re=C+1,ge=Y[re];if(0>r(ee,se))re<A&&0>r(ge,ee)?(Y[Ue]=ge,Y[re]=se,Ue=re):(Y[Ue]=ee,Y[C]=se,Ue=C);else if(re<A&&0>r(ge,se))Y[Ue]=ge,Y[re]=se,Ue=re;else break e}}return ue}function r(Y,ue){var se=Y.sortIndex-ue.sortIndex;return se!==0?se:Y.id-ue.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;h.unstable_now=function(){return u.now()}}else{var g=Date,y=g.now();h.unstable_now=function(){return g.now()-y}}var b=[],w=[],N=1,T=null,k=3,P=!1,H=!1,O=!1,R=!1,J=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ne(Y){for(var ue=d(w);ue!==null;){if(ue.callback===null)m(w);else if(ue.startTime<=Y)m(w),ue.sortIndex=ue.expirationTime,v(b,ue);else break;ue=d(w)}}function W(Y){if(O=!1,ne(Y),!H)if(d(b)!==null)H=!0,ae||(ae=!0,Se());else{var ue=d(w);ue!==null&&qe(W,ue.startTime-Y)}}var ae=!1,oe=-1,ye=5,F=-1;function me(){return R?!0:!(h.unstable_now()-F<ye)}function _e(){if(R=!1,ae){var Y=h.unstable_now();F=Y;var ue=!0;try{e:{H=!1,O&&(O=!1,ce(oe),oe=-1),P=!0;var se=k;try{t:{for(ne(Y),T=d(b);T!==null&&!(T.expirationTime>Y&&me());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,k=T.priorityLevel;var A=Ue(T.expirationTime<=Y);if(Y=h.unstable_now(),typeof A=="function"){T.callback=A,ne(Y),ue=!0;break t}T===d(b)&&m(b),ne(Y)}else m(b);T=d(b)}if(T!==null)ue=!0;else{var K=d(w);K!==null&&qe(W,K.startTime-Y),ue=!1}}break e}finally{T=null,k=se,P=!1}ue=void 0}}finally{ue?Se():ae=!1}}}var Se;if(typeof G=="function")Se=function(){G(_e)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,Fe=gt.port2;gt.port1.onmessage=_e,Se=function(){Fe.postMessage(null)}}else Se=function(){J(_e,0)};function qe(Y,ue){oe=J(function(){Y(h.unstable_now())},ue)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(Y){Y.callback=null},h.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<Y?Math.floor(1e3/Y):5},h.unstable_getCurrentPriorityLevel=function(){return k},h.unstable_next=function(Y){switch(k){case 1:case 2:case 3:var ue=3;break;default:ue=k}var se=k;k=ue;try{return Y()}finally{k=se}},h.unstable_requestPaint=function(){R=!0},h.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=k;k=Y;try{return ue()}finally{k=se}},h.unstable_scheduleCallback=function(Y,ue,se){var Ue=h.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ue+se:Ue):se=Ue,Y){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=se+A,Y={id:N++,callback:ue,priorityLevel:Y,startTime:se,expirationTime:A,sortIndex:-1},se>Ue?(Y.sortIndex=se,v(w,Y),d(b)===null&&Y===d(w)&&(O?(ce(oe),oe=-1):O=!0,qe(W,se-Ue))):(Y.sortIndex=A,v(b,Y),H||P||(H=!0,ae||(ae=!0,Se()))),Y},h.unstable_shouldYield=me,h.unstable_wrapCallback=function(Y){var ue=k;return function(){var se=k;k=ue;try{return Y.apply(this,arguments)}finally{k=se}}}}(td)),td}var gm;function Og(){return gm||(gm=1,ed.exports=Dg()),ed.exports}var id={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function kg(){if(vm)return Ot;vm=1;var h=fd();function v(b){var w="https://react.dev/errors/"+b;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)w+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+b+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var m={d:{f:d,r:function(){throw Error(v(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(b,w,N){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:b,containerInfo:w,implementation:N}}var g=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,w){if(b==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=m,Ot.createPortal=function(b,w){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(v(299));return u(b,w,null,N)},Ot.flushSync=function(b){var w=g.T,N=m.p;try{if(g.T=null,m.p=2,b)return b()}finally{g.T=w,m.p=N,m.d.f()}},Ot.preconnect=function(b,w){typeof b=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,m.d.C(b,w))},Ot.prefetchDNS=function(b){typeof b=="string"&&m.d.D(b)},Ot.preinit=function(b,w){if(typeof b=="string"&&w&&typeof w.as=="string"){var N=w.as,T=y(N,w.crossOrigin),k=typeof w.integrity=="string"?w.integrity:void 0,P=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;N==="style"?m.d.S(b,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:T,integrity:k,fetchPriority:P}):N==="script"&&m.d.X(b,{crossOrigin:T,integrity:k,fetchPriority:P,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Ot.preinitModule=function(b,w){if(typeof b=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var N=y(w.as,w.crossOrigin);m.d.M(b,{crossOrigin:N,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&m.d.M(b)},Ot.preload=function(b,w){if(typeof b=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var N=w.as,T=y(N,w.crossOrigin);m.d.L(b,N,{crossOrigin:T,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Ot.preloadModule=function(b,w){if(typeof b=="string")if(w){var N=y(w.as,w.crossOrigin);m.d.m(b,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:N,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else m.d.m(b)},Ot.requestFormReset=function(b){m.d.r(b)},Ot.unstable_batchedUpdates=function(b,w){return b(w)},Ot.useFormState=function(b,w,N){return g.H.useFormState(b,w,N)},Ot.useFormStatus=function(){return g.H.useHostTransitionStatus()},Ot.version="19.1.0",Ot}var _m;function Bm(){if(_m)return id.exports;_m=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(v){console.error(v)}}return h(),id.exports=kg(),id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function zg(){if(xm)return sr;xm=1;var h=Og(),v=fd(),d=Bm();function m(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(m(188))}function b(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(m(188));return t!==e?null:e}for(var n=e,s=t;;){var c=n.return;if(c===null)break;var f=c.alternate;if(f===null){if(s=c.return,s!==null){n=s;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===n)return y(c),e;if(f===s)return y(c),t;f=f.sibling}throw Error(m(188))}if(n.return!==s.return)n=c,s=f;else{for(var x=!1,S=c.child;S;){if(S===n){x=!0,n=c,s=f;break}if(S===s){x=!0,s=c,n=f;break}S=S.sibling}if(!x){for(S=f.child;S;){if(S===n){x=!0,n=f,s=c;break}if(S===s){x=!0,s=f,n=c;break}S=S.sibling}if(!x)throw Error(m(189))}}if(n.alternate!==s)throw Error(m(190))}if(n.tag!==3)throw Error(m(188));return n.stateNode.current===n?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,T=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ce=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Symbol.for("react.client.reference");function Fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===gt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case R:return"Profiler";case O:return"StrictMode";case W:return"Suspense";case ae:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case G:return(e.displayName||"Context")+".Provider";case ce:return(e._context.displayName||"Context")+".Consumer";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return t=e.displayName||null,t!==null?t:Fe(e.type)||"Memo";case ye:t=e._payload,e=e._init;try{return Fe(e(t))}catch{}}return null}var qe=Array.isArray,Y=v.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ue=[],A=-1;function K(e){return{current:e}}function C(e){0>A||(e.current=Ue[A],Ue[A]=null,A--)}function ee(e,t){A++,Ue[A]=e.current,e.current=t}var re=K(null),ge=K(null),de=K(null),it=K(null);function Be(e,t){switch(ee(de,t),ee(ge,e),ee(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Uf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Uf(t),e=If(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}C(re),ee(re,e)}function Li(){C(re),C(ge),C(de)}function Ea(e){e.memoizedState!==null&&ee(it,e);var t=re.current,n=If(t,e.type);t!==n&&(ee(ge,e),ee(re,n))}function Mn(e){ge.current===e&&(C(re),C(ge)),it.current===e&&(C(it),$o._currentValue=se)}var Wi=Object.prototype.hasOwnProperty,La=h.unstable_scheduleCallback,$s=h.unstable_cancelCallback,hr=h.unstable_shouldYield,fr=h.unstable_requestPaint,qt=h.unstable_now,os=h.unstable_getCurrentPriorityLevel,mr=h.unstable_ImmediatePriority,eo=h.unstable_UserBlockingPriority,jn=h.unstable_NormalPriority,pr=h.unstable_LowPriority,to=h.unstable_IdlePriority,ic=h.log,nc=h.unstable_setDisableYieldValue,$i=null,Mt=null;function Si(e){if(typeof ic=="function"&&nc(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode($i,e)}catch{}}var Pt=Math.clz32?Math.clz32:ac,gr=Math.log,vr=Math.LN2;function ac(e){return e>>>=0,e===0?32:31-(gr(e)/vr|0)|0}var Sa=256,Cn=4194304;function zi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rs(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var c=0,f=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var S=s&134217727;return S!==0?(s=S&~f,s!==0?c=zi(s):(x&=S,x!==0?c=zi(x):n||(n=S&~e,n!==0&&(c=zi(n))))):(S=s&~f,S!==0?c=zi(S):x!==0?c=zi(x):n||(n=s&~e,n!==0&&(c=zi(n)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:c}function Ni(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function sc(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(){var e=Sa;return Sa<<=1,(Sa&4194048)===0&&(Sa=256),e}function io(){var e=Cn;return Cn<<=1,(Cn&62914560)===0&&(Cn=4194304),e}function ls(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oc(e,t,n,s,c,f){var x=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var S=e.entanglements,j=e.expirationTimes,I=e.hiddenUpdates;for(n=x&~n;0<n;){var Q=31-Pt(n),te=1<<Q;S[Q]=0,j[Q]=-1;var Z=I[Q];if(Z!==null)for(I[Q]=null,Q=0;Q<Z.length;Q++){var q=Z[Q];q!==null&&(q.lane&=-536870913)}n&=~te}s!==0&&xr(e,s,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(x&~t))}function xr(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Pt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function yr(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Pt(n),c=1<<s;c&t|e[s]&t&&(e[s]|=t),n&=~c}}function no(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ao(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function br(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:sm(e.type))}function so(e,t){var n=ue.p;try{return ue.p=e,t()}finally{ue.p=n}}var Pi=Math.random().toString(36).slice(2),vt="__reactFiber$"+Pi,jt="__reactProps$"+Pi,Dn="__reactContainer$"+Pi,Vt="__reactEvents$"+Pi,xe="__reactListeners$"+Pi,wr="__reactHandles$"+Pi,oo="__reactResources$"+Pi,On="__reactMarker$"+Pi;function cs(e){delete e[vt],delete e[jt],delete e[Vt],delete e[xe],delete e[wr]}function Bi(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qf(e);e!==null;){if(n=e[vt])return n;e=qf(e)}return t}e=n,n=e.parentNode}return null}function en(e){if(e=e[vt]||e[Dn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function fi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(m(33))}function tn(e){var t=e[oo];return t||(t=e[oo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dt(e){e[On]=!0}var Er=new Set,Lr={};function nn(e,t){an(e,t),an(e+"Capture",t)}function an(e,t){for(Lr[e]=t,e=0;e<t.length;e++)Er.add(t[e])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Na={},Sr={};function lc(e){return Wi.call(Sr,e)?!0:Wi.call(Na,e)?!1:rc.test(e)?Sr[e]=!0:(Na[e]=!0,!1)}function us(e,t,n){if(lc(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ds(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ti(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var Ta,kn;function sn(e){if(Ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ta=t&&t[1]||"",kn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+e+kn}var hs=!1;function on(e,t){if(!e||hs)return"";hs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(q){var Z=q}Reflect.construct(e,[],te)}else{try{te.call()}catch(q){Z=q}e.call(te.prototype)}}else{try{throw Error()}catch(q){Z=q}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(q){if(q&&Z&&typeof q.stack=="string")return[q.stack,Z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),x=f[0],S=f[1];if(x&&S){var j=x.split(`
`),I=S.split(`
`);for(c=s=0;s<j.length&&!j[s].includes("DetermineComponentFrameRoot");)s++;for(;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;if(s===j.length||c===I.length)for(s=j.length-1,c=I.length-1;1<=s&&0<=c&&j[s]!==I[c];)c--;for(;1<=s&&0<=c;s--,c--)if(j[s]!==I[c]){if(s!==1||c!==1)do if(s--,c--,0>c||j[s]!==I[c]){var Q=`
`+j[s].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=s&&0<=c);break}}}finally{hs=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?sn(n):""}function ze(e){switch(e.tag){case 26:case 27:case 5:return sn(e.type);case 16:return sn("Lazy");case 13:return sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return on(e.type,!1);case 11:return on(e.type.render,!1);case 1:return on(e.type,!0);case 31:return sn("Activity");default:return""}}function Qe(e){try{var t="";do t+=ze(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Et(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rn(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zn(e){var t=rn(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,f=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(x){s=""+x,f.call(this,x)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(x){s=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pn(e){e._valueTracker||(e._valueTracker=zn(e))}function Ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=rn(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Je(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ro=/[\n"\\]/g;function Lt(e){return e.replace(ro,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ct(e,t,n,s,c,f,x,S){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Et(t)):e.value!==""+Et(t)&&(e.value=""+Et(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Bn(e,x,Et(t)):n!=null?Bn(e,x,Et(n)):s!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Et(S):e.removeAttribute("name")}function Nr(e,t,n,s,c,f,x,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;n=n!=null?""+Et(n):"",t=t!=null?""+Et(t):n,S||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=S?e.checked:!!s,e.defaultChecked=!!s,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function Bn(e,t,n){t==="number"&&Je(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Yt(e,t,n,s){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Et(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function nt(e,t,n){if(t!=null&&(t=""+Et(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Et(n):""}function Ui(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(m(92));if(qe(s)){if(1<s.length)throw Error(m(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Et(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fs(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||Aa.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Un(e,t,n){if(t!=null&&typeof t!="object")throw Error(m(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&n[c]!==s&&fs(e,c,s)}else for(var f in t)t.hasOwnProperty(f)&&fs(e,f,t[f])}function Ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function In(e){return ms.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ja=null;function Hn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ln=null,Ii=null;function Tr(e){var t=en(e);if(t&&(e=t.stateNode)){var n=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ct(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var c=s[jt]||null;if(!c)throw Error(m(90));Ct(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Ae(s)}break e;case"textarea":nt(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Yt(e,!!n.multiple,t,!1)}}}var Te=!1;function ei(e,t,n){if(Te)return e(t,n);Te=!0;try{var s=e(t);return s}finally{if(Te=!1,(ln!==null||Ii!==null)&&(bl(),ln&&(t=ln,e=Ii,Ii=ln=null,Tr(t),e)))for(t=0;t<e.length;t++)Tr(e[t])}}function Ie(e,t){var n=e.stateNode;if(n===null)return null;var s=n[jt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(m(231,t,typeof n));return n}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(pi)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{Ca=!1}var gi=null,Ai=null,Gn=null;function Zn(){if(Gn)return Gn;var e,t=Ai,n=t.length,s,c="value"in gi?gi.value:gi.textContent,f=c.length;for(e=0;e<n&&t[e]===c[e];e++);var x=n-e;for(s=1;s<=x&&t[n-s]===c[f-s];s++);return Gn=c.slice(e,1<s?1-s:void 0)}function ot(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vi(){return!0}function co(){return!1}function St(e){function t(n,s,c,f,x){this._reactName=n,this._targetInst=c,this.type=s,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?vi:co,this.isPropagationStopped=co,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),t}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=St(un),dn=N({},un,{view:0,detail:0}),cc=St(dn),ps,Re,Da,Rt=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Da&&(Da&&e.type==="mousemove"?(ps=e.screenX-Da.screenX,Re=e.screenY-Da.screenY):Re=ps=0,Da=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:Re}}),qn=St(Rt),Ar=N({},Rt,{dataTransfer:0}),uc=St(Ar),uo=N({},dn,{relatedTarget:0}),ho=St(uo),Mr=N({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),dc=St(Mr),hc=N({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fo=St(hc),fc=N({},un,{data:0}),ti=St(fc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hi[e])?!!t[e]:!1}function gs(){return Cr}var mo=N({},dn,{key:function(e){if(e.key){var t=mc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ot(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?ot(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ot(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pc=St(mo),Rr=N({},Rt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=St(Rr),gc=N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),vc=St(gc),go=N({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),_c=St(go),Dr=N({},Rt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Or=St(Dr),vs=N({},un,{newState:0,oldState:0}),hn=St(vs),xc=[9,13,27,32],fn=pi&&"CompositionEvent"in window,_t=null;pi&&"documentMode"in document&&(_t=document.documentMode);var kr=pi&&"TextEvent"in window&&!_t,vo=pi&&(!fn||_t&&8<_t&&11>=_t),zr=" ",_s=!1;function xs(e,t){switch(e){case"keyup":return xc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vn=!1;function Br(e,t){switch(e){case"compositionend":return Pr(t);case"keypress":return t.which!==32?null:(_s=!0,zr);case"textInput":return e=t.data,e===zr&&_s?null:e;default:return null}}function yc(e,t){if(Vn)return e==="compositionend"||!fn&&xs(e,t)?(e=Zn(),Gn=Ai=gi=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vo&&t.locale!=="ko"?null:t.data;default:return null}}var ii={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ii[e.type]:t==="textarea"}function Ur(e,t,n,s){ln?Ii?Ii.push(s):Ii=[s]:ln=s,t=Tl(t,"onChange"),0<t.length&&(n=new Ra("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Bt=null,Oa=null;function Yn(e){Of(e,0)}function ys(e){var t=fi(e);if(Ae(t))return e}function Xn(e,t){if(e==="change")return t}var _o=!1;if(pi){var Fn;if(pi){var xo="oninput"in document;if(!xo){var Mi=document.createElement("div");Mi.setAttribute("oninput","return;"),xo=typeof Mi.oninput=="function"}Fn=xo}else Fn=!1;_o=Fn&&(!document.documentMode||9<document.documentMode)}function ka(){Bt&&(Bt.detachEvent("onpropertychange",Ir),Oa=Bt=null)}function Ir(e){if(e.propertyName==="value"&&ys(Oa)){var t=[];Ur(t,Oa,e,Hn(e)),ei(Yn,t)}}function yo(e,t,n){e==="focusin"?(ka(),Bt=t,Oa=n,Bt.attachEvent("onpropertychange",Ir)):e==="focusout"&&ka()}function bc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ys(Oa)}function ji(e,t){if(e==="click")return ys(t)}function wc(e,t){if(e==="input"||e==="change")return ys(t)}function Kn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Kn;function It(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var c=n[s];if(!Wi.call(t,c)||!Ut(e[c],t[c]))return!1}return!0}function za(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bo(e,t){var n=za(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=za(n)}}function bs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pa(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Je(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Je(e.document)}return t}function Ba(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ws=pi&&"documentMode"in document&&11>=document.documentMode,ni=null,Qn=null,pn=null,Es=!1;function Hr(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Es||ni==null||ni!==Je(s)||(s=ni,"selectionStart"in s&&Ba(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),pn&&It(pn,s)||(pn=s,s=Tl(Qn,"onSelect"),0<s.length&&(t=new Ra("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ni)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jn={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},Ls={},Gr={};pi&&(Gr=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Gi(e){if(Ls[e])return Ls[e];if(!Jn[e])return e;var t=Jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gr)return Ls[e]=t[n];return e}var Zr=Gi("animationend"),ai=Gi("animationiteration"),Ua=Gi("animationstart"),Ec=Gi("transitionrun"),Ss=Gi("transitionstart"),Lc=Gi("transitioncancel"),wo=Gi("transitionend"),qr=new Map,gn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gn.push("scrollEnd");function si(e,t){qr.set(e,t),nn(t,[e])}var vn=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var n=vn.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qe(t)},vn.set(e,t),t)}return{value:e,source:t,stack:Qe(t)}}var Gt=[],Wn=0,oi=0;function Ia(){for(var e=Wn,t=oi=Wn=0;t<e;){var n=Gt[t];Gt[t++]=null;var s=Gt[t];Gt[t++]=null;var c=Gt[t];Gt[t++]=null;var f=Gt[t];if(Gt[t++]=null,s!==null&&c!==null){var x=s.pending;x===null?c.next=c:(c.next=x.next,x.next=c),s.pending=c}f!==0&&Ga(n,c,f)}}function Ha(e,t,n,s){Gt[Wn++]=e,Gt[Wn++]=t,Gt[Wn++]=n,Gt[Wn++]=s,oi|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function _n(e,t,n,s){return Ha(e,t,n,s),Zi(e)}function $n(e,t){return Ha(e,null,null,t),Zi(e)}function Ga(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var c=!1,f=e.return;f!==null;)f.childLanes|=n,s=f.alternate,s!==null&&(s.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-Pt(n),e=f.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=n|536870912),f):null}function Zi(e){if(50<Vo)throw Vo=0,bu=null,Error(m(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var xn={};function Vr(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,n,s){return new Vr(e,t,n,s)}function Ns(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,t){var n=e.alternate;return n===null?(n=Zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Eo(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Za(e,t,n,s,c,f){var x=0;if(s=e,typeof e=="function")Ns(e)&&(x=1);else if(typeof e=="string")x=vg(e,n,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Zt(31,n,t,c),e.elementType=F,e.lanes=f,e;case H:return qi(n.children,c,f,t);case O:x=8,c|=24;break;case R:return e=Zt(12,n,t,c|2),e.elementType=R,e.lanes=f,e;case W:return e=Zt(13,n,t,c),e.elementType=W,e.lanes=f,e;case ae:return e=Zt(19,n,t,c),e.elementType=ae,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:case G:x=10;break e;case ce:x=9;break e;case ne:x=11;break e;case oe:x=14;break e;case ye:x=16,s=null;break e}x=29,n=Error(m(130,e===null?"null":typeof e,"")),s=null}return t=Zt(x,n,t,c),t.elementType=e,t.type=s,t.lanes=f,t}function qi(e,t,n,s){return e=Zt(7,e,s,t),e.lanes=n,e}function Lo(e,t,n){return e=Zt(6,e,null,t),e.lanes=n,e}function Ts(e,t,n){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yn=[],ea=0,i=null,a=0,l=[],p=0,_=null,E=1,M="";function B(e,t){yn[ea++]=a,yn[ea++]=i,i=e,a=t}function V(e,t,n){l[p++]=E,l[p++]=M,l[p++]=_,_=e;var s=E;e=M;var c=32-Pt(s)-1;s&=~(1<<c),n+=1;var f=32-Pt(t)+c;if(30<f){var x=c-c%5;f=(s&(1<<x)-1).toString(32),s>>=x,c-=x,E=1<<32-Pt(t)+c|n<<c|s,M=f+e}else E=1<<f|n<<c|s,M=e}function ie(e){e.return!==null&&(B(e,1),V(e,1,0))}function he(e){for(;e===i;)i=yn[--ea],yn[ea]=null,a=yn[--ea],yn[ea]=null;for(;e===_;)_=l[--p],l[p]=null,M=l[--p],l[p]=null,E=l[--p],l[p]=null}var fe=null,ve=null,Ne=!1,We=null,at=!1,xt=Error(m(519));function Xt(e){var t=Error(m(418,""));throw ia(Ht(t,e)),xt}function Yr(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[vt]=e,t[jt]=s,n){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(n=0;n<Xo.length;n++)ke(Xo[n],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),Nr(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Pn(t);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),Ui(t,s.value,s.defaultValue,s.children),Pn(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Bf(t.textContent,n)?(s.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),s.onScroll!=null&&ke("scroll",t),s.onScrollEnd!=null&&ke("scrollend",t),s.onClick!=null&&(t.onclick=Al),t=!0):t=!1,t||Xt(e)}function Xr(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 13:at=!1;return;case 27:case 3:at=!0;return;default:fe=fe.return}}function qa(e){if(e!==fe)return!1;if(!Ne)return Xr(e),Ne=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Pu(e.type,e.memoizedProps)),n=!n),n&&ve&&Xt(e),Xr(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){ve=Oi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}ve=null}}else t===27?(t=ve,va(e.type)?(e=Hu,Hu=null,ve=e):ve=t):ve=fe?Oi(e.stateNode.nextSibling):null;return!0}function ta(){ve=fe=null,Ne=!1}function Fr(){var e=We;return e!==null&&(Qt===null?Qt=e:Qt.push.apply(Qt,e),We=null),e}function ia(e){We===null?We=[e]:We.push(e)}var et=K(null),yi=null,Ci=null;function Vi(e,t,n){ee(et,t._currentValue),t._currentValue=n}function Ri(e){e._currentValue=et.current,C(et)}function Va(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function As(e,t,n,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var x=c.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=c;for(var j=0;j<t.length;j++)if(S.context===t[j]){f.lanes|=n,S=f.alternate,S!==null&&(S.lanes|=n),Va(f.return,n,e),s||(x=null);break e}f=S.next}}else if(c.tag===18){if(x=c.return,x===null)throw Error(m(341));x.lanes|=n,f=x.alternate,f!==null&&(f.lanes|=n),Va(x,n,e),x=null}else x=c.child;if(x!==null)x.return=c;else for(x=c;x!==null;){if(x===e){x=null;break}if(c=x.sibling,c!==null){c.return=x.return,x=c;break}x=x.return}c=x}}function Ya(e,t,n,s){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var x=c.alternate;if(x===null)throw Error(m(387));if(x=x.memoizedProps,x!==null){var S=c.type;Ut(c.pendingProps.value,x.value)||(e!==null?e.push(S):e=[S])}}else if(c===it.current){if(x=c.alternate,x===null)throw Error(m(387));x.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push($o):e=[$o])}c=c.return}e!==null&&As(t,e,n,s),t.flags|=262144}function Kr(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xa(e){yi=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return Ed(yi,e)}function Qr(e,t){return yi===null&&Xa(e),Ed(e,t)}function Ed(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ci===null){if(e===null)throw Error(m(308));Ci=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ci=Ci.next=t;return n}var gp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},vp=h.unstable_scheduleCallback,_p=h.unstable_NormalPriority,mt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new gp,data:new Map,refCount:0}}function So(e){e.refCount--,e.refCount===0&&vp(_p,function(){e.controller.abort()})}var No=null,Nc=0,Ms=0,js=null;function xp(e,t){if(No===null){var n=No=[];Nc=0,Ms=Au(),js={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Nc++,t.then(Ld,Ld),t}function Ld(){if(--Nc===0&&No!==null){js!==null&&(js.status="fulfilled");var e=No;No=null,Ms=0,js=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yp(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),s}var Sd=Y.S;Y.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&xp(e,t),Sd!==null&&Sd(e,t)};var Fa=K(null);function Tc(){var e=Fa.current;return e!==null?e:$e.pooledCache}function Jr(e,t){t===null?ee(Fa,Fa.current):ee(Fa,t.pool)}function Nd(){var e=Tc();return e===null?null:{parent:mt._currentValue,pool:e}}var To=Error(m(460)),Td=Error(m(474)),Wr=Error(m(542)),Ac={then:function(){}};function Ad(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $r(){}function Md(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then($r,$r),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e;default:if(typeof t.status=="string")t.then($r,$r);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(m(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e}throw Ao=t,To}}var Ao=null;function jd(){if(Ao===null)throw Error(m(459));var e=Ao;return Ao=null,e}function Cd(e){if(e===To||e===Wr)throw Error(m(483))}var na=!1;function Mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sa(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=Zi(e),Ga(e,null,n),t}return Ha(e,s,t,n),Zi(e)}function Mo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,yr(e,n)}}function Cc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var c=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var x={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?c=f=x:f=f.next=x,n=n.next}while(n!==null);f===null?c=f=t:f=f.next=t}else c=f=t;n={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Rc=!1;function jo(){if(Rc){var e=js;if(e!==null)throw e}}function Co(e,t,n,s){Rc=!1;var c=e.updateQueue;na=!1;var f=c.firstBaseUpdate,x=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var j=S,I=j.next;j.next=null,x===null?f=I:x.next=I,x=j;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==x&&(S===null?Q.firstBaseUpdate=I:S.next=I,Q.lastBaseUpdate=j))}if(f!==null){var te=c.baseState;x=0,Q=I=j=null,S=f;do{var Z=S.lane&-536870913,q=Z!==S.lane;if(q?(Pe&Z)===Z:(s&Z)===Z){Z!==0&&Z===Ms&&(Rc=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Le=e,we=S;Z=t;var Xe=n;switch(we.tag){case 1:if(Le=we.payload,typeof Le=="function"){te=Le.call(Xe,te,Z);break e}te=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=we.payload,Z=typeof Le=="function"?Le.call(Xe,te,Z):Le,Z==null)break e;te=N({},te,Z);break e;case 2:na=!0}}Z=S.callback,Z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[Z]:q.push(Z))}else q={lane:Z,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(I=Q=q,j=te):Q=Q.next=q,x|=Z;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;q=S,S=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);Q===null&&(j=te),c.baseState=j,c.firstBaseUpdate=I,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),fa|=x,e.lanes=x,e.memoizedState=te}}function Rd(e,t){if(typeof e!="function")throw Error(m(191,e));e.call(t)}function Dd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Rd(n[e],t)}var Cs=K(null),el=K(0);function Od(e,t){e=Tn,ee(el,e),ee(Cs,t),Tn=e|t.baseLanes}function Dc(){ee(el,Tn),ee(Cs,Cs.current)}function Oc(){Tn=el.current,C(Cs),C(el)}var oa=0,Ce=null,Ve=null,ht=null,tl=!1,Rs=!1,Ka=!1,il=0,Ro=0,Ds=null,bp=0;function lt(){throw Error(m(321))}function kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function zc(e,t,n,s,c,f){return oa=f,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?vh:_h,Ka=!1,f=n(s,c),Ka=!1,Rs&&(f=zd(t,n,s,c)),kd(e),f}function kd(e){Y.H=ll;var t=Ve!==null&&Ve.next!==null;if(oa=0,ht=Ve=Ce=null,tl=!1,Ro=0,Ds=null,t)throw Error(m(300));e===null||yt||(e=e.dependencies,e!==null&&Kr(e)&&(yt=!0))}function zd(e,t,n,s){Ce=e;var c=0;do{if(Rs&&(Ds=null),Ro=0,Rs=!1,25<=c)throw Error(m(301));if(c+=1,ht=Ve=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=Ap,f=t(n,s)}while(Rs);return f}function wp(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?Do(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(Ce.flags|=1024),t}function Pc(){var e=il!==0;return il=0,e}function Bc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Uc(e){if(tl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}tl=!1}oa=0,ht=Ve=Ce=null,Rs=!1,Ro=il=0,Ds=null}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ce.memoizedState=ht=e:ht=ht.next=e,ht}function ft(){if(Ve===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=ht===null?Ce.memoizedState:ht.next;if(t!==null)ht=t,Ve=e;else{if(e===null)throw Ce.alternate===null?Error(m(467)):Error(m(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},ht===null?Ce.memoizedState=ht=e:ht=ht.next=e}return ht}function Ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(e){var t=Ro;return Ro+=1,Ds===null&&(Ds=[]),e=Md(Ds,e,t),t=Ce,(ht===null?t.memoizedState:ht.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?vh:_h),e}function nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Do(e);if(e.$$typeof===G)return Dt(e)}throw Error(m(438,String(e)))}function Hc(e){var t=null,n=Ce.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=Ce.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ic(),Ce.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=me;return t.index++,n}function bn(e,t){return typeof t=="function"?t(e):t}function al(e){var t=ft();return Gc(t,Ve,e)}function Gc(e,t,n){var s=e.queue;if(s===null)throw Error(m(311));s.lastRenderedReducer=n;var c=e.baseQueue,f=s.pending;if(f!==null){if(c!==null){var x=c.next;c.next=f.next,f.next=x}t.baseQueue=c=f,s.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var S=x=null,j=null,I=t,Q=!1;do{var te=I.lane&-536870913;if(te!==I.lane?(Pe&te)===te:(oa&te)===te){var Z=I.revertLane;if(Z===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),te===Ms&&(Q=!0);else if((oa&Z)===Z){I=I.next,Z===Ms&&(Q=!0);continue}else te={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},j===null?(S=j=te,x=f):j=j.next=te,Ce.lanes|=Z,fa|=Z;te=I.action,Ka&&n(f,te),f=I.hasEagerState?I.eagerState:n(f,te)}else Z={lane:te,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},j===null?(S=j=Z,x=f):j=j.next=Z,Ce.lanes|=te,fa|=te;I=I.next}while(I!==null&&I!==t);if(j===null?x=f:j.next=S,!Ut(f,e.memoizedState)&&(yt=!0,Q&&(n=js,n!==null)))throw n;e.memoizedState=f,e.baseState=x,e.baseQueue=j,s.lastRenderedState=f}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Zc(e){var t=ft(),n=t.queue;if(n===null)throw Error(m(311));n.lastRenderedReducer=e;var s=n.dispatch,c=n.pending,f=t.memoizedState;if(c!==null){n.pending=null;var x=c=c.next;do f=e(f,x.action),x=x.next;while(x!==c);Ut(f,t.memoizedState)||(yt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,s]}function Pd(e,t,n){var s=Ce,c=ft(),f=Ne;if(f){if(n===void 0)throw Error(m(407));n=n()}else n=t();var x=!Ut((Ve||c).memoizedState,n);x&&(c.memoizedState=n,yt=!0),c=c.queue;var S=Id.bind(null,s,c,e);if(Oo(2048,8,S,[e]),c.getSnapshot!==t||x||ht!==null&&ht.memoizedState.tag&1){if(s.flags|=2048,Os(9,sl(),Ud.bind(null,s,c,n,t),null),$e===null)throw Error(m(349));f||(oa&124)!==0||Bd(s,t,n)}return n}function Bd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t=Ic(),Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ud(e,t,n,s){t.value=n,t.getSnapshot=s,Hd(t)&&Gd(e)}function Id(e,t,n){return n(function(){Hd(t)&&Gd(e)})}function Hd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function Gd(e){var t=$n(e,2);t!==null&&di(t,e,2)}function qc(e){var t=Ft();if(typeof e=="function"){var n=e;if(e=n(),Ka){Si(!0);try{n()}finally{Si(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:e},t}function Zd(e,t,n,s){return e.baseState=n,Gc(e,Ve,typeof s=="function"?s:bn)}function Ep(e,t,n,s,c){if(rl(e))throw Error(m(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};Y.T!==null?n(!0):f.isTransition=!1,s(f),n=t.pending,n===null?(f.next=t.pending=f,qd(t,f)):(f.next=n.next,t.pending=n.next=f)}}function qd(e,t){var n=t.action,s=t.payload,c=e.state;if(t.isTransition){var f=Y.T,x={};Y.T=x;try{var S=n(c,s),j=Y.S;j!==null&&j(x,S),Vd(e,t,S)}catch(I){Vc(e,t,I)}finally{Y.T=f}}else try{f=n(c,s),Vd(e,t,f)}catch(I){Vc(e,t,I)}}function Vd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Yd(e,t,s)},function(s){return Vc(e,t,s)}):Yd(e,t,n)}function Yd(e,t,n){t.status="fulfilled",t.value=n,Xd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,qd(e,n)))}function Vc(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Xd(t),t=t.next;while(t!==s)}e.action=null}function Xd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fd(e,t){return t}function Kd(e,t){if(Ne){var n=$e.formState;if(n!==null){e:{var s=Ce;if(Ne){if(ve){t:{for(var c=ve,f=at;c.nodeType!==8;){if(!f){c=null;break t}if(c=Oi(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ve=Oi(c.nextSibling),s=c.data==="F!";break e}}Xt(s)}s=!1}s&&(t=n[0])}}return n=Ft(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fd,lastRenderedState:t},n.queue=s,n=mh.bind(null,Ce,s),s.dispatch=n,s=qc(!1),f=Qc.bind(null,Ce,!1,s.queue),s=Ft(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,n=Ep.bind(null,Ce,c,f,n),c.dispatch=n,s.memoizedState=e,[t,n,!1]}function Qd(e){var t=ft();return Jd(t,Ve,e)}function Jd(e,t,n){if(t=Gc(e,t,Fd)[0],e=al(bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Do(t)}catch(x){throw x===To?Wr:x}else s=t;t=ft();var c=t.queue,f=c.dispatch;return n!==t.memoizedState&&(Ce.flags|=2048,Os(9,sl(),Lp.bind(null,c,n),null)),[s,f,e]}function Lp(e,t){e.action=t}function Wd(e){var t=ft(),n=Ve;if(n!==null)return Jd(t,n,e);ft(),t=t.memoizedState,n=ft();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function Os(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=Ic(),Ce.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function sl(){return{destroy:void 0,resource:void 0}}function $d(){return ft().memoizedState}function ol(e,t,n,s){var c=Ft();s=s===void 0?null:s,Ce.flags|=e,c.memoizedState=Os(1|t,sl(),n,s)}function Oo(e,t,n,s){var c=ft();s=s===void 0?null:s;var f=c.memoizedState.inst;Ve!==null&&s!==null&&kc(s,Ve.memoizedState.deps)?c.memoizedState=Os(t,f,n,s):(Ce.flags|=e,c.memoizedState=Os(1|t,f,n,s))}function eh(e,t){ol(8390656,8,e,t)}function th(e,t){Oo(2048,8,e,t)}function ih(e,t){return Oo(4,2,e,t)}function nh(e,t){return Oo(4,4,e,t)}function ah(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sh(e,t,n){n=n!=null?n.concat([e]):null,Oo(4,4,ah.bind(null,t,e),n)}function Yc(){}function oh(e,t){var n=ft();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&kc(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function rh(e,t){var n=ft();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&kc(t,s[1]))return s[0];if(s=e(),Ka){Si(!0);try{e()}finally{Si(!1)}}return n.memoizedState=[s,t],s}function Xc(e,t,n){return n===void 0||(oa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=df(),Ce.lanes|=e,fa|=e,n)}function lh(e,t,n,s){return Ut(n,t)?n:Cs.current!==null?(e=Xc(e,n,s),Ut(e,t)||(yt=!0),e):(oa&42)===0?(yt=!0,e.memoizedState=n):(e=df(),Ce.lanes|=e,fa|=e,t)}function ch(e,t,n,s,c){var f=ue.p;ue.p=f!==0&&8>f?f:8;var x=Y.T,S={};Y.T=S,Qc(e,!1,t,n);try{var j=c(),I=Y.S;if(I!==null&&I(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Q=yp(j,s);ko(e,t,Q,ui(e))}else ko(e,t,s,ui(e))}catch(te){ko(e,t,{then:function(){},status:"rejected",reason:te},ui())}finally{ue.p=f,Y.T=x}}function Sp(){}function Fc(e,t,n,s){if(e.tag!==5)throw Error(m(476));var c=uh(e).queue;ch(e,c,t,se,n===null?Sp:function(){return dh(e),n(s)})}function uh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:se},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dh(e){var t=uh(e).next.queue;ko(e,t,{},ui())}function Kc(){return Dt($o)}function hh(){return ft().memoizedState}function fh(){return ft().memoizedState}function Np(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ui();e=aa(n);var s=sa(t,e,n);s!==null&&(di(s,t,n),Mo(s,t,n)),t={cache:Sc()},e.payload=t;return}t=t.return}}function Tp(e,t,n){var s=ui();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e)?ph(t,n):(n=_n(e,t,n,s),n!==null&&(di(n,e,s),gh(n,t,s)))}function mh(e,t,n){var s=ui();ko(e,t,n,s)}function ko(e,t,n,s){var c={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))ph(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var x=t.lastRenderedState,S=f(x,n);if(c.hasEagerState=!0,c.eagerState=S,Ut(S,x))return Ha(e,t,c,0),$e===null&&Ia(),!1}catch{}finally{}if(n=_n(e,t,c,s),n!==null)return di(n,e,s),gh(n,t,s),!0}return!1}function Qc(e,t,n,s){if(s={lane:2,revertLane:Au(),action:s,hasEagerState:!1,eagerState:null,next:null},rl(e)){if(t)throw Error(m(479))}else t=_n(e,n,s,2),t!==null&&di(t,e,2)}function rl(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function ph(e,t){Rs=tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gh(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,yr(e,n)}}var ll={readContext:Dt,use:nl,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},vh={readContext:Dt,use:nl,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:eh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ol(4194308,4,ah.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ol(4194308,4,e,t)},useInsertionEffect:function(e,t){ol(4,2,e,t)},useMemo:function(e,t){var n=Ft();t=t===void 0?null:t;var s=e();if(Ka){Si(!0);try{e()}finally{Si(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Ft();if(n!==void 0){var c=n(t);if(Ka){Si(!0);try{n(t)}finally{Si(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=Tp.bind(null,Ce,e),[s.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:function(e){e=qc(e);var t=e.queue,n=mh.bind(null,Ce,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Yc,useDeferredValue:function(e,t){var n=Ft();return Xc(n,e,t)},useTransition:function(){var e=qc(!1);return e=ch.bind(null,Ce,e.queue,!0,!1),Ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=Ce,c=Ft();if(Ne){if(n===void 0)throw Error(m(407));n=n()}else{if(n=t(),$e===null)throw Error(m(349));(Pe&124)!==0||Bd(s,t,n)}c.memoizedState=n;var f={value:n,getSnapshot:t};return c.queue=f,eh(Id.bind(null,s,f,e),[e]),s.flags|=2048,Os(9,sl(),Ud.bind(null,s,f,n,t),null),n},useId:function(){var e=Ft(),t=$e.identifierPrefix;if(Ne){var n=M,s=E;n=(s&~(1<<32-Pt(s)-1)).toString(32)+n,t="«"+t+"R"+n,n=il++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=bp++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Kc,useFormState:Kd,useActionState:Kd,useOptimistic:function(e){var t=Ft();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Qc.bind(null,Ce,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hc,useCacheRefresh:function(){return Ft().memoizedState=Np.bind(null,Ce)}},_h={readContext:Dt,use:nl,useCallback:oh,useContext:Dt,useEffect:th,useImperativeHandle:sh,useInsertionEffect:ih,useLayoutEffect:nh,useMemo:rh,useReducer:al,useRef:$d,useState:function(){return al(bn)},useDebugValue:Yc,useDeferredValue:function(e,t){var n=ft();return lh(n,Ve.memoizedState,e,t)},useTransition:function(){var e=al(bn)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Do(e),t]},useSyncExternalStore:Pd,useId:hh,useHostTransitionStatus:Kc,useFormState:Qd,useActionState:Qd,useOptimistic:function(e,t){var n=ft();return Zd(n,Ve,e,t)},useMemoCache:Hc,useCacheRefresh:fh},Ap={readContext:Dt,use:nl,useCallback:oh,useContext:Dt,useEffect:th,useImperativeHandle:sh,useInsertionEffect:ih,useLayoutEffect:nh,useMemo:rh,useReducer:Zc,useRef:$d,useState:function(){return Zc(bn)},useDebugValue:Yc,useDeferredValue:function(e,t){var n=ft();return Ve===null?Xc(n,e,t):lh(n,Ve.memoizedState,e,t)},useTransition:function(){var e=Zc(bn)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:Do(e),t]},useSyncExternalStore:Pd,useId:hh,useHostTransitionStatus:Kc,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var n=ft();return Ve!==null?Zd(n,Ve,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hc,useCacheRefresh:fh},ks=null,zo=0;function cl(e){var t=zo;return zo+=1,ks===null&&(ks=[]),Md(ks,e,t)}function Po(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ul(e,t){throw t.$$typeof===T?Error(m(525)):(e=Object.prototype.toString.call(t),Error(m(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function xh(e){var t=e._init;return t(e._payload)}function yh(e){function t(z,D){if(e){var U=z.deletions;U===null?(z.deletions=[D],z.flags|=16):U.push(D)}}function n(z,D){if(!e)return null;for(;D!==null;)t(z,D),D=D.sibling;return null}function s(z){for(var D=new Map;z!==null;)z.key!==null?D.set(z.key,z):D.set(z.index,z),z=z.sibling;return D}function c(z,D){return z=xi(z,D),z.index=0,z.sibling=null,z}function f(z,D,U){return z.index=U,e?(U=z.alternate,U!==null?(U=U.index,U<D?(z.flags|=67108866,D):U):(z.flags|=67108866,D)):(z.flags|=1048576,D)}function x(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function S(z,D,U,$){return D===null||D.tag!==6?(D=Lo(U,z.mode,$),D.return=z,D):(D=c(D,U),D.return=z,D)}function j(z,D,U,$){var pe=U.type;return pe===H?Q(z,D,U.props.children,$,U.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ye&&xh(pe)===D.type)?(D=c(D,U.props),Po(D,U),D.return=z,D):(D=Za(U.type,U.key,U.props,null,z.mode,$),Po(D,U),D.return=z,D)}function I(z,D,U,$){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Ts(U,z.mode,$),D.return=z,D):(D=c(D,U.children||[]),D.return=z,D)}function Q(z,D,U,$,pe){return D===null||D.tag!==7?(D=qi(U,z.mode,$,pe),D.return=z,D):(D=c(D,U),D.return=z,D)}function te(z,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Lo(""+D,z.mode,U),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case k:return U=Za(D.type,D.key,D.props,null,z.mode,U),Po(U,D),U.return=z,U;case P:return D=Ts(D,z.mode,U),D.return=z,D;case ye:var $=D._init;return D=$(D._payload),te(z,D,U)}if(qe(D)||Se(D))return D=qi(D,z.mode,U,null),D.return=z,D;if(typeof D.then=="function")return te(z,cl(D),U);if(D.$$typeof===G)return te(z,Qr(z,D),U);ul(z,D)}return null}function Z(z,D,U,$){var pe=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pe!==null?null:S(z,D,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return U.key===pe?j(z,D,U,$):null;case P:return U.key===pe?I(z,D,U,$):null;case ye:return pe=U._init,U=pe(U._payload),Z(z,D,U,$)}if(qe(U)||Se(U))return pe!==null?null:Q(z,D,U,$,null);if(typeof U.then=="function")return Z(z,D,cl(U),$);if(U.$$typeof===G)return Z(z,D,Qr(z,U),$);ul(z,U)}return null}function q(z,D,U,$,pe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(U)||null,S(D,z,""+$,pe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return z=z.get($.key===null?U:$.key)||null,j(D,z,$,pe);case P:return z=z.get($.key===null?U:$.key)||null,I(D,z,$,pe);case ye:var De=$._init;return $=De($._payload),q(z,D,U,$,pe)}if(qe($)||Se($))return z=z.get(U)||null,Q(D,z,$,pe,null);if(typeof $.then=="function")return q(z,D,U,cl($),pe);if($.$$typeof===G)return q(z,D,U,Qr(D,$),pe);ul(D,$)}return null}function Le(z,D,U,$){for(var pe=null,De=null,be=D,Ee=D=0,wt=null;be!==null&&Ee<U.length;Ee++){be.index>Ee?(wt=be,be=null):wt=be.sibling;var He=Z(z,be,U[Ee],$);if(He===null){be===null&&(be=wt);break}e&&be&&He.alternate===null&&t(z,be),D=f(He,D,Ee),De===null?pe=He:De.sibling=He,De=He,be=wt}if(Ee===U.length)return n(z,be),Ne&&B(z,Ee),pe;if(be===null){for(;Ee<U.length;Ee++)be=te(z,U[Ee],$),be!==null&&(D=f(be,D,Ee),De===null?pe=be:De.sibling=be,De=be);return Ne&&B(z,Ee),pe}for(be=s(be);Ee<U.length;Ee++)wt=q(be,z,Ee,U[Ee],$),wt!==null&&(e&&wt.alternate!==null&&be.delete(wt.key===null?Ee:wt.key),D=f(wt,D,Ee),De===null?pe=wt:De.sibling=wt,De=wt);return e&&be.forEach(function(wa){return t(z,wa)}),Ne&&B(z,Ee),pe}function we(z,D,U,$){if(U==null)throw Error(m(151));for(var pe=null,De=null,be=D,Ee=D=0,wt=null,He=U.next();be!==null&&!He.done;Ee++,He=U.next()){be.index>Ee?(wt=be,be=null):wt=be.sibling;var wa=Z(z,be,He.value,$);if(wa===null){be===null&&(be=wt);break}e&&be&&wa.alternate===null&&t(z,be),D=f(wa,D,Ee),De===null?pe=wa:De.sibling=wa,De=wa,be=wt}if(He.done)return n(z,be),Ne&&B(z,Ee),pe;if(be===null){for(;!He.done;Ee++,He=U.next())He=te(z,He.value,$),He!==null&&(D=f(He,D,Ee),De===null?pe=He:De.sibling=He,De=He);return Ne&&B(z,Ee),pe}for(be=s(be);!He.done;Ee++,He=U.next())He=q(be,z,Ee,He.value,$),He!==null&&(e&&He.alternate!==null&&be.delete(He.key===null?Ee:He.key),D=f(He,D,Ee),De===null?pe=He:De.sibling=He,De=He);return e&&be.forEach(function(Mg){return t(z,Mg)}),Ne&&B(z,Ee),pe}function Xe(z,D,U,$){if(typeof U=="object"&&U!==null&&U.type===H&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case k:e:{for(var pe=U.key;D!==null;){if(D.key===pe){if(pe=U.type,pe===H){if(D.tag===7){n(z,D.sibling),$=c(D,U.props.children),$.return=z,z=$;break e}}else if(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ye&&xh(pe)===D.type){n(z,D.sibling),$=c(D,U.props),Po($,U),$.return=z,z=$;break e}n(z,D);break}else t(z,D);D=D.sibling}U.type===H?($=qi(U.props.children,z.mode,$,U.key),$.return=z,z=$):($=Za(U.type,U.key,U.props,null,z.mode,$),Po($,U),$.return=z,z=$)}return x(z);case P:e:{for(pe=U.key;D!==null;){if(D.key===pe)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){n(z,D.sibling),$=c(D,U.children||[]),$.return=z,z=$;break e}else{n(z,D);break}else t(z,D);D=D.sibling}$=Ts(U,z.mode,$),$.return=z,z=$}return x(z);case ye:return pe=U._init,U=pe(U._payload),Xe(z,D,U,$)}if(qe(U))return Le(z,D,U,$);if(Se(U)){if(pe=Se(U),typeof pe!="function")throw Error(m(150));return U=pe.call(U),we(z,D,U,$)}if(typeof U.then=="function")return Xe(z,D,cl(U),$);if(U.$$typeof===G)return Xe(z,D,Qr(z,U),$);ul(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(n(z,D.sibling),$=c(D,U),$.return=z,z=$):(n(z,D),$=Lo(U,z.mode,$),$.return=z,z=$),x(z)):n(z,D)}return function(z,D,U,$){try{zo=0;var pe=Xe(z,D,U,$);return ks=null,pe}catch(be){if(be===To||be===Wr)throw be;var De=Zt(29,be,null,z.mode);return De.lanes=$,De.return=z,De}finally{}}}var zs=yh(!0),bh=yh(!1),bi=K(null),Yi=null;function ra(e){var t=e.alternate;ee(pt,pt.current&1),ee(bi,e),Yi===null&&(t===null||Cs.current!==null||t.memoizedState!==null)&&(Yi=e)}function wh(e){if(e.tag===22){if(ee(pt,pt.current),ee(bi,e),Yi===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Yi=e)}}else la()}function la(){ee(pt,pt.current),ee(bi,bi.current)}function wn(e){C(bi),Yi===e&&(Yi=null),C(pt)}var pt=K(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Iu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Jc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:N({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wc={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ui(),c=aa(s);c.payload=t,n!=null&&(c.callback=n),t=sa(e,c,s),t!==null&&(di(t,e,s),Mo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ui(),c=aa(s);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=sa(e,c,s),t!==null&&(di(t,e,s),Mo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ui(),s=aa(n);s.tag=2,t!=null&&(s.callback=t),t=sa(e,s,n),t!==null&&(di(t,e,n),Mo(t,e,n))}};function Eh(e,t,n,s,c,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,x):t.prototype&&t.prototype.isPureReactComponent?!It(n,s)||!It(c,f):!0}function Lh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Wc.enqueueReplaceState(t,t.state,null)}function Qa(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=N({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}var hl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sh(e){hl(e)}function Nh(e){console.error(e)}function Th(e){hl(e)}function fl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Ah(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function $c(e,t,n){return n=aa(n),n.tag=3,n.payload={element:null},n.callback=function(){fl(e,t)},n}function Mh(e){return e=aa(e),e.tag=3,e}function jh(e,t,n,s){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;e.payload=function(){return c(f)},e.callback=function(){Ah(t,n,s)}}var x=n.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Ah(t,n,s),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})})}function Mp(e,t,n,s,c){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Ya(t,n,c,!0),n=bi.current,n!==null){switch(n.tag){case 13:return Yi===null?Eu():n.alternate===null&&rt===0&&(rt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,s===Ac?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Su(e,s,c)),!1;case 22:return n.flags|=65536,s===Ac?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Su(e,s,c)),!1}throw Error(m(435,n.tag))}return Su(e,s,c),Eu(),!1}if(Ne)return t=bi.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==xt&&(e=Error(m(422),{cause:s}),ia(Ht(e,n)))):(s!==xt&&(t=Error(m(423),{cause:s}),ia(Ht(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=Ht(s,n),c=$c(e.stateNode,s,c),Cc(e,c),rt!==4&&(rt=2)),!1;var f=Error(m(520),{cause:s});if(f=Ht(f,n),qo===null?qo=[f]:qo.push(f),rt!==4&&(rt=2),t===null)return!0;s=Ht(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=$c(n.stateNode,s,e),Cc(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Mh(c),jh(c,e,n,s),Cc(n,c),!1}n=n.return}while(n!==null);return!1}var Ch=Error(m(461)),yt=!1;function Nt(e,t,n,s){t.child=e===null?bh(t,null,n,s):zs(t,e.child,n,s)}function Rh(e,t,n,s,c){n=n.render;var f=t.ref;if("ref"in s){var x={};for(var S in s)S!=="ref"&&(x[S]=s[S])}else x=s;return Xa(t),s=zc(e,t,n,x,f,c),S=Pc(),e!==null&&!yt?(Bc(e,t,c),En(e,t,c)):(Ne&&S&&ie(t),t.flags|=1,Nt(e,t,s,c),t.child)}function Dh(e,t,n,s,c){if(e===null){var f=n.type;return typeof f=="function"&&!Ns(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,Oh(e,t,f,s,c)):(e=Za(n.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!ru(e,c)){var x=f.memoizedProps;if(n=n.compare,n=n!==null?n:It,n(x,s)&&e.ref===t.ref)return En(e,t,c)}return t.flags|=1,e=xi(f,s),e.ref=t.ref,e.return=t,t.child=e}function Oh(e,t,n,s,c){if(e!==null){var f=e.memoizedProps;if(It(f,s)&&e.ref===t.ref)if(yt=!1,t.pendingProps=s=f,ru(e,c))(e.flags&131072)!==0&&(yt=!0);else return t.lanes=e.lanes,En(e,t,c)}return eu(e,t,n,s,c)}function kh(e,t,n){var s=t.pendingProps,c=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=f!==null?f.baseLanes|n:n,e!==null){for(c=t.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;t.childLanes=f&~s}else t.childLanes=0,t.child=null;return zh(e,t,s,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jr(t,f!==null?f.cachePool:null),f!==null?Od(t,f):Dc(),wh(t);else return t.lanes=t.childLanes=536870912,zh(e,t,f!==null?f.baseLanes|n:n,n)}else f!==null?(Jr(t,f.cachePool),Od(t,f),la(),t.memoizedState=null):(e!==null&&Jr(t,null),Dc(),la());return Nt(e,t,c,n),t.child}function zh(e,t,n,s){var c=Tc();return c=c===null?null:{parent:mt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&Jr(t,null),Dc(),wh(t),e!==null&&Ya(e,t,s,!0),null}function ml(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(m(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function eu(e,t,n,s,c){return Xa(t),n=zc(e,t,n,s,void 0,c),s=Pc(),e!==null&&!yt?(Bc(e,t,c),En(e,t,c)):(Ne&&s&&ie(t),t.flags|=1,Nt(e,t,n,c),t.child)}function Ph(e,t,n,s,c,f){return Xa(t),t.updateQueue=null,n=zd(t,s,n,c),kd(e),s=Pc(),e!==null&&!yt?(Bc(e,t,f),En(e,t,f)):(Ne&&s&&ie(t),t.flags|=1,Nt(e,t,n,f),t.child)}function Bh(e,t,n,s,c){if(Xa(t),t.stateNode===null){var f=xn,x=n.contextType;typeof x=="object"&&x!==null&&(f=Dt(x)),f=new n(s,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=s,f.state=t.memoizedState,f.refs={},Mc(t),x=n.contextType,f.context=typeof x=="object"&&x!==null?Dt(x):xn,f.state=t.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(Jc(t,n,x,s),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&Wc.enqueueReplaceState(f,f.state,null),Co(t,s,f,c),jo(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){f=t.stateNode;var S=t.memoizedProps,j=Qa(n,S);f.props=j;var I=f.context,Q=n.contextType;x=xn,typeof Q=="object"&&Q!==null&&(x=Dt(Q));var te=n.getDerivedStateFromProps;Q=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||I!==x)&&Lh(t,f,s,x),na=!1;var Z=t.memoizedState;f.state=Z,Co(t,s,f,c),jo(),I=t.memoizedState,S||Z!==I||na?(typeof te=="function"&&(Jc(t,n,te,s),I=t.memoizedState),(j=na||Eh(t,n,j,s,Z,I,x))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=I),f.props=s,f.state=I,f.context=x,s=j):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,jc(e,t),x=t.memoizedProps,Q=Qa(n,x),f.props=Q,te=t.pendingProps,Z=f.context,I=n.contextType,j=xn,typeof I=="object"&&I!==null&&(j=Dt(I)),S=n.getDerivedStateFromProps,(I=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==te||Z!==j)&&Lh(t,f,s,j),na=!1,Z=t.memoizedState,f.state=Z,Co(t,s,f,c),jo();var q=t.memoizedState;x!==te||Z!==q||na||e!==null&&e.dependencies!==null&&Kr(e.dependencies)?(typeof S=="function"&&(Jc(t,n,S,s),q=t.memoizedState),(Q=na||Eh(t,n,Q,s,Z,q,j)||e!==null&&e.dependencies!==null&&Kr(e.dependencies))?(I||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,q,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,q,j)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=q),f.props=s,f.state=q,f.context=j,s=Q):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),s=!1)}return f=s,ml(e,t),s=(t.flags&128)!==0,f||s?(f=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&s?(t.child=zs(t,e.child,null,c),t.child=zs(t,null,n,c)):Nt(e,t,n,c),t.memoizedState=f.state,e=t.child):e=En(e,t,c),e}function Uh(e,t,n,s){return ta(),t.flags|=256,Nt(e,t,n,s),t.child}var tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(e){return{baseLanes:e,cachePool:Nd()}}function nu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=wi),e}function Ih(e,t,n){var s=t.pendingProps,c=!1,f=(t.flags&128)!==0,x;if((x=f)||(x=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),x&&(c=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(c?ra(t):la(),Ne){var S=ve,j;if(j=S){e:{for(j=S,S=at;j.nodeType!==8;){if(!S){S=null;break e}if(j=Oi(j.nextSibling),j===null){S=null;break e}}S=j}S!==null?(t.memoizedState={dehydrated:S,treeContext:_!==null?{id:E,overflow:M}:null,retryLane:536870912,hydrationErrors:null},j=Zt(18,null,null,0),j.stateNode=S,j.return=t,t.child=j,fe=t,ve=null,j=!0):j=!1}j||Xt(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Iu(S)?t.lanes=32:t.lanes=536870912,null;wn(t)}return S=s.children,s=s.fallback,c?(la(),c=t.mode,S=pl({mode:"hidden",children:S},c),s=qi(s,c,n,null),S.return=t,s.return=t,S.sibling=s,t.child=S,c=t.child,c.memoizedState=iu(n),c.childLanes=nu(e,x,n),t.memoizedState=tu,s):(ra(t),au(t,S))}if(j=e.memoizedState,j!==null&&(S=j.dehydrated,S!==null)){if(f)t.flags&256?(ra(t),t.flags&=-257,t=su(e,t,n)):t.memoizedState!==null?(la(),t.child=e.child,t.flags|=128,t=null):(la(),c=s.fallback,S=t.mode,s=pl({mode:"visible",children:s.children},S),c=qi(c,S,n,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,zs(t,e.child,null,n),s=t.child,s.memoizedState=iu(n),s.childLanes=nu(e,x,n),t.memoizedState=tu,t=c);else if(ra(t),Iu(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var I=x.dgst;x=I,s=Error(m(419)),s.stack="",s.digest=x,ia({value:s,source:null,stack:null}),t=su(e,t,n)}else if(yt||Ya(e,t,n,!1),x=(n&e.childLanes)!==0,yt||x){if(x=$e,x!==null&&(s=n&-n,s=(s&42)!==0?1:no(s),s=(s&(x.suspendedLanes|n))!==0?0:s,s!==0&&s!==j.retryLane))throw j.retryLane=s,$n(e,s),di(x,e,s),Ch;S.data==="$?"||Eu(),t=su(e,t,n)}else S.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,ve=Oi(S.nextSibling),fe=t,Ne=!0,We=null,at=!1,e!==null&&(l[p++]=E,l[p++]=M,l[p++]=_,E=e.id,M=e.overflow,_=t),t=au(t,s.children),t.flags|=4096);return t}return c?(la(),c=s.fallback,S=t.mode,j=e.child,I=j.sibling,s=xi(j,{mode:"hidden",children:s.children}),s.subtreeFlags=j.subtreeFlags&65011712,I!==null?c=xi(I,c):(c=qi(c,S,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,S=e.child.memoizedState,S===null?S=iu(n):(j=S.cachePool,j!==null?(I=mt._currentValue,j=j.parent!==I?{parent:I,pool:I}:j):j=Nd(),S={baseLanes:S.baseLanes|n,cachePool:j}),c.memoizedState=S,c.childLanes=nu(e,x,n),t.memoizedState=tu,s):(ra(t),n=e.child,e=n.sibling,n=xi(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=n,t.memoizedState=null,n)}function au(e,t){return t=pl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function pl(e,t){return e=Zt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function su(e,t,n){return zs(t,e.child,null,n),e=au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Va(e.return,t,n)}function ou(e,t,n,s,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=n,f.tailMode=c)}function Gh(e,t,n){var s=t.pendingProps,c=s.revealOrder,f=s.tail;if(Nt(e,t,s.children,n),s=pt.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hh(e,n,t);else if(e.tag===19)Hh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(ee(pt,s),c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&dl(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),ou(t,!1,c,n,f);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&dl(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}ou(t,!0,n,null,f);break;case"together":ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fa|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ya(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(m(153));if(t.child!==null){for(e=t.child,n=xi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ru(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Kr(e)))}function jp(e,t,n){switch(t.tag){case 3:Be(t,t.stateNode.containerInfo),Vi(t,mt,e.memoizedState.cache),ta();break;case 27:case 5:Ea(t);break;case 4:Be(t,t.stateNode.containerInfo);break;case 10:Vi(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ra(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ih(e,t,n):(ra(t),e=En(e,t,n),e!==null?e.sibling:null);ra(t);break;case 19:var c=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Ya(e,t,n,!1),s=(n&t.childLanes)!==0),c){if(s)return Gh(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ee(pt,pt.current),s)break;return null;case 22:case 23:return t.lanes=0,kh(e,t,n);case 24:Vi(t,mt,e.memoizedState.cache)}return En(e,t,n)}function Zh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)yt=!0;else{if(!ru(e,n)&&(t.flags&128)===0)return yt=!1,jp(e,t,n);yt=(e.flags&131072)!==0}else yt=!1,Ne&&(t.flags&1048576)!==0&&V(t,a,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,c=s._init;if(s=c(s._payload),t.type=s,typeof s=="function")Ns(s)?(e=Qa(s,e),t.tag=1,t=Bh(null,t,s,e,n)):(t.tag=0,t=eu(null,t,s,e,n));else{if(s!=null){if(c=s.$$typeof,c===ne){t.tag=11,t=Rh(null,t,s,e,n);break e}else if(c===oe){t.tag=14,t=Dh(null,t,s,e,n);break e}}throw t=Fe(s)||s,Error(m(306,t,""))}}return t;case 0:return eu(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,c=Qa(s,t.pendingProps),Bh(e,t,s,c,n);case 3:e:{if(Be(t,t.stateNode.containerInfo),e===null)throw Error(m(387));s=t.pendingProps;var f=t.memoizedState;c=f.element,jc(e,t),Co(t,s,null,n);var x=t.memoizedState;if(s=x.cache,Vi(t,mt,s),s!==f.cache&&As(t,[mt],n,!0),jo(),s=x.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Uh(e,t,s,n);break e}else if(s!==c){c=Ht(Error(m(424)),t),ia(c),t=Uh(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ve=Oi(e.firstChild),fe=t,Ne=!0,We=null,at=!0,n=bh(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ta(),s===c){t=En(e,t,n);break e}Nt(e,t,s,n)}t=t.child}return t;case 26:return ml(e,t),e===null?(n=Ff(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ne||(n=t.type,e=t.pendingProps,s=Ml(de.current).createElement(n),s[vt]=t,s[jt]=e,At(s,n,e),dt(s),t.stateNode=s):t.memoizedState=Ff(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ea(t),e===null&&Ne&&(s=t.stateNode=Vf(t.type,t.pendingProps,de.current),fe=t,at=!0,c=ve,va(t.type)?(Hu=c,ve=Oi(s.firstChild)):ve=c),Nt(e,t,t.pendingProps.children,n),ml(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((c=s=ve)&&(s=ag(s,t.type,t.pendingProps,at),s!==null?(t.stateNode=s,fe=t,ve=Oi(s.firstChild),at=!1,c=!0):c=!1),c||Xt(t)),Ea(t),c=t.type,f=t.pendingProps,x=e!==null?e.memoizedProps:null,s=f.children,Pu(c,f)?s=null:x!==null&&Pu(c,x)&&(t.flags|=32),t.memoizedState!==null&&(c=zc(e,t,wp,null,null,n),$o._currentValue=c),ml(e,t),Nt(e,t,s,n),t.child;case 6:return e===null&&Ne&&((e=n=ve)&&(n=sg(n,t.pendingProps,at),n!==null?(t.stateNode=n,fe=t,ve=null,e=!0):e=!1),e||Xt(t)),null;case 13:return Ih(e,t,n);case 4:return Be(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=zs(t,null,s,n):Nt(e,t,s,n),t.child;case 11:return Rh(e,t,t.type,t.pendingProps,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Vi(t,t.type,s.value),Nt(e,t,s.children,n),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,Xa(t),c=Dt(c),s=s(c),t.flags|=1,Nt(e,t,s,n),t.child;case 14:return Dh(e,t,t.type,t.pendingProps,n);case 15:return Oh(e,t,t.type,t.pendingProps,n);case 19:return Gh(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=pl(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=xi(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return kh(e,t,n);case 24:return Xa(t),s=Dt(mt),e===null?(c=Tc(),c===null&&(c=$e,f=Sc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=n),c=f),t.memoizedState={parent:s,cache:c},Mc(t),Vi(t,mt,c)):((e.lanes&n)!==0&&(jc(e,t),Co(t,null,null,n),jo()),c=e.memoizedState,f=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Vi(t,mt,s)):(s=f.cache,Vi(t,mt,s),s!==c.cache&&As(t,[mt],n,!0))),Nt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(m(156,t.tag))}function Ln(e){e.flags|=4}function qh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$f(t)){if(t=bi.current,t!==null&&((Pe&4194048)===Pe?Yi!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||t!==Yi))throw Ao=Ac,Td;e.flags|=8192}}function gl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?io():536870912,e.lanes|=t,Is|=t)}function Bo(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Cp(e,t,n){var s=t.pendingProps;switch(he(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return st(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ri(mt),Li(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qa(t)?Ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fr())),st(t),null;case 26:return n=t.memoizedState,e===null?(Ln(t),n!==null?(st(t),qh(t,n)):(st(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ln(t),st(t),qh(t,n)):(st(t),t.flags&=-16777217):(e.memoizedProps!==s&&Ln(t),st(t),t.flags&=-16777217),null;case 27:Mn(t),n=de.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ln(t);else{if(!s){if(t.stateNode===null)throw Error(m(166));return st(t),null}e=re.current,qa(t)?Yr(t):(e=Vf(c,s,n),t.stateNode=e,Ln(t))}return st(t),null;case 5:if(Mn(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ln(t);else{if(!s){if(t.stateNode===null)throw Error(m(166));return st(t),null}if(e=re.current,qa(t))Yr(t);else{switch(c=Ml(de.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?c.createElement("select",{is:s.is}):c.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?c.createElement(n,{is:s.is}):c.createElement(n)}}e[vt]=t,e[jt]=s;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(At(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ln(t)}}return st(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Ln(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(m(166));if(e=de.current,qa(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,c=fe,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[vt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Bf(e.nodeValue,n)),e||Xt(t)}else e=Ml(e).createTextNode(s),e[vt]=t,t.stateNode=e}return st(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=qa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(m(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(m(317));c[vt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;st(t),c=!1}else c=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(wn(t),t):(wn(t),null)}if(wn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool);var f=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),gl(t,t.updateQueue),st(t),null;case 4:return Li(),e===null&&Ru(t.stateNode.containerInfo),st(t),null;case 10:return Ri(t.type),st(t),null;case 19:if(C(pt),c=t.memoizedState,c===null)return st(t),null;if(s=(t.flags&128)!==0,f=c.rendering,f===null)if(s)Bo(c,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=dl(e),f!==null){for(t.flags|=128,Bo(c,!1),e=f.updateQueue,t.updateQueue=e,gl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Eo(n,e),n=n.sibling;return ee(pt,pt.current&1|2),t.child}e=e.sibling}c.tail!==null&&qt()>xl&&(t.flags|=128,s=!0,Bo(c,!1),t.lanes=4194304)}else{if(!s)if(e=dl(f),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,gl(t,e),Bo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ne)return st(t),null}else 2*qt()-c.renderingStartTime>xl&&n!==536870912&&(t.flags|=128,s=!0,Bo(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(e=c.last,e!==null?e.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=qt(),t.sibling=null,e=pt.current,ee(pt,s?e&1|2:e&1),t):(st(t),null);case 22:case 23:return wn(t),Oc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),n=t.updateQueue,n!==null&&gl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&C(Fa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ri(mt),st(t),null;case 25:return null;case 30:return null}throw Error(m(156,t.tag))}function Rp(e,t){switch(he(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ri(mt),Li(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Mn(t),null;case 13:if(wn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(m(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return C(pt),null;case 4:return Li(),null;case 10:return Ri(t.type),null;case 22:case 23:return wn(t),Oc(),e!==null&&C(Fa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ri(mt),null;case 25:return null;default:return null}}function Vh(e,t){switch(he(t),t.tag){case 3:Ri(mt),Li();break;case 26:case 27:case 5:Mn(t);break;case 4:Li();break;case 13:wn(t);break;case 19:C(pt);break;case 10:Ri(t.type);break;case 22:case 23:wn(t),Oc(),e!==null&&C(Fa);break;case 24:Ri(mt)}}function Uo(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var c=s.next;n=c;do{if((n.tag&e)===e){s=void 0;var f=n.create,x=n.inst;s=f(),x.destroy=s}n=n.next}while(n!==c)}}catch(S){Ke(t,t.return,S)}}function ca(e,t,n){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var f=c.next;s=f;do{if((s.tag&e)===e){var x=s.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,c=t;var j=n,I=S;try{I()}catch(Q){Ke(c,j,Q)}}}s=s.next}while(s!==f)}}catch(Q){Ke(t,t.return,Q)}}function Yh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Dd(t,n)}catch(s){Ke(e,e.return,s)}}}function Xh(e,t,n){n.props=Qa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ke(e,t,s)}}function Io(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(c){Ke(e,t,c)}}function Xi(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(c){Ke(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Ke(e,t,c)}else n.current=null}function Fh(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(c){Ke(e,e.return,c)}}function lu(e,t,n){try{var s=e.stateNode;$p(s,e.type,n,t),s[jt]=t}catch(c){Ke(e,e.return,c)}}function Kh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&va(e.type)||e.tag===4}function cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Al));else if(s!==4&&(s===27&&va(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(uu(e,t,n),e=e.sibling;e!==null;)uu(e,t,n),e=e.sibling}function vl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&va(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(vl(e,t,n),e=e.sibling;e!==null;)vl(e,t,n),e=e.sibling}function Qh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);At(t,s,n),t[vt]=e,t[jt]=n}catch(f){Ke(e,e.return,f)}}var Sn=!1,ct=!1,du=!1,Jh=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Dp(e,t){if(e=e.containerInfo,ku=kl,e=Pa(e),Ba(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var c=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var x=0,S=-1,j=-1,I=0,Q=0,te=e,Z=null;t:for(;;){for(var q;te!==n||c!==0&&te.nodeType!==3||(S=x+c),te!==f||s!==0&&te.nodeType!==3||(j=x+s),te.nodeType===3&&(x+=te.nodeValue.length),(q=te.firstChild)!==null;)Z=te,te=q;for(;;){if(te===e)break t;if(Z===n&&++I===c&&(S=x),Z===f&&++Q===s&&(j=x),(q=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=q}n=S===-1||j===-1?null:{start:S,end:j}}else n=null}n=n||{start:0,end:0}}else n=null;for(zu={focusedElem:e,selectionRange:n},kl=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,c=f.memoizedProps,f=f.memoizedState,s=n.stateNode;try{var Le=Qa(n.type,c,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(Le,f),s.__reactInternalSnapshotBeforeUpdate=e}catch(we){Ke(n,n.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Uu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(m(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function Wh(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:ua(e,n),s&4&&Uo(5,n);break;case 1:if(ua(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(x){Ke(n,n.return,x)}else{var c=Qa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ke(n,n.return,x)}}s&64&&Yh(n),s&512&&Io(n,n.return);break;case 3:if(ua(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Dd(e,t)}catch(x){Ke(n,n.return,x)}}break;case 27:t===null&&s&4&&Qh(n);case 26:case 5:ua(e,n),t===null&&s&4&&Fh(n),s&512&&Io(n,n.return);break;case 12:ua(e,n);break;case 13:ua(e,n),s&4&&tf(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Gp.bind(null,n),og(e,n))));break;case 22:if(s=n.memoizedState!==null||Sn,!s){t=t!==null&&t.memoizedState!==null||ct,c=Sn;var f=ct;Sn=s,(ct=t)&&!f?da(e,n,(n.subtreeFlags&8772)!==0):ua(e,n),Sn=c,ct=f}break;case 30:break;default:ua(e,n)}}function $h(e){var t=e.alternate;t!==null&&(e.alternate=null,$h(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&cs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,Kt=!1;function Nn(e,t,n){for(n=n.child;n!==null;)ef(e,t,n),n=n.sibling}function ef(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount($i,n)}catch{}switch(n.tag){case 26:ct||Xi(n,t),Nn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ct||Xi(n,t);var s=tt,c=Kt;va(n.type)&&(tt=n.stateNode,Kt=!1),Nn(e,t,n),Ko(n.stateNode),tt=s,Kt=c;break;case 5:ct||Xi(n,t);case 6:if(s=tt,c=Kt,tt=null,Nn(e,t,n),tt=s,Kt=c,tt!==null)if(Kt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(n.stateNode)}catch(f){Ke(n,t,f)}else try{tt.removeChild(n.stateNode)}catch(f){Ke(n,t,f)}break;case 18:tt!==null&&(Kt?(e=tt,Zf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),nr(e)):Zf(tt,n.stateNode));break;case 4:s=tt,c=Kt,tt=n.stateNode.containerInfo,Kt=!0,Nn(e,t,n),tt=s,Kt=c;break;case 0:case 11:case 14:case 15:ct||ca(2,n,t),ct||ca(4,n,t),Nn(e,t,n);break;case 1:ct||(Xi(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Xh(n,t,s)),Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:ct=(s=ct)||n.memoizedState!==null,Nn(e,t,n),ct=s;break;default:Nn(e,t,n)}}function tf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nr(e)}catch(n){Ke(t,t.return,n)}}function Op(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jh),t;default:throw Error(m(435,e.tag))}}function hu(e,t){var n=Op(e);t.forEach(function(s){var c=Zp.bind(null,e,s);n.has(s)||(n.add(s),s.then(c,c))})}function ri(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var c=n[s],f=e,x=t,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(va(S.type)){tt=S.stateNode,Kt=!1;break e}break;case 5:tt=S.stateNode,Kt=!1;break e;case 3:case 4:tt=S.stateNode.containerInfo,Kt=!0;break e}S=S.return}if(tt===null)throw Error(m(160));ef(f,x,c),tt=null,Kt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)nf(t,e),t=t.sibling}var Di=null;function nf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ri(t,e),li(e),s&4&&(ca(3,e,e.return),Uo(3,e),ca(5,e,e.return));break;case 1:ri(t,e),li(e),s&512&&(ct||n===null||Xi(n,n.return)),s&64&&Sn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var c=Di;if(ri(t,e),li(e),s&512&&(ct||n===null||Xi(n,n.return)),s&4){var f=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":f=c.getElementsByTagName("title")[0],(!f||f[On]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(s),c.head.insertBefore(f,c.querySelector("head > title"))),At(f,s,n),f[vt]=e,dt(f),s=f;break e;case"link":var x=Jf("link","href",c).get(s+(n.href||""));if(x){for(var S=0;S<x.length;S++)if(f=x[S],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){x.splice(S,1);break t}}f=c.createElement(s),At(f,s,n),c.head.appendChild(f);break;case"meta":if(x=Jf("meta","content",c).get(s+(n.content||""))){for(S=0;S<x.length;S++)if(f=x[S],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){x.splice(S,1);break t}}f=c.createElement(s),At(f,s,n),c.head.appendChild(f);break;default:throw Error(m(468,s))}f[vt]=e,dt(f),s=f}e.stateNode=s}else Wf(c,e.type,e.stateNode);else e.stateNode=Qf(c,s,e.memoizedProps);else f!==s?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,s===null?Wf(c,e.type,e.stateNode):Qf(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&lu(e,e.memoizedProps,n.memoizedProps)}break;case 27:ri(t,e),li(e),s&512&&(ct||n===null||Xi(n,n.return)),n!==null&&s&4&&lu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ri(t,e),li(e),s&512&&(ct||n===null||Xi(n,n.return)),e.flags&32){c=e.stateNode;try{mi(c,"")}catch(q){Ke(e,e.return,q)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,lu(e,c,n!==null?n.memoizedProps:c)),s&1024&&(du=!0);break;case 6:if(ri(t,e),li(e),s&4){if(e.stateNode===null)throw Error(m(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(q){Ke(e,e.return,q)}}break;case 3:if(Rl=null,c=Di,Di=jl(t.containerInfo),ri(t,e),Di=c,li(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{nr(t.containerInfo)}catch(q){Ke(e,e.return,q)}du&&(du=!1,af(e));break;case 4:s=Di,Di=jl(e.stateNode.containerInfo),ri(t,e),li(e),Di=s;break;case 12:ri(t,e),li(e);break;case 13:ri(t,e),li(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(_u=qt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,hu(e,s)));break;case 22:c=e.memoizedState!==null;var j=n!==null&&n.memoizedState!==null,I=Sn,Q=ct;if(Sn=I||c,ct=Q||j,ri(t,e),ct=Q,Sn=I,li(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||j||Sn||ct||Ja(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){j=n=t;try{if(f=j.stateNode,c)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=j.stateNode;var te=j.memoizedProps.style,Z=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(q){Ke(j,j.return,q)}}}else if(t.tag===6){if(n===null){j=t;try{j.stateNode.nodeValue=c?"":j.memoizedProps}catch(q){Ke(j,j.return,q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,hu(e,n))));break;case 19:ri(t,e),li(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,hu(e,s)));break;case 30:break;case 21:break;default:ri(t,e),li(e)}}function li(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Kh(s)){n=s;break}s=s.return}if(n==null)throw Error(m(160));switch(n.tag){case 27:var c=n.stateNode,f=cu(e);vl(e,f,c);break;case 5:var x=n.stateNode;n.flags&32&&(mi(x,""),n.flags&=-33);var S=cu(e);vl(e,S,x);break;case 3:case 4:var j=n.stateNode.containerInfo,I=cu(e);uu(e,I,j);break;default:throw Error(m(161))}}catch(Q){Ke(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function af(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;af(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Wh(e,t.alternate,t),t=t.sibling}function Ja(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ca(4,t,t.return),Ja(t);break;case 1:Xi(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Xh(t,t.return,n),Ja(t);break;case 27:Ko(t.stateNode);case 26:case 5:Xi(t,t.return),Ja(t);break;case 22:t.memoizedState===null&&Ja(t);break;case 30:Ja(t);break;default:Ja(t)}e=e.sibling}}function da(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,f=t,x=f.flags;switch(f.tag){case 0:case 11:case 15:da(c,f,n),Uo(4,f);break;case 1:if(da(c,f,n),s=f,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(I){Ke(s,s.return,I)}if(s=f,c=s.updateQueue,c!==null){var S=s.stateNode;try{var j=c.shared.hiddenCallbacks;if(j!==null)for(c.shared.hiddenCallbacks=null,c=0;c<j.length;c++)Rd(j[c],S)}catch(I){Ke(s,s.return,I)}}n&&x&64&&Yh(f),Io(f,f.return);break;case 27:Qh(f);case 26:case 5:da(c,f,n),n&&s===null&&x&4&&Fh(f),Io(f,f.return);break;case 12:da(c,f,n);break;case 13:da(c,f,n),n&&x&4&&tf(c,f);break;case 22:f.memoizedState===null&&da(c,f,n),Io(f,f.return);break;case 30:break;default:da(c,f,n)}t=t.sibling}}function fu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&So(n))}function mu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&So(e))}function Fi(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sf(e,t,n,s),t=t.sibling}function sf(e,t,n,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Fi(e,t,n,s),c&2048&&Uo(9,t);break;case 1:Fi(e,t,n,s);break;case 3:Fi(e,t,n,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&So(e)));break;case 12:if(c&2048){Fi(e,t,n,s),e=t.stateNode;try{var f=t.memoizedProps,x=f.id,S=f.onPostCommit;typeof S=="function"&&S(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Ke(t,t.return,j)}}else Fi(e,t,n,s);break;case 13:Fi(e,t,n,s);break;case 23:break;case 22:f=t.stateNode,x=t.alternate,t.memoizedState!==null?f._visibility&2?Fi(e,t,n,s):Ho(e,t):f._visibility&2?Fi(e,t,n,s):(f._visibility|=2,Ps(e,t,n,s,(t.subtreeFlags&10256)!==0)),c&2048&&fu(x,t);break;case 24:Fi(e,t,n,s),c&2048&&mu(t.alternate,t);break;default:Fi(e,t,n,s)}}function Ps(e,t,n,s,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,x=t,S=n,j=s,I=x.flags;switch(x.tag){case 0:case 11:case 15:Ps(f,x,S,j,c),Uo(8,x);break;case 23:break;case 22:var Q=x.stateNode;x.memoizedState!==null?Q._visibility&2?Ps(f,x,S,j,c):Ho(f,x):(Q._visibility|=2,Ps(f,x,S,j,c)),c&&I&2048&&fu(x.alternate,x);break;case 24:Ps(f,x,S,j,c),c&&I&2048&&mu(x.alternate,x);break;default:Ps(f,x,S,j,c)}t=t.sibling}}function Ho(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,c=s.flags;switch(s.tag){case 22:Ho(n,s),c&2048&&fu(s.alternate,s);break;case 24:Ho(n,s),c&2048&&mu(s.alternate,s);break;default:Ho(n,s)}t=t.sibling}}var Go=8192;function Bs(e){if(e.subtreeFlags&Go)for(e=e.child;e!==null;)of(e),e=e.sibling}function of(e){switch(e.tag){case 26:Bs(e),e.flags&Go&&e.memoizedState!==null&&xg(Di,e.memoizedState,e.memoizedProps);break;case 5:Bs(e);break;case 3:case 4:var t=Di;Di=jl(e.stateNode.containerInfo),Bs(e),Di=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Go,Go=16777216,Bs(e),Go=t):Bs(e));break;default:Bs(e)}}function rf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Zo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];bt=s,cf(s,e)}rf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lf(e),e=e.sibling}function lf(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&ca(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_l(e)):Zo(e);break;default:Zo(e)}}function _l(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];bt=s,cf(s,e)}rf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ca(8,t,t.return),_l(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,_l(t));break;default:_l(t)}e=e.sibling}}function cf(e,t){for(;bt!==null;){var n=bt;switch(n.tag){case 0:case 11:case 15:ca(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:So(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,bt=s;else e:for(n=e;bt!==null;){s=bt;var c=s.sibling,f=s.return;if($h(s),s===n){bt=null;break e}if(c!==null){c.return=f,bt=c;break e}bt=f}}}var kp={getCacheForType:function(e){var t=Dt(mt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},zp=typeof WeakMap=="function"?WeakMap:Map,Ge=0,$e=null,Oe=null,Pe=0,Ze=0,ci=null,ha=!1,Us=!1,pu=!1,Tn=0,rt=0,fa=0,Wa=0,gu=0,wi=0,Is=0,qo=null,Qt=null,vu=!1,_u=0,xl=1/0,yl=null,ma=null,Tt=0,pa=null,Hs=null,Gs=0,xu=0,yu=null,uf=null,Vo=0,bu=null;function ui(){if((Ge&2)!==0&&Pe!==0)return Pe&-Pe;if(Y.T!==null){var e=Ms;return e!==0?e:Au()}return br()}function df(){wi===0&&(wi=(Pe&536870912)===0||Ne?_r():536870912);var e=bi.current;return e!==null&&(e.flags|=32),wi}function di(e,t,n){(e===$e&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)&&(Zs(e,0),ga(e,Pe,wi,!1)),Rn(e,n),((Ge&2)===0||e!==$e)&&(e===$e&&((Ge&2)===0&&(Wa|=n),rt===4&&ga(e,Pe,wi,!1)),Ki(e))}function hf(e,t,n){if((Ge&6)!==0)throw Error(m(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Ni(e,t),c=s?Up(e,t):Lu(e,t,!0),f=s;do{if(c===0){Us&&!s&&ga(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!Pp(n)){c=Lu(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var S=e;c=qo;var j=S.current.memoizedState.isDehydrated;if(j&&(Zs(S,x).flags|=256),x=Lu(S,x,!1),x!==2){if(pu&&!j){S.errorRecoveryDisabledLanes|=f,Wa|=f,c=4;break e}f=Qt,Qt=c,f!==null&&(Qt===null?Qt=f:Qt.push.apply(Qt,f))}c=x}if(f=!1,c!==2)continue}}if(c===1){Zs(e,0),ga(e,t,0,!0);break}e:{switch(s=e,f=c,f){case 0:case 1:throw Error(m(345));case 4:if((t&4194048)!==t)break;case 6:ga(s,t,wi,!ha);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(m(329))}if((t&62914560)===t&&(c=_u+300-qt(),10<c)){if(ga(s,t,wi,!ha),rs(s,0,!0)!==0)break e;s.timeoutHandle=Hf(ff.bind(null,s,n,Qt,yl,vu,t,wi,Wa,Is,ha,f,2,-0,0),c);break e}ff(s,n,Qt,yl,vu,t,wi,Wa,Is,ha,f,0,-0,0)}}break}while(!0);Ki(e)}function ff(e,t,n,s,c,f,x,S,j,I,Q,te,Z,q){if(e.timeoutHandle=-1,te=t.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Wo={stylesheets:null,count:0,unsuspend:_g},of(t),te=yg(),te!==null)){e.cancelPendingCommit=te(yf.bind(null,e,t,f,n,s,c,x,S,j,Q,1,Z,q)),ga(e,f,x,!I);return}yf(e,t,f,n,s,c,x,S,j)}function Pp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var c=n[s],f=c.getSnapshot;c=c.value;try{if(!Ut(f(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ga(e,t,n,s){t&=~gu,t&=~Wa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var f=31-Pt(c),x=1<<f;s[f]=-1,c&=~x}n!==0&&xr(e,n,t)}function bl(){return(Ge&6)===0?(Yo(0),!1):!0}function wu(){if(Oe!==null){if(Ze===0)var e=Oe.return;else e=Oe,Ci=yi=null,Uc(e),ks=null,zo=0,e=Oe;for(;e!==null;)Vh(e.alternate,e),e=e.return;Oe=null}}function Zs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,tg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wu(),$e=e,Oe=n=xi(e.current,null),Pe=t,Ze=0,ci=null,ha=!1,Us=Ni(e,t),pu=!1,Is=wi=gu=Wa=fa=rt=0,Qt=qo=null,vu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-Pt(s),f=1<<c;t|=e[c],s&=~f}return Tn=t,Ia(),n}function mf(e,t){Ce=null,Y.H=ll,t===To||t===Wr?(t=jd(),Ze=3):t===Td?(t=jd(),Ze=4):Ze=t===Ch?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ci=t,Oe===null&&(rt=1,fl(e,Ht(t,e.current)))}function pf(){var e=Y.H;return Y.H=ll,e===null?ll:e}function gf(){var e=Y.A;return Y.A=kp,e}function Eu(){rt=4,ha||(Pe&4194048)!==Pe&&bi.current!==null||(Us=!0),(fa&134217727)===0&&(Wa&134217727)===0||$e===null||ga($e,Pe,wi,!1)}function Lu(e,t,n){var s=Ge;Ge|=2;var c=pf(),f=gf();($e!==e||Pe!==t)&&(yl=null,Zs(e,t)),t=!1;var x=rt;e:do try{if(Ze!==0&&Oe!==null){var S=Oe,j=ci;switch(Ze){case 8:wu(),x=6;break e;case 3:case 2:case 9:case 6:bi.current===null&&(t=!0);var I=Ze;if(Ze=0,ci=null,qs(e,S,j,I),n&&Us){x=0;break e}break;default:I=Ze,Ze=0,ci=null,qs(e,S,j,I)}}Bp(),x=rt;break}catch(Q){mf(e,Q)}while(!0);return t&&e.shellSuspendCounter++,Ci=yi=null,Ge=s,Y.H=c,Y.A=f,Oe===null&&($e=null,Pe=0,Ia()),x}function Bp(){for(;Oe!==null;)vf(Oe)}function Up(e,t){var n=Ge;Ge|=2;var s=pf(),c=gf();$e!==e||Pe!==t?(yl=null,xl=qt()+500,Zs(e,t)):Us=Ni(e,t);e:do try{if(Ze!==0&&Oe!==null){t=Oe;var f=ci;t:switch(Ze){case 1:Ze=0,ci=null,qs(e,t,f,1);break;case 2:case 9:if(Ad(f)){Ze=0,ci=null,_f(t);break}t=function(){Ze!==2&&Ze!==9||$e!==e||(Ze=7),Ki(e)},f.then(t,t);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Ad(f)?(Ze=0,ci=null,_f(t)):(Ze=0,ci=null,qs(e,t,f,7));break;case 5:var x=null;switch(Oe.tag){case 26:x=Oe.memoizedState;case 5:case 27:var S=Oe;if(!x||$f(x)){Ze=0,ci=null;var j=S.sibling;if(j!==null)Oe=j;else{var I=S.return;I!==null?(Oe=I,wl(I)):Oe=null}break t}}Ze=0,ci=null,qs(e,t,f,5);break;case 6:Ze=0,ci=null,qs(e,t,f,6);break;case 8:wu(),rt=6;break e;default:throw Error(m(462))}}Ip();break}catch(Q){mf(e,Q)}while(!0);return Ci=yi=null,Y.H=s,Y.A=c,Ge=n,Oe!==null?0:($e=null,Pe=0,Ia(),rt)}function Ip(){for(;Oe!==null&&!hr();)vf(Oe)}function vf(e){var t=Zh(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?wl(e):Oe=t}function _f(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ph(n,t,t.pendingProps,t.type,void 0,Pe);break;case 11:t=Ph(n,t,t.pendingProps,t.type.render,t.ref,Pe);break;case 5:Uc(t);default:Vh(n,t),t=Oe=Eo(t,Tn),t=Zh(n,t,Tn)}e.memoizedProps=e.pendingProps,t===null?wl(e):Oe=t}function qs(e,t,n,s){Ci=yi=null,Uc(t),ks=null,zo=0;var c=t.return;try{if(Mp(e,c,t,n,Pe)){rt=1,fl(e,Ht(n,e.current)),Oe=null;return}}catch(f){if(c!==null)throw Oe=c,f;rt=1,fl(e,Ht(n,e.current)),Oe=null;return}t.flags&32768?(Ne||s===1?e=!0:Us||(Pe&536870912)!==0?e=!1:(ha=e=!0,(s===2||s===9||s===3||s===6)&&(s=bi.current,s!==null&&s.tag===13&&(s.flags|=16384))),xf(t,e)):wl(t)}function wl(e){var t=e;do{if((t.flags&32768)!==0){xf(t,ha);return}e=t.return;var n=Cp(t.alternate,t,Tn);if(n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);rt===0&&(rt=5)}function xf(e,t){do{var n=Rp(e.alternate,e);if(n!==null){n.flags&=32767,Oe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=n}while(e!==null);rt=6,Oe=null}function yf(e,t,n,s,c,f,x,S,j){e.cancelPendingCommit=null;do El();while(Tt!==0);if((Ge&6)!==0)throw Error(m(327));if(t!==null){if(t===e.current)throw Error(m(177));if(f=t.lanes|t.childLanes,f|=oi,oc(e,n,f,x,S,j),e===$e&&(Oe=$e=null,Pe=0),Hs=t,pa=e,Gs=n,xu=f,yu=c,uf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,qp(jn,function(){return Sf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null,c=ue.p,ue.p=2,x=Ge,Ge|=4;try{Dp(e,t,n)}finally{Ge=x,ue.p=c,Y.T=s}}Tt=1,bf(),wf(),Ef()}}function bf(){if(Tt===1){Tt=0;var e=pa,t=Hs,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null;var s=ue.p;ue.p=2;var c=Ge;Ge|=4;try{nf(t,e);var f=zu,x=Pa(e.containerInfo),S=f.focusedElem,j=f.selectionRange;if(x!==S&&S&&S.ownerDocument&&bs(S.ownerDocument.documentElement,S)){if(j!==null&&Ba(S)){var I=j.start,Q=j.end;if(Q===void 0&&(Q=I),"selectionStart"in S)S.selectionStart=I,S.selectionEnd=Math.min(Q,S.value.length);else{var te=S.ownerDocument||document,Z=te&&te.defaultView||window;if(Z.getSelection){var q=Z.getSelection(),Le=S.textContent.length,we=Math.min(j.start,Le),Xe=j.end===void 0?we:Math.min(j.end,Le);!q.extend&&we>Xe&&(x=Xe,Xe=we,we=x);var z=bo(S,we),D=bo(S,Xe);if(z&&D&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var U=te.createRange();U.setStart(z.node,z.offset),q.removeAllRanges(),we>Xe?(q.addRange(U),q.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),q.addRange(U))}}}}for(te=[],q=S;q=q.parentNode;)q.nodeType===1&&te.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var $=te[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}kl=!!ku,zu=ku=null}finally{Ge=c,ue.p=s,Y.T=n}}e.current=t,Tt=2}}function wf(){if(Tt===2){Tt=0;var e=pa,t=Hs,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Y.T,Y.T=null;var s=ue.p;ue.p=2;var c=Ge;Ge|=4;try{Wh(e,t.alternate,t)}finally{Ge=c,ue.p=s,Y.T=n}}Tt=3}}function Ef(){if(Tt===4||Tt===3){Tt=0,fr();var e=pa,t=Hs,n=Gs,s=uf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Tt=5:(Tt=0,Hs=pa=null,Lf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ma=null),ao(n),t=t.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot($i,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=Y.T,c=ue.p,ue.p=2,Y.T=null;try{for(var f=e.onRecoverableError,x=0;x<s.length;x++){var S=s[x];f(S.value,{componentStack:S.stack})}}finally{Y.T=t,ue.p=c}}(Gs&3)!==0&&El(),Ki(e),c=e.pendingLanes,(n&4194090)!==0&&(c&42)!==0?e===bu?Vo++:(Vo=0,bu=e):Vo=0,Yo(0)}}function Lf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,So(t)))}function El(e){return bf(),wf(),Ef(),Sf()}function Sf(){if(Tt!==5)return!1;var e=pa,t=xu;xu=0;var n=ao(Gs),s=Y.T,c=ue.p;try{ue.p=32>n?32:n,Y.T=null,n=yu,yu=null;var f=pa,x=Gs;if(Tt=0,Hs=pa=null,Gs=0,(Ge&6)!==0)throw Error(m(331));var S=Ge;if(Ge|=4,lf(f.current),sf(f,f.current,x,n),Ge=S,Yo(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot($i,f)}catch{}return!0}finally{ue.p=c,Y.T=s,Lf(e,t)}}function Nf(e,t,n){t=Ht(n,t),t=$c(e.stateNode,t,2),e=sa(e,t,2),e!==null&&(Rn(e,2),Ki(e))}function Ke(e,t,n){if(e.tag===3)Nf(e,e,n);else for(;t!==null;){if(t.tag===3){Nf(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ma===null||!ma.has(s))){e=Ht(n,e),n=Mh(2),s=sa(t,n,2),s!==null&&(jh(n,s,t,e),Rn(s,2),Ki(s));break}}t=t.return}}function Su(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new zp;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(n)||(pu=!0,c.add(n),e=Hp.bind(null,e,t,n),t.then(e,e))}function Hp(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,$e===e&&(Pe&n)===n&&(rt===4||rt===3&&(Pe&62914560)===Pe&&300>qt()-_u?(Ge&2)===0&&Zs(e,0):gu|=n,Is===Pe&&(Is=0)),Ki(e)}function Tf(e,t){t===0&&(t=io()),e=$n(e,t),e!==null&&(Rn(e,t),Ki(e))}function Gp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tf(e,n)}function Zp(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(m(314))}s!==null&&s.delete(t),Tf(e,n)}function qp(e,t){return La(e,t)}var Ll=null,Vs=null,Nu=!1,Sl=!1,Tu=!1,$a=0;function Ki(e){e!==Vs&&e.next===null&&(Vs===null?Ll=Vs=e:Vs=Vs.next=e),Sl=!0,Nu||(Nu=!0,Yp())}function Yo(e,t){if(!Tu&&Sl){Tu=!0;do for(var n=!1,s=Ll;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var f=0;else{var x=s.suspendedLanes,S=s.pingedLanes;f=(1<<31-Pt(42|e)+1)-1,f&=c&~(x&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,Cf(s,f))}else f=Pe,f=rs(s,s===$e?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||Ni(s,f)||(n=!0,Cf(s,f));s=s.next}while(n);Tu=!1}}function Vp(){Af()}function Af(){Sl=Nu=!1;var e=0;$a!==0&&(eg()&&(e=$a),$a=0);for(var t=qt(),n=null,s=Ll;s!==null;){var c=s.next,f=Mf(s,t);f===0?(s.next=null,n===null?Ll=c:n.next=c,c===null&&(Vs=n)):(n=s,(e!==0||(f&3)!==0)&&(Sl=!0)),s=c}Yo(e)}function Mf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var x=31-Pt(f),S=1<<x,j=c[x];j===-1?((S&n)===0||(S&s)!==0)&&(c[x]=sc(S,t)):j<=t&&(e.expiredLanes|=S),f&=~S}if(t=$e,n=Pe,n=rs(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&$s(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ni(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&$s(s),ao(n)){case 2:case 8:n=eo;break;case 32:n=jn;break;case 268435456:n=to;break;default:n=jn}return s=jf.bind(null,e),n=La(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&$s(s),e.callbackPriority=2,e.callbackNode=null,2}function jf(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var s=Pe;return s=rs(e,e===$e?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(hf(e,s,t),Mf(e,qt()),e.callbackNode!=null&&e.callbackNode===n?jf.bind(null,e):null)}function Cf(e,t){if(El())return null;hf(e,t,!0)}function Yp(){ig(function(){(Ge&6)!==0?La(mr,Vp):Af()})}function Au(){return $a===0&&($a=_r()),$a}function Rf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:In(""+e)}function Df(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Xp(e,t,n,s,c){if(t==="submit"&&n&&n.stateNode===c){var f=Rf((c[jt]||null).action),x=s.submitter;x&&(t=(t=x[jt]||null)?Rf(t.formAction):x.getAttribute("formAction"),t!==null&&(f=t,x=null));var S=new Ra("action","action",null,s,c);e.push({event:S,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if($a!==0){var j=x?Df(c,x):new FormData(c);Fc(n,{pending:!0,data:j,method:c.method,action:f},null,j)}}else typeof f=="function"&&(S.preventDefault(),j=x?Df(c,x):new FormData(c),Fc(n,{pending:!0,data:j,method:c.method,action:f},f,j))},currentTarget:c}]})}}for(var Mu=0;Mu<gn.length;Mu++){var ju=gn[Mu],Fp=ju.toLowerCase(),Kp=ju[0].toUpperCase()+ju.slice(1);si(Fp,"on"+Kp)}si(Zr,"onAnimationEnd"),si(ai,"onAnimationIteration"),si(Ua,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Ec,"onTransitionRun"),si(Ss,"onTransitionStart"),si(Lc,"onTransitionCancel"),si(wo,"onTransitionEnd"),an("onMouseEnter",["mouseout","mouseover"]),an("onMouseLeave",["mouseout","mouseover"]),an("onPointerEnter",["pointerout","pointerover"]),an("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xo));function Of(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],c=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var x=s.length-1;0<=x;x--){var S=s[x],j=S.instance,I=S.currentTarget;if(S=S.listener,j!==f&&c.isPropagationStopped())break e;f=S,c.currentTarget=I;try{f(c)}catch(Q){hl(Q)}c.currentTarget=null,f=j}else for(x=0;x<s.length;x++){if(S=s[x],j=S.instance,I=S.currentTarget,S=S.listener,j!==f&&c.isPropagationStopped())break e;f=S,c.currentTarget=I;try{f(c)}catch(Q){hl(Q)}c.currentTarget=null,f=j}}}}function ke(e,t){var n=t[Vt];n===void 0&&(n=t[Vt]=new Set);var s=e+"__bubble";n.has(s)||(kf(t,e,2,!1),n.add(s))}function Cu(e,t,n){var s=0;t&&(s|=4),kf(n,e,s,t)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[Nl]){e[Nl]=!0,Er.forEach(function(n){n!=="selectionchange"&&(Qp.has(n)||Cu(n,!1,e),Cu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nl]||(t[Nl]=!0,Cu("selectionchange",!1,t))}}function kf(e,t,n,s){switch(sm(t)){case 2:var c=Eg;break;case 8:c=Lg;break;default:c=Yu}n=c.bind(null,t,n,e),c=void 0,!Ca||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Du(e,t,n,s,c){var f=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var x=s.tag;if(x===3||x===4){var S=s.stateNode.containerInfo;if(S===c)break;if(x===4)for(x=s.return;x!==null;){var j=x.tag;if((j===3||j===4)&&x.stateNode.containerInfo===c)return;x=x.return}for(;S!==null;){if(x=Bi(S),x===null)return;if(j=x.tag,j===5||j===6||j===26||j===27){s=f=x;continue e}S=S.parentNode}}s=s.return}ei(function(){var I=f,Q=Hn(n),te=[];e:{var Z=qr.get(e);if(Z!==void 0){var q=Ra,Le=e;switch(e){case"keypress":if(ot(n)===0)break e;case"keydown":case"keyup":q=pc;break;case"focusin":Le="focus",q=ho;break;case"focusout":Le="blur",q=ho;break;case"beforeblur":case"afterblur":q=ho;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=vc;break;case Zr:case ai:case Ua:q=dc;break;case wo:q=_c;break;case"scroll":case"scrollend":q=cc;break;case"wheel":q=Or;break;case"copy":case"cut":case"paste":q=fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=po;break;case"toggle":case"beforetoggle":q=hn}var we=(t&4)!==0,Xe=!we&&(e==="scroll"||e==="scrollend"),z=we?Z!==null?Z+"Capture":null:Z;we=[];for(var D=I,U;D!==null;){var $=D;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||z===null||($=Ie(D,z),$!=null&&we.push(Fo(D,$,U))),Xe)break;D=D.return}0<we.length&&(Z=new q(Z,Le,null,n,Q),te.push({event:Z,listeners:we}))}}if((t&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",Z&&n!==ja&&(Le=n.relatedTarget||n.fromElement)&&(Bi(Le)||Le[Dn]))break e;if((q||Z)&&(Z=Q.window===Q?Q:(Z=Q.ownerDocument)?Z.defaultView||Z.parentWindow:window,q?(Le=n.relatedTarget||n.toElement,q=I,Le=Le?Bi(Le):null,Le!==null&&(Xe=u(Le),we=Le.tag,Le!==Xe||we!==5&&we!==27&&we!==6)&&(Le=null)):(q=null,Le=I),q!==Le)){if(we=qn,$="onMouseLeave",z="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(we=po,$="onPointerLeave",z="onPointerEnter",D="pointer"),Xe=q==null?Z:fi(q),U=Le==null?Z:fi(Le),Z=new we($,D+"leave",q,n,Q),Z.target=Xe,Z.relatedTarget=U,$=null,Bi(Q)===I&&(we=new we(z,D+"enter",Le,n,Q),we.target=U,we.relatedTarget=Xe,$=we),Xe=$,q&&Le)t:{for(we=q,z=Le,D=0,U=we;U;U=Ys(U))D++;for(U=0,$=z;$;$=Ys($))U++;for(;0<D-U;)we=Ys(we),D--;for(;0<U-D;)z=Ys(z),U--;for(;D--;){if(we===z||z!==null&&we===z.alternate)break t;we=Ys(we),z=Ys(z)}we=null}else we=null;q!==null&&zf(te,Z,q,we,!1),Le!==null&&Xe!==null&&zf(te,Xe,Le,we,!0)}}e:{if(Z=I?fi(I):window,q=Z.nodeName&&Z.nodeName.toLowerCase(),q==="select"||q==="input"&&Z.type==="file")var pe=Xn;else if(mn(Z))if(_o)pe=wc;else{pe=bc;var De=yo}else q=Z.nodeName,!q||q.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?I&&Ma(I.elementType)&&(pe=Xn):pe=ji;if(pe&&(pe=pe(e,I))){Ur(te,pe,n,Q);break e}De&&De(e,Z,I),e==="focusout"&&I&&Z.type==="number"&&I.memoizedProps.value!=null&&Bn(Z,"number",Z.value)}switch(De=I?fi(I):window,e){case"focusin":(mn(De)||De.contentEditable==="true")&&(ni=De,Qn=I,pn=null);break;case"focusout":pn=Qn=ni=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Hr(te,n,Q);break;case"selectionchange":if(ws)break;case"keydown":case"keyup":Hr(te,n,Q)}var be;if(fn)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Vn?xs(e,n)&&(Ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ee="onCompositionStart");Ee&&(vo&&n.locale!=="ko"&&(Vn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Vn&&(be=Zn()):(gi=Q,Ai="value"in gi?gi.value:gi.textContent,Vn=!0)),De=Tl(I,Ee),0<De.length&&(Ee=new ti(Ee,e,null,n,Q),te.push({event:Ee,listeners:De}),be?Ee.data=be:(be=Pr(n),be!==null&&(Ee.data=be)))),(be=kr?Br(e,n):yc(e,n))&&(Ee=Tl(I,"onBeforeInput"),0<Ee.length&&(De=new ti("onBeforeInput","beforeinput",null,n,Q),te.push({event:De,listeners:Ee}),De.data=be)),Xp(te,e,I,n,Q)}Of(te,t)})}function Fo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tl(e,t){for(var n=t+"Capture",s=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ie(e,n),c!=null&&s.unshift(Fo(e,c,f)),c=Ie(e,t),c!=null&&s.push(Fo(e,c,f))),e.tag===3)return s;e=e.return}return[]}function Ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zf(e,t,n,s,c){for(var f=t._reactName,x=[];n!==null&&n!==s;){var S=n,j=S.alternate,I=S.stateNode;if(S=S.tag,j!==null&&j===s)break;S!==5&&S!==26&&S!==27||I===null||(j=I,c?(I=Ie(n,f),I!=null&&x.unshift(Fo(n,I,j))):c||(I=Ie(n,f),I!=null&&x.push(Fo(n,I,j)))),n=n.return}x.length!==0&&e.push({event:t,listeners:x})}var Jp=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function Pf(e){return(typeof e=="string"?e:""+e).replace(Jp,`
`).replace(Wp,"")}function Bf(e,t){return t=Pf(t),Pf(e)===t}function Al(){}function Ye(e,t,n,s,c,f){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||mi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&mi(e,""+s);break;case"className":ds(e,"class",s);break;case"tabIndex":ds(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(e,n,s);break;case"style":Un(e,s,f);break;case"data":if(t!=="object"){ds(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=In(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&Ye(e,t,"name",c.name,c,null),Ye(e,t,"formEncType",c.formEncType,c,null),Ye(e,t,"formMethod",c.formMethod,c,null),Ye(e,t,"formTarget",c.formTarget,c,null)):(Ye(e,t,"encType",c.encType,c,null),Ye(e,t,"method",c.method,c,null),Ye(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=In(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=Al);break;case"onScroll":s!=null&&ke("scroll",e);break;case"onScrollEnd":s!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(m(61));if(n=s.__html,n!=null){if(c.children!=null)throw Error(m(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=In(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":ke("beforetoggle",e),ke("toggle",e),us(e,"popover",s);break;case"xlinkActuate":Ti(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ti(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ti(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ti(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ti(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ti(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":us(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=lo.get(n)||n,us(e,n,s))}}function Ou(e,t,n,s,c,f){switch(n){case"style":Un(e,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(m(61));if(n=s.__html,n!=null){if(c.children!=null)throw Error(m(60));e.innerHTML=n}}break;case"children":typeof s=="string"?mi(e,s):(typeof s=="number"||typeof s=="bigint")&&mi(e,""+s);break;case"onScroll":s!=null&&ke("scroll",e);break;case"onScrollEnd":s!=null&&ke("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),f=e[jt]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof s=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,c);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):us(e,n,s)}}}function At(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var s=!1,c=!1,f;for(f in n)if(n.hasOwnProperty(f)){var x=n[f];if(x!=null)switch(f){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:Ye(e,t,f,x,n,null)}}c&&Ye(e,t,"srcSet",n.srcSet,n,null),s&&Ye(e,t,"src",n.src,n,null);return;case"input":ke("invalid",e);var S=f=x=c=null,j=null,I=null;for(s in n)if(n.hasOwnProperty(s)){var Q=n[s];if(Q!=null)switch(s){case"name":c=Q;break;case"type":x=Q;break;case"checked":j=Q;break;case"defaultChecked":I=Q;break;case"value":f=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(m(137,t));break;default:Ye(e,t,s,Q,n,null)}}Nr(e,f,S,j,I,x,c,!1),Pn(e);return;case"select":ke("invalid",e),s=x=f=null;for(c in n)if(n.hasOwnProperty(c)&&(S=n[c],S!=null))switch(c){case"value":f=S;break;case"defaultValue":x=S;break;case"multiple":s=S;default:Ye(e,t,c,S,n,null)}t=f,n=x,e.multiple=!!s,t!=null?Yt(e,!!s,t,!1):n!=null&&Yt(e,!!s,n,!0);return;case"textarea":ke("invalid",e),f=c=s=null;for(x in n)if(n.hasOwnProperty(x)&&(S=n[x],S!=null))switch(x){case"value":s=S;break;case"defaultValue":c=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(m(91));break;default:Ye(e,t,x,S,n,null)}Ui(e,s,c,f),Pn(e);return;case"option":for(j in n)if(n.hasOwnProperty(j)&&(s=n[j],s!=null))switch(j){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ye(e,t,j,s,n,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(s=0;s<Xo.length;s++)ke(Xo[s],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in n)if(n.hasOwnProperty(I)&&(s=n[I],s!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:Ye(e,t,I,s,n,null)}return;default:if(Ma(t)){for(Q in n)n.hasOwnProperty(Q)&&(s=n[Q],s!==void 0&&Ou(e,t,Q,s,n,void 0));return}}for(S in n)n.hasOwnProperty(S)&&(s=n[S],s!=null&&Ye(e,t,S,s,n,null))}function $p(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,x=null,S=null,j=null,I=null,Q=null;for(q in n){var te=n[q];if(n.hasOwnProperty(q)&&te!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":j=te;default:s.hasOwnProperty(q)||Ye(e,t,q,null,s,te)}}for(var Z in s){var q=s[Z];if(te=n[Z],s.hasOwnProperty(Z)&&(q!=null||te!=null))switch(Z){case"type":f=q;break;case"name":c=q;break;case"checked":I=q;break;case"defaultChecked":Q=q;break;case"value":x=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(m(137,t));break;default:q!==te&&Ye(e,t,Z,q,s,te)}}Ct(e,x,S,j,I,Q,f,c);return;case"select":q=x=S=Z=null;for(f in n)if(j=n[f],n.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":q=j;default:s.hasOwnProperty(f)||Ye(e,t,f,null,s,j)}for(c in s)if(f=s[c],j=n[c],s.hasOwnProperty(c)&&(f!=null||j!=null))switch(c){case"value":Z=f;break;case"defaultValue":S=f;break;case"multiple":x=f;default:f!==j&&Ye(e,t,c,f,s,j)}t=S,n=x,s=q,Z!=null?Yt(e,!!n,Z,!1):!!s!=!!n&&(t!=null?Yt(e,!!n,t,!0):Yt(e,!!n,n?[]:"",!1));return;case"textarea":q=Z=null;for(S in n)if(c=n[S],n.hasOwnProperty(S)&&c!=null&&!s.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ye(e,t,S,null,s,c)}for(x in s)if(c=s[x],f=n[x],s.hasOwnProperty(x)&&(c!=null||f!=null))switch(x){case"value":Z=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(m(91));break;default:c!==f&&Ye(e,t,x,c,s,f)}nt(e,Z,q);return;case"option":for(var Le in n)if(Z=n[Le],n.hasOwnProperty(Le)&&Z!=null&&!s.hasOwnProperty(Le))switch(Le){case"selected":e.selected=!1;break;default:Ye(e,t,Le,null,s,Z)}for(j in s)if(Z=s[j],q=n[j],s.hasOwnProperty(j)&&Z!==q&&(Z!=null||q!=null))switch(j){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Ye(e,t,j,Z,s,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in n)Z=n[we],n.hasOwnProperty(we)&&Z!=null&&!s.hasOwnProperty(we)&&Ye(e,t,we,null,s,Z);for(I in s)if(Z=s[I],q=n[I],s.hasOwnProperty(I)&&Z!==q&&(Z!=null||q!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(m(137,t));break;default:Ye(e,t,I,Z,s,q)}return;default:if(Ma(t)){for(var Xe in n)Z=n[Xe],n.hasOwnProperty(Xe)&&Z!==void 0&&!s.hasOwnProperty(Xe)&&Ou(e,t,Xe,void 0,s,Z);for(Q in s)Z=s[Q],q=n[Q],!s.hasOwnProperty(Q)||Z===q||Z===void 0&&q===void 0||Ou(e,t,Q,Z,s,q);return}}for(var z in n)Z=n[z],n.hasOwnProperty(z)&&Z!=null&&!s.hasOwnProperty(z)&&Ye(e,t,z,null,s,Z);for(te in s)Z=s[te],q=n[te],!s.hasOwnProperty(te)||Z===q||Z==null&&q==null||Ye(e,t,te,Z,s,q)}var ku=null,zu=null;function Ml(e){return e.nodeType===9?e:e.ownerDocument}function Uf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function If(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bu=null;function eg(){var e=window.event;return e&&e.type==="popstate"?e===Bu?!1:(Bu=e,!0):(Bu=null,!1)}var Hf=typeof setTimeout=="function"?setTimeout:void 0,tg=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,ig=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(e){return Gf.resolve(null).then(e).catch(ng)}:Hf;function ng(e){setTimeout(function(){throw e})}function va(e){return e==="head"}function Zf(e,t){var n=t,s=0,c=0;do{var f=n.nextSibling;if(e.removeChild(n),f&&f.nodeType===8)if(n=f.data,n==="/$"){if(0<s&&8>s){n=s;var x=e.ownerDocument;if(n&1&&Ko(x.documentElement),n&2&&Ko(x.body),n&4)for(n=x.head,Ko(n),x=n.firstChild;x;){var S=x.nextSibling,j=x.nodeName;x[On]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=S}}if(c===0){e.removeChild(f),nr(t);return}c--}else n==="$"||n==="$?"||n==="$!"?c++:s=n.charCodeAt(0)-48;else s=0;n=f}while(n);nr(t)}function Uu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Uu(n),cs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ag(e,t,n,s){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[On])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Oi(e.nextSibling),e===null)break}return null}function sg(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Oi(e.nextSibling),e===null))return null;return e}function Iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function og(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Oi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Hu=null;function qf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Vf(e,t,n){switch(t=Ml(n),e){case"html":if(e=t.documentElement,!e)throw Error(m(452));return e;case"head":if(e=t.head,!e)throw Error(m(453));return e;case"body":if(e=t.body,!e)throw Error(m(454));return e;default:throw Error(m(451))}}function Ko(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);cs(e)}var Ei=new Map,Yf=new Set;function jl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var An=ue.d;ue.d={f:rg,r:lg,D:cg,C:ug,L:dg,m:hg,X:mg,S:fg,M:pg};function rg(){var e=An.f(),t=bl();return e||t}function lg(e){var t=en(e);t!==null&&t.tag===5&&t.type==="form"?dh(t):An.r(e)}var Xs=typeof document>"u"?null:document;function Xf(e,t,n){var s=Xs;if(s&&typeof t=="string"&&t){var c=Lt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Yf.has(c)||(Yf.add(c),e={rel:e,crossOrigin:n,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),At(t,"link",e),dt(t),s.head.appendChild(t)))}}function cg(e){An.D(e),Xf("dns-prefetch",e,null)}function ug(e,t){An.C(e,t),Xf("preconnect",e,t)}function dg(e,t,n){An.L(e,t,n);var s=Xs;if(s&&e&&t){var c='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Lt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Lt(n.imageSizes)+'"]')):c+='[href="'+Lt(e)+'"]';var f=c;switch(t){case"style":f=Fs(e);break;case"script":f=Ks(e)}Ei.has(f)||(e=N({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ei.set(f,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(Qo(f))||t==="script"&&s.querySelector(Jo(f))||(t=s.createElement("link"),At(t,"link",e),dt(t),s.head.appendChild(t)))}}function hg(e,t){An.m(e,t);var n=Xs;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Lt(s)+'"][href="'+Lt(e)+'"]',f=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ks(e)}if(!Ei.has(f)&&(e=N({rel:"modulepreload",href:e},t),Ei.set(f,e),n.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jo(f)))return}s=n.createElement("link"),At(s,"link",e),dt(s),n.head.appendChild(s)}}}function fg(e,t,n){An.S(e,t,n);var s=Xs;if(s&&e){var c=tn(s).hoistableStyles,f=Fs(e);t=t||"default";var x=c.get(f);if(!x){var S={loading:0,preload:null};if(x=s.querySelector(Qo(f)))S.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ei.get(f))&&Gu(e,n);var j=x=s.createElement("link");dt(j),At(j,"link",e),j._p=new Promise(function(I,Q){j.onload=I,j.onerror=Q}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Cl(x,t,s)}x={type:"stylesheet",instance:x,count:1,state:S},c.set(f,x)}}}function mg(e,t){An.X(e,t);var n=Xs;if(n&&e){var s=tn(n).hoistableScripts,c=Ks(e),f=s.get(c);f||(f=n.querySelector(Jo(c)),f||(e=N({src:e,async:!0},t),(t=Ei.get(c))&&Zu(e,t),f=n.createElement("script"),dt(f),At(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function pg(e,t){An.M(e,t);var n=Xs;if(n&&e){var s=tn(n).hoistableScripts,c=Ks(e),f=s.get(c);f||(f=n.querySelector(Jo(c)),f||(e=N({src:e,async:!0,type:"module"},t),(t=Ei.get(c))&&Zu(e,t),f=n.createElement("script"),dt(f),At(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function Ff(e,t,n,s){var c=(c=de.current)?jl(c):null;if(!c)throw Error(m(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fs(n.href),n=tn(c).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fs(n.href);var f=tn(c).hoistableStyles,x=f.get(e);if(x||(c=c.ownerDocument||c,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,x),(f=c.querySelector(Qo(e)))&&!f._p&&(x.instance=f,x.state.loading=5),Ei.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ei.set(e,n),f||gg(c,e,n,x.state))),t&&s===null)throw Error(m(528,""));return x}if(t&&s!==null)throw Error(m(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ks(n),n=tn(c).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(m(444,e))}}function Fs(e){return'href="'+Lt(e)+'"'}function Qo(e){return'link[rel="stylesheet"]['+e+"]"}function Kf(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function gg(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),At(t,"link",n),dt(t),e.head.appendChild(t))}function Ks(e){return'[src="'+Lt(e)+'"]'}function Jo(e){return"script[async]"+e}function Qf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Lt(n.href)+'"]');if(s)return t.instance=s,dt(s),s;var c=N({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),dt(s),At(s,"style",c),Cl(s,n.precedence,e),t.instance=s;case"stylesheet":c=Fs(n.href);var f=e.querySelector(Qo(c));if(f)return t.state.loading|=4,t.instance=f,dt(f),f;s=Kf(n),(c=Ei.get(c))&&Gu(s,c),f=(e.ownerDocument||e).createElement("link"),dt(f);var x=f;return x._p=new Promise(function(S,j){x.onload=S,x.onerror=j}),At(f,"link",s),t.state.loading|=4,Cl(f,n.precedence,e),t.instance=f;case"script":return f=Ks(n.src),(c=e.querySelector(Jo(f)))?(t.instance=c,dt(c),c):(s=n,(c=Ei.get(f))&&(s=N({},n),Zu(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),dt(c),At(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(m(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Cl(s,n.precedence,e));return t.instance}function Cl(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,f=c,x=0;x<s.length;x++){var S=s[x];if(S.dataset.precedence===t)f=S;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Gu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rl=null;function Jf(e,t,n){if(Rl===null){var s=new Map,c=Rl=new Map;c.set(n,s)}else c=Rl,s=c.get(n),s||(s=new Map,c.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var f=n[c];if(!(f[On]||f[vt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(t)||"";x=e+x;var S=s.get(x);S?S.push(f):s.set(x,[f])}}return s}function Wf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function vg(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $f(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Wo=null;function _g(){}function xg(e,t,n){if(Wo===null)throw Error(m(475));var s=Wo;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=Fs(n.href),f=e.querySelector(Qo(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Dl.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=f,dt(f);return}f=e.ownerDocument||e,n=Kf(n),(c=Ei.get(c))&&Gu(n,c),f=f.createElement("link"),dt(f);var x=f;x._p=new Promise(function(S,j){x.onload=S,x.onerror=j}),At(f,"link",n),t.instance=f}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=Dl.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function yg(){if(Wo===null)throw Error(m(475));var e=Wo;return e.stylesheets&&e.count===0&&qu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Dl(){if(this.count--,this.count===0){if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ol=null;function qu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ol=new Map,t.forEach(bg,e),Ol=null,Dl.call(e))}function bg(e,t){if(!(t.state.loading&4)){var n=Ol.get(e);if(n)var s=n.get(null);else{n=new Map,Ol.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var x=c[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(n.set(x.dataset.precedence,x),s=x)}s&&n.set(null,s)}c=t.instance,x=c.getAttribute("data-precedence"),f=n.get(x)||s,f===s&&n.set(null,c),n.set(x,c),this.count++,s=Dl.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var $o={$$typeof:G,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function wg(e,t,n,s,c,f,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ls(0),this.hiddenUpdates=ls(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function em(e,t,n,s,c,f,x,S,j,I,Q,te){return e=new wg(e,t,n,x,S,j,I,te),t=1,f===!0&&(t|=24),f=Zt(3,null,null,t),e.current=f,f.stateNode=e,t=Sc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:s,isDehydrated:n,cache:t},Mc(f),e}function tm(e){return e?(e=xn,e):xn}function im(e,t,n,s,c,f){c=tm(c),s.context===null?s.context=c:s.pendingContext=c,s=aa(t),s.payload={element:n},f=f===void 0?null:f,f!==null&&(s.callback=f),n=sa(e,s,t),n!==null&&(di(n,e,t),Mo(n,e,t))}function nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vu(e,t){nm(e,t),(e=e.alternate)&&nm(e,t)}function am(e){if(e.tag===13){var t=$n(e,67108864);t!==null&&di(t,e,67108864),Vu(e,67108864)}}var kl=!0;function Eg(e,t,n,s){var c=Y.T;Y.T=null;var f=ue.p;try{ue.p=2,Yu(e,t,n,s)}finally{ue.p=f,Y.T=c}}function Lg(e,t,n,s){var c=Y.T;Y.T=null;var f=ue.p;try{ue.p=8,Yu(e,t,n,s)}finally{ue.p=f,Y.T=c}}function Yu(e,t,n,s){if(kl){var c=Xu(s);if(c===null)Du(e,t,s,zl,n),om(e,s);else if(Ng(c,e,t,n,s))s.stopPropagation();else if(om(e,s),t&4&&-1<Sg.indexOf(e)){for(;c!==null;){var f=en(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=zi(f.pendingLanes);if(x!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var j=1<<31-Pt(x);S.entanglements[1]|=j,x&=~j}Ki(f),(Ge&6)===0&&(xl=qt()+500,Yo(0))}}break;case 13:S=$n(f,2),S!==null&&di(S,f,2),bl(),Vu(f,2)}if(f=Xu(s),f===null&&Du(e,t,s,zl,n),f===c)break;c=f}c!==null&&s.stopPropagation()}else Du(e,t,s,null,n)}}function Xu(e){return e=Hn(e),Fu(e)}var zl=null;function Fu(e){if(zl=null,e=Bi(e),e!==null){var t=u(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zl=e,null}function sm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case mr:return 2;case eo:return 8;case jn:case pr:return 32;case to:return 268435456;default:return 32}default:return 32}}var Ku=!1,_a=null,xa=null,ya=null,er=new Map,tr=new Map,ba=[],Sg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function om(e,t){switch(e){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(t.pointerId)}}function ir(e,t,n,s,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:f,targetContainers:[c]},t!==null&&(t=en(t),t!==null&&am(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Ng(e,t,n,s,c){switch(t){case"focusin":return _a=ir(_a,e,t,n,s,c),!0;case"dragenter":return xa=ir(xa,e,t,n,s,c),!0;case"mouseover":return ya=ir(ya,e,t,n,s,c),!0;case"pointerover":var f=c.pointerId;return er.set(f,ir(er.get(f)||null,e,t,n,s,c)),!0;case"gotpointercapture":return f=c.pointerId,tr.set(f,ir(tr.get(f)||null,e,t,n,s,c)),!0}return!1}function rm(e){var t=Bi(e.target);if(t!==null){var n=u(t);if(n!==null){if(t=n.tag,t===13){if(t=g(n),t!==null){e.blockedOn=t,so(e.priority,function(){if(n.tag===13){var s=ui();s=no(s);var c=$n(n,s);c!==null&&di(c,n,s),Vu(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xu(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);ja=s,n.target.dispatchEvent(s),ja=null}else return t=en(n),t!==null&&am(t),e.blockedOn=n,!1;t.shift()}return!0}function lm(e,t,n){Pl(e)&&n.delete(t)}function Tg(){Ku=!1,_a!==null&&Pl(_a)&&(_a=null),xa!==null&&Pl(xa)&&(xa=null),ya!==null&&Pl(ya)&&(ya=null),er.forEach(lm),tr.forEach(lm)}function Bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ku||(Ku=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,Tg)))}var Ul=null;function cm(e){Ul!==e&&(Ul=e,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Ul===e&&(Ul=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(Fu(s||n)===null)continue;break}var f=en(n);f!==null&&(e.splice(t,3),t-=3,Fc(f,{pending:!0,data:c,method:n.method,action:s},s,c))}}))}function nr(e){function t(j){return Bl(j,e)}_a!==null&&Bl(_a,e),xa!==null&&Bl(xa,e),ya!==null&&Bl(ya,e),er.forEach(t),tr.forEach(t);for(var n=0;n<ba.length;n++){var s=ba[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ba.length&&(n=ba[0],n.blockedOn===null);)rm(n),n.blockedOn===null&&ba.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var c=n[s],f=n[s+1],x=c[jt]||null;if(typeof f=="function")x||cm(n);else if(x){var S=null;if(f&&f.hasAttribute("formAction")){if(c=f,x=f[jt]||null)S=x.formAction;else if(Fu(c)!==null)continue}else S=x.action;typeof S=="function"?n[s+1]=S:(n.splice(s,3),s-=3),cm(n)}}}function Qu(e){this._internalRoot=e}Il.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(m(409));var n=t.current,s=ui();im(n,s,e,t,null,null)},Il.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;im(e.current,2,null,e,null,null),bl(),t[Dn]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var t=br();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ba.length&&t!==0&&t<ba[n].priority;n++);ba.splice(n,0,e),n===0&&rm(e)}};var um=v.version;if(um!=="19.1.0")throw Error(m(527,um,"19.1.0"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(m(188)):(e=Object.keys(e).join(","),Error(m(268,e)));return e=b(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var Ag={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{$i=Hl.inject(Ag),Mt=Hl}catch{}}return sr.createRoot=function(e,t){if(!r(e))throw Error(m(299));var n=!1,s="",c=Sh,f=Nh,x=Th,S=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=em(e,1,!1,null,null,n,s,c,f,x,S,null),e[Dn]=t.current,Ru(e),new Qu(t)},sr.hydrateRoot=function(e,t,n){if(!r(e))throw Error(m(299));var s=!1,c="",f=Sh,x=Nh,S=Th,j=null,I=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(x=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(j=n.unstable_transitionCallbacks),n.formState!==void 0&&(I=n.formState)),t=em(e,1,!0,t,n??null,s,c,f,x,S,j,I),t.context=tm(null),n=t.current,s=ui(),s=no(s),c=aa(s),c.callback=null,sa(n,c,s),n=s,t.current.lanes=n,Rn(t,n),Ki(t),e[Dn]=t.current,Ru(e),new Il(t)},sr.version="19.1.0",sr}var ym;function Pg(){if(ym)return $u.exports;ym=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(v){console.error(v)}}return h(),$u.exports=zg(),$u.exports}var Bg=Pg();const bm=h=>{let v;const d=new Set,m=(w,N)=>{const T=typeof w=="function"?w(v):w;if(!Object.is(T,v)){const k=v;v=N??(typeof T!="object"||T===null)?T:Object.assign({},v,T),d.forEach(P=>P(v,k))}},r=()=>v,y={setState:m,getState:r,getInitialState:()=>b,subscribe:w=>(d.add(w),()=>d.delete(w))},b=v=h(m,r,y);return y},Ug=h=>h?bm(h):bm,Ig=h=>h;function Hg(h,v=Ig){const d=Qs.useSyncExternalStore(h.subscribe,()=>v(h.getState()),()=>v(h.getInitialState()));return Qs.useDebugValue(d),d}const wm=h=>{const v=Ug(h),d=m=>Hg(v,m);return Object.assign(d,v),d},as=h=>h?wm(h):wm;function Gg(h,v){let d;try{d=h()}catch{return}return{getItem:r=>{var u;const g=b=>b===null?null:JSON.parse(b,void 0),y=(u=d.getItem(r))!=null?u:null;return y instanceof Promise?y.then(g):g(y)},setItem:(r,u)=>d.setItem(r,JSON.stringify(u,void 0)),removeItem:r=>d.removeItem(r)}}const od=h=>v=>{try{const d=h(v);return d instanceof Promise?d:{then(m){return od(m)(d)},catch(m){return this}}}catch(d){return{then(m){return this},catch(m){return od(m)(d)}}}},Zg=(h,v)=>(d,m,r)=>{let u={storage:Gg(()=>localStorage),partialize:O=>O,version:0,merge:(O,R)=>({...R,...O}),...v},g=!1;const y=new Set,b=new Set;let w=u.storage;if(!w)return h((...O)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),d(...O)},m,r);const N=()=>{const O=u.partialize({...m()});return w.setItem(u.name,{state:O,version:u.version})},T=r.setState;r.setState=(O,R)=>{T(O,R),N()};const k=h((...O)=>{d(...O),N()},m,r);r.getInitialState=()=>k;let P;const H=()=>{var O,R;if(!w)return;g=!1,y.forEach(ce=>{var G;return ce((G=m())!=null?G:k)});const J=((R=u.onRehydrateStorage)==null?void 0:R.call(u,(O=m())!=null?O:k))||void 0;return od(w.getItem.bind(w))(u.name).then(ce=>{if(ce)if(typeof ce.version=="number"&&ce.version!==u.version){if(u.migrate){const G=u.migrate(ce.state,ce.version);return G instanceof Promise?G.then(ne=>[!0,ne]):[!0,G]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ce.state];return[!1,void 0]}).then(ce=>{var G;const[ne,W]=ce;if(P=u.merge(W,(G=m())!=null?G:k),d(P,!0),ne)return N()}).then(()=>{J==null||J(P,void 0),P=m(),g=!0,b.forEach(ce=>ce(P))}).catch(ce=>{J==null||J(void 0,ce)})};return r.persist={setOptions:O=>{u={...u,...O},O.storage&&(w=O.storage)},clearStorage:()=>{w==null||w.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>H(),hasHydrated:()=>g,onHydrate:O=>(y.add(O),()=>{y.delete(O)}),onFinishHydration:O=>(b.add(O),()=>{b.delete(O)})},u.skipHydration||H(),P||k},ss=Zg,Vl={1:{id:"R1-GO-001",nome:"Encosta do Morro da Cruz",municipio:"Goiânia",bairro:"Jardim das Oliveiras",tipoRisco:"Deslizamento Rotacional",nivelAmeaca:"Alto",corNivelTailwind:"bg-red-100 text-red-800 border-red-500",corMapa:"red",opacidadeMapa:.5,raioMapa:500,coordenadas:[[-16.6869,-49.2648],[-16.685,-49.263],[-16.683,-49.265],[-16.684,-49.267],[-16.686,-49.2665]],responsavelDC:"Agente Silva (Mat. 12345)",dataCadastro:"15/03/2023",ultimaAtualizacao:"01/06/2025",descricao:"Área com histórico de deslizamentos em períodos chuvosos intensos. Solo argiloso com alta declividade e ocupação irregular na crista.",fatoresNaturais:"Declividade acentuada, solo expansivo, chuvas concentradas.",fatoresAntropicos:"Desmatamento, cortes inadequados no terreno, lançamento de esgoto.",evidencias:"Trincas no solo, árvores inclinadas, muros estufados.",populacaoExposta:"Aprox. 50 famílias (200 pessoas)",edificacoesExpostas:"35 residências, 1 escola infantil",infraestruturaExposta:"Rede de água, posteamento elétrico.",historicoIncidentes:[{data:"10/01/2022",descricao:"Pequeno deslizamento, sem vítimas, afetou 2 casas."},{data:"25/02/2024",descricao:"Deslizamento maior, interditou 5 casas, 1 ferido leve."}],acoesMitigadoras:"Construção de canaletas de drenagem (parcial), monitoramento visual.",medidasRecomendadas:"Remoção de famílias em áreas críticas, obra de contenção, revegetação.",statusMonitoramento:"Monitorada - Alerta Laranja",anexos:[{nome:"Laudo Geotécnico 2023.pdf",url:"#"},{nome:"Fotos_Area_Maio_2025.zip",url:"#"}]},2:{id:"R2-AP-015",nome:"Margem do Rio Meia Ponte",municipio:"Aparecida de Goiânia",bairro:"Vila Delfiori",tipoRisco:"Fluxo de Detritos / Inundação",nivelAmeaca:"Médio",corNivelTailwind:"bg-orange-100 text-orange-800 border-orange-500",corMapa:"orange",opacidadeMapa:.5,raioMapa:800,coordenadas:[[-16.8223,-49.247],[-16.82,-49.245],[-16.818,-49.248],[-16.821,-49.249]],responsavelDC:"Agente Oliveira (Mat. 54321)",dataCadastro:"20/07/2022",ultimaAtualizacao:"10/05/2025",descricao:"Trecho com recorrência de inundações rápidas e potencial para fluxo de detritos.",fatoresNaturais:"Proximidade do rio, topografia plana.",fatoresAntropicos:"Ocupação da planície de inundação.",evidencias:"Marcas de inundação.",populacaoExposta:"Aprox. 120 famílias",edificacoesExpostas:"100 residências",infraestruturaExposta:"Ruas frequentemente alagadas.",historicoIncidentes:[{data:"05/11/2023",descricao:"Inundação atingiu 80 casas."}],acoesMitigadoras:"Limpeza parcial do córrego.",medidasRecomendadas:"Reassentamento, sistema de alerta.",statusMonitoramento:"Monitorada - Atenção",anexos:[{nome:"Relatório Vistoria 2024.pdf",url:"#"}]},3:{id:"R3-CZ-004",nome:"Pedreira Desativada",municipio:"Catalão",bairro:"Zona Rural Leste",tipoRisco:"Queda de Blocos",nivelAmeaca:"Baixo",corNivelTailwind:"bg-yellow-100 text-yellow-800 border-yellow-500",corMapa:"yellow",opacidadeMapa:.5,raioMapa:300,coordenadas:[[-18.1686,-47.9459],[-18.167,-47.944],[-18.166,-47.9465],[-18.1675,-47.9475]],responsavelDC:"Agente Santos (Mat. 67890)",dataCadastro:"02/02/2024",ultimaAtualizacao:"02/02/2024",descricao:"Antiga área de extração mineral com taludes instáveis.",statusMonitoramento:"Monitorada - Informativo",anexos:[]},4:{id:"R4-RV-007",nome:"Serra de Rio Verde - Trecho Sul",municipio:"Rio Verde",bairro:"Zona de Expansão Urbana",tipoRisco:"Deslizamento Planar",nivelAmeaca:"Alto",corNivelTailwind:"bg-red-100 text-red-800 border-red-500",corMapa:"red",opacidadeMapa:.5,raioMapa:600,coordenadas:[[-17.7986,-50.9289],[-17.797,-50.927],[-17.795,-50.9295],[-17.7965,-50.9305],[-17.798,-50.93]],responsavelDC:"Agente Pereira (Mat. 10112)",dataCadastro:"10/09/2021",ultimaAtualizacao:"15/04/2025",descricao:"Vertente com inclinação moderada a forte, com sinais de movimentação.",statusMonitoramento:"Monitorada Intensivamente - Alerta Vermelho",anexos:[{nome:"Parecer Técnico 2025.pdf",url:"#"}]}};function Um(h,v){return function(){return h.apply(v,arguments)}}const{toString:qg}=Object.prototype,{getPrototypeOf:md}=Object,{iterator:Fl,toStringTag:Im}=Symbol,Kl=(h=>v=>{const d=qg.call(v);return h[d]||(h[d]=d.slice(8,-1).toLowerCase())})(Object.create(null)),ki=h=>(h=h.toLowerCase(),v=>Kl(v)===h),Ql=h=>v=>typeof v===h,{isArray:Js}=Array,lr=Ql("undefined");function Vg(h){return h!==null&&!lr(h)&&h.constructor!==null&&!lr(h.constructor)&&Wt(h.constructor.isBuffer)&&h.constructor.isBuffer(h)}const Hm=ki("ArrayBuffer");function Yg(h){let v;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?v=ArrayBuffer.isView(h):v=h&&h.buffer&&Hm(h.buffer),v}const Xg=Ql("string"),Wt=Ql("function"),Gm=Ql("number"),Jl=h=>h!==null&&typeof h=="object",Fg=h=>h===!0||h===!1,Gl=h=>{if(Kl(h)!=="object")return!1;const v=md(h);return(v===null||v===Object.prototype||Object.getPrototypeOf(v)===null)&&!(Im in h)&&!(Fl in h)},Kg=ki("Date"),Qg=ki("File"),Jg=ki("Blob"),Wg=ki("FileList"),$g=h=>Jl(h)&&Wt(h.pipe),ev=h=>{let v;return h&&(typeof FormData=="function"&&h instanceof FormData||Wt(h.append)&&((v=Kl(h))==="formdata"||v==="object"&&Wt(h.toString)&&h.toString()==="[object FormData]"))},tv=ki("URLSearchParams"),[iv,nv,av,sv]=["ReadableStream","Request","Response","Headers"].map(ki),ov=h=>h.trim?h.trim():h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cr(h,v,{allOwnKeys:d=!1}={}){if(h===null||typeof h>"u")return;let m,r;if(typeof h!="object"&&(h=[h]),Js(h))for(m=0,r=h.length;m<r;m++)v.call(null,h[m],m,h);else{const u=d?Object.getOwnPropertyNames(h):Object.keys(h),g=u.length;let y;for(m=0;m<g;m++)y=u[m],v.call(null,h[y],y,h)}}function Zm(h,v){v=v.toLowerCase();const d=Object.keys(h);let m=d.length,r;for(;m-- >0;)if(r=d[m],v===r.toLowerCase())return r;return null}const ts=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qm=h=>!lr(h)&&h!==ts;function rd(){const{caseless:h}=qm(this)&&this||{},v={},d=(m,r)=>{const u=h&&Zm(v,r)||r;Gl(v[u])&&Gl(m)?v[u]=rd(v[u],m):Gl(m)?v[u]=rd({},m):Js(m)?v[u]=m.slice():v[u]=m};for(let m=0,r=arguments.length;m<r;m++)arguments[m]&&cr(arguments[m],d);return v}const rv=(h,v,d,{allOwnKeys:m}={})=>(cr(v,(r,u)=>{d&&Wt(r)?h[u]=Um(r,d):h[u]=r},{allOwnKeys:m}),h),lv=h=>(h.charCodeAt(0)===65279&&(h=h.slice(1)),h),cv=(h,v,d,m)=>{h.prototype=Object.create(v.prototype,m),h.prototype.constructor=h,Object.defineProperty(h,"super",{value:v.prototype}),d&&Object.assign(h.prototype,d)},uv=(h,v,d,m)=>{let r,u,g;const y={};if(v=v||{},h==null)return v;do{for(r=Object.getOwnPropertyNames(h),u=r.length;u-- >0;)g=r[u],(!m||m(g,h,v))&&!y[g]&&(v[g]=h[g],y[g]=!0);h=d!==!1&&md(h)}while(h&&(!d||d(h,v))&&h!==Object.prototype);return v},dv=(h,v,d)=>{h=String(h),(d===void 0||d>h.length)&&(d=h.length),d-=v.length;const m=h.indexOf(v,d);return m!==-1&&m===d},hv=h=>{if(!h)return null;if(Js(h))return h;let v=h.length;if(!Gm(v))return null;const d=new Array(v);for(;v-- >0;)d[v]=h[v];return d},fv=(h=>v=>h&&v instanceof h)(typeof Uint8Array<"u"&&md(Uint8Array)),mv=(h,v)=>{const m=(h&&h[Fl]).call(h);let r;for(;(r=m.next())&&!r.done;){const u=r.value;v.call(h,u[0],u[1])}},pv=(h,v)=>{let d;const m=[];for(;(d=h.exec(v))!==null;)m.push(d);return m},gv=ki("HTMLFormElement"),vv=h=>h.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(d,m,r){return m.toUpperCase()+r}),Em=(({hasOwnProperty:h})=>(v,d)=>h.call(v,d))(Object.prototype),_v=ki("RegExp"),Vm=(h,v)=>{const d=Object.getOwnPropertyDescriptors(h),m={};cr(d,(r,u)=>{let g;(g=v(r,u,h))!==!1&&(m[u]=g||r)}),Object.defineProperties(h,m)},xv=h=>{Vm(h,(v,d)=>{if(Wt(h)&&["arguments","caller","callee"].indexOf(d)!==-1)return!1;const m=h[d];if(Wt(m)){if(v.enumerable=!1,"writable"in v){v.writable=!1;return}v.set||(v.set=()=>{throw Error("Can not rewrite read-only method '"+d+"'")})}})},yv=(h,v)=>{const d={},m=r=>{r.forEach(u=>{d[u]=!0})};return Js(h)?m(h):m(String(h).split(v)),d},bv=()=>{},wv=(h,v)=>h!=null&&Number.isFinite(h=+h)?h:v;function Ev(h){return!!(h&&Wt(h.append)&&h[Im]==="FormData"&&h[Fl])}const Lv=h=>{const v=new Array(10),d=(m,r)=>{if(Jl(m)){if(v.indexOf(m)>=0)return;if(!("toJSON"in m)){v[r]=m;const u=Js(m)?[]:{};return cr(m,(g,y)=>{const b=d(g,r+1);!lr(b)&&(u[y]=b)}),v[r]=void 0,u}}return m};return d(h,0)},Sv=ki("AsyncFunction"),Nv=h=>h&&(Jl(h)||Wt(h))&&Wt(h.then)&&Wt(h.catch),Ym=((h,v)=>h?setImmediate:v?((d,m)=>(ts.addEventListener("message",({source:r,data:u})=>{r===ts&&u===d&&m.length&&m.shift()()},!1),r=>{m.push(r),ts.postMessage(d,"*")}))(`axios@${Math.random()}`,[]):d=>setTimeout(d))(typeof setImmediate=="function",Wt(ts.postMessage)),Tv=typeof queueMicrotask<"u"?queueMicrotask.bind(ts):typeof process<"u"&&process.nextTick||Ym,Av=h=>h!=null&&Wt(h[Fl]),X={isArray:Js,isArrayBuffer:Hm,isBuffer:Vg,isFormData:ev,isArrayBufferView:Yg,isString:Xg,isNumber:Gm,isBoolean:Fg,isObject:Jl,isPlainObject:Gl,isReadableStream:iv,isRequest:nv,isResponse:av,isHeaders:sv,isUndefined:lr,isDate:Kg,isFile:Qg,isBlob:Jg,isRegExp:_v,isFunction:Wt,isStream:$g,isURLSearchParams:tv,isTypedArray:fv,isFileList:Wg,forEach:cr,merge:rd,extend:rv,trim:ov,stripBOM:lv,inherits:cv,toFlatObject:uv,kindOf:Kl,kindOfTest:ki,endsWith:dv,toArray:hv,forEachEntry:mv,matchAll:pv,isHTMLForm:gv,hasOwnProperty:Em,hasOwnProp:Em,reduceDescriptors:Vm,freezeMethods:xv,toObjectSet:yv,toCamelCase:vv,noop:bv,toFiniteNumber:wv,findKey:Zm,global:ts,isContextDefined:qm,isSpecCompliantForm:Ev,toJSONObject:Lv,isAsyncFn:Sv,isThenable:Nv,setImmediate:Ym,asap:Tv,isIterable:Av};function Me(h,v,d,m,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=h,this.name="AxiosError",v&&(this.code=v),d&&(this.config=d),m&&(this.request=m),r&&(this.response=r,this.status=r.status?r.status:null)}X.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Xm=Me.prototype,Fm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(h=>{Fm[h]={value:h}});Object.defineProperties(Me,Fm);Object.defineProperty(Xm,"isAxiosError",{value:!0});Me.from=(h,v,d,m,r,u)=>{const g=Object.create(Xm);return X.toFlatObject(h,g,function(b){return b!==Error.prototype},y=>y!=="isAxiosError"),Me.call(g,h.message,v,d,m,r),g.cause=h,g.name=h.name,u&&Object.assign(g,u),g};const Mv=null;function ld(h){return X.isPlainObject(h)||X.isArray(h)}function Km(h){return X.endsWith(h,"[]")?h.slice(0,-2):h}function Lm(h,v,d){return h?h.concat(v).map(function(r,u){return r=Km(r),!d&&u?"["+r+"]":r}).join(d?".":""):v}function jv(h){return X.isArray(h)&&!h.some(ld)}const Cv=X.toFlatObject(X,{},null,function(v){return/^is[A-Z]/.test(v)});function Wl(h,v,d){if(!X.isObject(h))throw new TypeError("target must be an object");v=v||new FormData,d=X.toFlatObject(d,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,R){return!X.isUndefined(R[O])});const m=d.metaTokens,r=d.visitor||N,u=d.dots,g=d.indexes,b=(d.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(v);if(!X.isFunction(r))throw new TypeError("visitor must be a function");function w(H){if(H===null)return"";if(X.isDate(H))return H.toISOString();if(!b&&X.isBlob(H))throw new Me("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(H)||X.isTypedArray(H)?b&&typeof Blob=="function"?new Blob([H]):Buffer.from(H):H}function N(H,O,R){let J=H;if(H&&!R&&typeof H=="object"){if(X.endsWith(O,"{}"))O=m?O:O.slice(0,-2),H=JSON.stringify(H);else if(X.isArray(H)&&jv(H)||(X.isFileList(H)||X.endsWith(O,"[]"))&&(J=X.toArray(H)))return O=Km(O),J.forEach(function(G,ne){!(X.isUndefined(G)||G===null)&&v.append(g===!0?Lm([O],ne,u):g===null?O:O+"[]",w(G))}),!1}return ld(H)?!0:(v.append(Lm(R,O,u),w(H)),!1)}const T=[],k=Object.assign(Cv,{defaultVisitor:N,convertValue:w,isVisitable:ld});function P(H,O){if(!X.isUndefined(H)){if(T.indexOf(H)!==-1)throw Error("Circular reference detected in "+O.join("."));T.push(H),X.forEach(H,function(J,ce){(!(X.isUndefined(J)||J===null)&&r.call(v,J,X.isString(ce)?ce.trim():ce,O,k))===!0&&P(J,O?O.concat(ce):[ce])}),T.pop()}}if(!X.isObject(h))throw new TypeError("data must be an object");return P(h),v}function Sm(h){const v={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(h).replace(/[!'()~]|%20|%00/g,function(m){return v[m]})}function pd(h,v){this._pairs=[],h&&Wl(h,this,v)}const Qm=pd.prototype;Qm.append=function(v,d){this._pairs.push([v,d])};Qm.toString=function(v){const d=v?function(m){return v.call(this,m,Sm)}:Sm;return this._pairs.map(function(r){return d(r[0])+"="+d(r[1])},"").join("&")};function Rv(h){return encodeURIComponent(h).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jm(h,v,d){if(!v)return h;const m=d&&d.encode||Rv;X.isFunction(d)&&(d={serialize:d});const r=d&&d.serialize;let u;if(r?u=r(v,d):u=X.isURLSearchParams(v)?v.toString():new pd(v,d).toString(m),u){const g=h.indexOf("#");g!==-1&&(h=h.slice(0,g)),h+=(h.indexOf("?")===-1?"?":"&")+u}return h}class Nm{constructor(){this.handlers=[]}use(v,d,m){return this.handlers.push({fulfilled:v,rejected:d,synchronous:m?m.synchronous:!1,runWhen:m?m.runWhen:null}),this.handlers.length-1}eject(v){this.handlers[v]&&(this.handlers[v]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(v){X.forEach(this.handlers,function(m){m!==null&&v(m)})}}const Wm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dv=typeof URLSearchParams<"u"?URLSearchParams:pd,Ov=typeof FormData<"u"?FormData:null,kv=typeof Blob<"u"?Blob:null,zv={isBrowser:!0,classes:{URLSearchParams:Dv,FormData:Ov,Blob:kv},protocols:["http","https","file","blob","url","data"]},gd=typeof window<"u"&&typeof document<"u",cd=typeof navigator=="object"&&navigator||void 0,Pv=gd&&(!cd||["ReactNative","NativeScript","NS"].indexOf(cd.product)<0),Bv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uv=gd&&window.location.href||"http://localhost",Iv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gd,hasStandardBrowserEnv:Pv,hasStandardBrowserWebWorkerEnv:Bv,navigator:cd,origin:Uv},Symbol.toStringTag,{value:"Module"})),kt={...Iv,...zv};function Hv(h,v){return Wl(h,new kt.classes.URLSearchParams,Object.assign({visitor:function(d,m,r,u){return kt.isNode&&X.isBuffer(d)?(this.append(m,d.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},v))}function Gv(h){return X.matchAll(/\w+|\[(\w*)]/g,h).map(v=>v[0]==="[]"?"":v[1]||v[0])}function Zv(h){const v={},d=Object.keys(h);let m;const r=d.length;let u;for(m=0;m<r;m++)u=d[m],v[u]=h[u];return v}function $m(h){function v(d,m,r,u){let g=d[u++];if(g==="__proto__")return!0;const y=Number.isFinite(+g),b=u>=d.length;return g=!g&&X.isArray(r)?r.length:g,b?(X.hasOwnProp(r,g)?r[g]=[r[g],m]:r[g]=m,!y):((!r[g]||!X.isObject(r[g]))&&(r[g]=[]),v(d,m,r[g],u)&&X.isArray(r[g])&&(r[g]=Zv(r[g])),!y)}if(X.isFormData(h)&&X.isFunction(h.entries)){const d={};return X.forEachEntry(h,(m,r)=>{v(Gv(m),r,d,0)}),d}return null}function qv(h,v,d){if(X.isString(h))try{return(v||JSON.parse)(h),X.trim(h)}catch(m){if(m.name!=="SyntaxError")throw m}return(d||JSON.stringify)(h)}const ur={transitional:Wm,adapter:["xhr","http","fetch"],transformRequest:[function(v,d){const m=d.getContentType()||"",r=m.indexOf("application/json")>-1,u=X.isObject(v);if(u&&X.isHTMLForm(v)&&(v=new FormData(v)),X.isFormData(v))return r?JSON.stringify($m(v)):v;if(X.isArrayBuffer(v)||X.isBuffer(v)||X.isStream(v)||X.isFile(v)||X.isBlob(v)||X.isReadableStream(v))return v;if(X.isArrayBufferView(v))return v.buffer;if(X.isURLSearchParams(v))return d.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),v.toString();let y;if(u){if(m.indexOf("application/x-www-form-urlencoded")>-1)return Hv(v,this.formSerializer).toString();if((y=X.isFileList(v))||m.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Wl(y?{"files[]":v}:v,b&&new b,this.formSerializer)}}return u||r?(d.setContentType("application/json",!1),qv(v)):v}],transformResponse:[function(v){const d=this.transitional||ur.transitional,m=d&&d.forcedJSONParsing,r=this.responseType==="json";if(X.isResponse(v)||X.isReadableStream(v))return v;if(v&&X.isString(v)&&(m&&!this.responseType||r)){const g=!(d&&d.silentJSONParsing)&&r;try{return JSON.parse(v)}catch(y){if(g)throw y.name==="SyntaxError"?Me.from(y,Me.ERR_BAD_RESPONSE,this,null,this.response):y}}return v}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(v){return v>=200&&v<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],h=>{ur.headers[h]={}});const Vv=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yv=h=>{const v={};let d,m,r;return h&&h.split(`
`).forEach(function(g){r=g.indexOf(":"),d=g.substring(0,r).trim().toLowerCase(),m=g.substring(r+1).trim(),!(!d||v[d]&&Vv[d])&&(d==="set-cookie"?v[d]?v[d].push(m):v[d]=[m]:v[d]=v[d]?v[d]+", "+m:m)}),v},Tm=Symbol("internals");function or(h){return h&&String(h).trim().toLowerCase()}function Zl(h){return h===!1||h==null?h:X.isArray(h)?h.map(Zl):String(h)}function Xv(h){const v=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let m;for(;m=d.exec(h);)v[m[1]]=m[2];return v}const Fv=h=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(h.trim());function nd(h,v,d,m,r){if(X.isFunction(m))return m.call(this,v,d);if(r&&(v=d),!!X.isString(v)){if(X.isString(m))return v.indexOf(m)!==-1;if(X.isRegExp(m))return m.test(v)}}function Kv(h){return h.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(v,d,m)=>d.toUpperCase()+m)}function Qv(h,v){const d=X.toCamelCase(" "+v);["get","set","has"].forEach(m=>{Object.defineProperty(h,m+d,{value:function(r,u,g){return this[m].call(this,v,r,u,g)},configurable:!0})})}let $t=class{constructor(v){v&&this.set(v)}set(v,d,m){const r=this;function u(y,b,w){const N=or(b);if(!N)throw new Error("header name must be a non-empty string");const T=X.findKey(r,N);(!T||r[T]===void 0||w===!0||w===void 0&&r[T]!==!1)&&(r[T||b]=Zl(y))}const g=(y,b)=>X.forEach(y,(w,N)=>u(w,N,b));if(X.isPlainObject(v)||v instanceof this.constructor)g(v,d);else if(X.isString(v)&&(v=v.trim())&&!Fv(v))g(Yv(v),d);else if(X.isObject(v)&&X.isIterable(v)){let y={},b,w;for(const N of v){if(!X.isArray(N))throw TypeError("Object iterator must return a key-value pair");y[w=N[0]]=(b=y[w])?X.isArray(b)?[...b,N[1]]:[b,N[1]]:N[1]}g(y,d)}else v!=null&&u(d,v,m);return this}get(v,d){if(v=or(v),v){const m=X.findKey(this,v);if(m){const r=this[m];if(!d)return r;if(d===!0)return Xv(r);if(X.isFunction(d))return d.call(this,r,m);if(X.isRegExp(d))return d.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(v,d){if(v=or(v),v){const m=X.findKey(this,v);return!!(m&&this[m]!==void 0&&(!d||nd(this,this[m],m,d)))}return!1}delete(v,d){const m=this;let r=!1;function u(g){if(g=or(g),g){const y=X.findKey(m,g);y&&(!d||nd(m,m[y],y,d))&&(delete m[y],r=!0)}}return X.isArray(v)?v.forEach(u):u(v),r}clear(v){const d=Object.keys(this);let m=d.length,r=!1;for(;m--;){const u=d[m];(!v||nd(this,this[u],u,v,!0))&&(delete this[u],r=!0)}return r}normalize(v){const d=this,m={};return X.forEach(this,(r,u)=>{const g=X.findKey(m,u);if(g){d[g]=Zl(r),delete d[u];return}const y=v?Kv(u):String(u).trim();y!==u&&delete d[u],d[y]=Zl(r),m[y]=!0}),this}concat(...v){return this.constructor.concat(this,...v)}toJSON(v){const d=Object.create(null);return X.forEach(this,(m,r)=>{m!=null&&m!==!1&&(d[r]=v&&X.isArray(m)?m.join(", "):m)}),d}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([v,d])=>v+": "+d).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(v){return v instanceof this?v:new this(v)}static concat(v,...d){const m=new this(v);return d.forEach(r=>m.set(r)),m}static accessor(v){const m=(this[Tm]=this[Tm]={accessors:{}}).accessors,r=this.prototype;function u(g){const y=or(g);m[y]||(Qv(r,g),m[y]=!0)}return X.isArray(v)?v.forEach(u):u(v),this}};$t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors($t.prototype,({value:h},v)=>{let d=v[0].toUpperCase()+v.slice(1);return{get:()=>h,set(m){this[d]=m}}});X.freezeMethods($t);function ad(h,v){const d=this||ur,m=v||d,r=$t.from(m.headers);let u=m.data;return X.forEach(h,function(y){u=y.call(d,u,r.normalize(),v?v.status:void 0)}),r.normalize(),u}function ep(h){return!!(h&&h.__CANCEL__)}function Ws(h,v,d){Me.call(this,h??"canceled",Me.ERR_CANCELED,v,d),this.name="CanceledError"}X.inherits(Ws,Me,{__CANCEL__:!0});function tp(h,v,d){const m=d.config.validateStatus;!d.status||!m||m(d.status)?h(d):v(new Me("Request failed with status code "+d.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(d.status/100)-4],d.config,d.request,d))}function Jv(h){const v=/^([-+\w]{1,25})(:?\/\/|:)/.exec(h);return v&&v[1]||""}function Wv(h,v){h=h||10;const d=new Array(h),m=new Array(h);let r=0,u=0,g;return v=v!==void 0?v:1e3,function(b){const w=Date.now(),N=m[u];g||(g=w),d[r]=b,m[r]=w;let T=u,k=0;for(;T!==r;)k+=d[T++],T=T%h;if(r=(r+1)%h,r===u&&(u=(u+1)%h),w-g<v)return;const P=N&&w-N;return P?Math.round(k*1e3/P):void 0}}function $v(h,v){let d=0,m=1e3/v,r,u;const g=(w,N=Date.now())=>{d=N,r=null,u&&(clearTimeout(u),u=null),h.apply(null,w)};return[(...w)=>{const N=Date.now(),T=N-d;T>=m?g(w,N):(r=w,u||(u=setTimeout(()=>{u=null,g(r)},m-T)))},()=>r&&g(r)]}const Yl=(h,v,d=3)=>{let m=0;const r=Wv(50,250);return $v(u=>{const g=u.loaded,y=u.lengthComputable?u.total:void 0,b=g-m,w=r(b),N=g<=y;m=g;const T={loaded:g,total:y,progress:y?g/y:void 0,bytes:b,rate:w||void 0,estimated:w&&y&&N?(y-g)/w:void 0,event:u,lengthComputable:y!=null,[v?"download":"upload"]:!0};h(T)},d)},Am=(h,v)=>{const d=h!=null;return[m=>v[0]({lengthComputable:d,total:h,loaded:m}),v[1]]},Mm=h=>(...v)=>X.asap(()=>h(...v)),e_=kt.hasStandardBrowserEnv?((h,v)=>d=>(d=new URL(d,kt.origin),h.protocol===d.protocol&&h.host===d.host&&(v||h.port===d.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,t_=kt.hasStandardBrowserEnv?{write(h,v,d,m,r,u){const g=[h+"="+encodeURIComponent(v)];X.isNumber(d)&&g.push("expires="+new Date(d).toGMTString()),X.isString(m)&&g.push("path="+m),X.isString(r)&&g.push("domain="+r),u===!0&&g.push("secure"),document.cookie=g.join("; ")},read(h){const v=document.cookie.match(new RegExp("(^|;\\s*)("+h+")=([^;]*)"));return v?decodeURIComponent(v[3]):null},remove(h){this.write(h,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function i_(h){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(h)}function n_(h,v){return v?h.replace(/\/?\/$/,"")+"/"+v.replace(/^\/+/,""):h}function ip(h,v,d){let m=!i_(v);return h&&(m||d==!1)?n_(h,v):v}const jm=h=>h instanceof $t?{...h}:h;function ns(h,v){v=v||{};const d={};function m(w,N,T,k){return X.isPlainObject(w)&&X.isPlainObject(N)?X.merge.call({caseless:k},w,N):X.isPlainObject(N)?X.merge({},N):X.isArray(N)?N.slice():N}function r(w,N,T,k){if(X.isUndefined(N)){if(!X.isUndefined(w))return m(void 0,w,T,k)}else return m(w,N,T,k)}function u(w,N){if(!X.isUndefined(N))return m(void 0,N)}function g(w,N){if(X.isUndefined(N)){if(!X.isUndefined(w))return m(void 0,w)}else return m(void 0,N)}function y(w,N,T){if(T in v)return m(w,N);if(T in h)return m(void 0,w)}const b={url:u,method:u,data:u,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:y,headers:(w,N,T)=>r(jm(w),jm(N),T,!0)};return X.forEach(Object.keys(Object.assign({},h,v)),function(N){const T=b[N]||r,k=T(h[N],v[N],N);X.isUndefined(k)&&T!==y||(d[N]=k)}),d}const np=h=>{const v=ns({},h);let{data:d,withXSRFToken:m,xsrfHeaderName:r,xsrfCookieName:u,headers:g,auth:y}=v;v.headers=g=$t.from(g),v.url=Jm(ip(v.baseURL,v.url,v.allowAbsoluteUrls),h.params,h.paramsSerializer),y&&g.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let b;if(X.isFormData(d)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if((b=g.getContentType())!==!1){const[w,...N]=b?b.split(";").map(T=>T.trim()).filter(Boolean):[];g.setContentType([w||"multipart/form-data",...N].join("; "))}}if(kt.hasStandardBrowserEnv&&(m&&X.isFunction(m)&&(m=m(v)),m||m!==!1&&e_(v.url))){const w=r&&u&&t_.read(u);w&&g.set(r,w)}return v},a_=typeof XMLHttpRequest<"u",s_=a_&&function(h){return new Promise(function(d,m){const r=np(h);let u=r.data;const g=$t.from(r.headers).normalize();let{responseType:y,onUploadProgress:b,onDownloadProgress:w}=r,N,T,k,P,H;function O(){P&&P(),H&&H(),r.cancelToken&&r.cancelToken.unsubscribe(N),r.signal&&r.signal.removeEventListener("abort",N)}let R=new XMLHttpRequest;R.open(r.method.toUpperCase(),r.url,!0),R.timeout=r.timeout;function J(){if(!R)return;const G=$t.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),W={data:!y||y==="text"||y==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:G,config:h,request:R};tp(function(oe){d(oe),O()},function(oe){m(oe),O()},W),R=null}"onloadend"in R?R.onloadend=J:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(J)},R.onabort=function(){R&&(m(new Me("Request aborted",Me.ECONNABORTED,h,R)),R=null)},R.onerror=function(){m(new Me("Network Error",Me.ERR_NETWORK,h,R)),R=null},R.ontimeout=function(){let ne=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const W=r.transitional||Wm;r.timeoutErrorMessage&&(ne=r.timeoutErrorMessage),m(new Me(ne,W.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,h,R)),R=null},u===void 0&&g.setContentType(null),"setRequestHeader"in R&&X.forEach(g.toJSON(),function(ne,W){R.setRequestHeader(W,ne)}),X.isUndefined(r.withCredentials)||(R.withCredentials=!!r.withCredentials),y&&y!=="json"&&(R.responseType=r.responseType),w&&([k,H]=Yl(w,!0),R.addEventListener("progress",k)),b&&R.upload&&([T,P]=Yl(b),R.upload.addEventListener("progress",T),R.upload.addEventListener("loadend",P)),(r.cancelToken||r.signal)&&(N=G=>{R&&(m(!G||G.type?new Ws(null,h,R):G),R.abort(),R=null)},r.cancelToken&&r.cancelToken.subscribe(N),r.signal&&(r.signal.aborted?N():r.signal.addEventListener("abort",N)));const ce=Jv(r.url);if(ce&&kt.protocols.indexOf(ce)===-1){m(new Me("Unsupported protocol "+ce+":",Me.ERR_BAD_REQUEST,h));return}R.send(u||null)})},o_=(h,v)=>{const{length:d}=h=h?h.filter(Boolean):[];if(v||d){let m=new AbortController,r;const u=function(w){if(!r){r=!0,y();const N=w instanceof Error?w:this.reason;m.abort(N instanceof Me?N:new Ws(N instanceof Error?N.message:N))}};let g=v&&setTimeout(()=>{g=null,u(new Me(`timeout ${v} of ms exceeded`,Me.ETIMEDOUT))},v);const y=()=>{h&&(g&&clearTimeout(g),g=null,h.forEach(w=>{w.unsubscribe?w.unsubscribe(u):w.removeEventListener("abort",u)}),h=null)};h.forEach(w=>w.addEventListener("abort",u));const{signal:b}=m;return b.unsubscribe=()=>X.asap(y),b}},r_=function*(h,v){let d=h.byteLength;if(d<v){yield h;return}let m=0,r;for(;m<d;)r=m+v,yield h.slice(m,r),m=r},l_=async function*(h,v){for await(const d of c_(h))yield*r_(d,v)},c_=async function*(h){if(h[Symbol.asyncIterator]){yield*h;return}const v=h.getReader();try{for(;;){const{done:d,value:m}=await v.read();if(d)break;yield m}}finally{await v.cancel()}},Cm=(h,v,d,m)=>{const r=l_(h,v);let u=0,g,y=b=>{g||(g=!0,m&&m(b))};return new ReadableStream({async pull(b){try{const{done:w,value:N}=await r.next();if(w){y(),b.close();return}let T=N.byteLength;if(d){let k=u+=T;d(k)}b.enqueue(new Uint8Array(N))}catch(w){throw y(w),w}},cancel(b){return y(b),r.return()}},{highWaterMark:2})},$l=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ap=$l&&typeof ReadableStream=="function",u_=$l&&(typeof TextEncoder=="function"?(h=>v=>h.encode(v))(new TextEncoder):async h=>new Uint8Array(await new Response(h).arrayBuffer())),sp=(h,...v)=>{try{return!!h(...v)}catch{return!1}},d_=ap&&sp(()=>{let h=!1;const v=new Request(kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!v}),Rm=64*1024,ud=ap&&sp(()=>X.isReadableStream(new Response("").body)),Xl={stream:ud&&(h=>h.body)};$l&&(h=>{["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!Xl[v]&&(Xl[v]=X.isFunction(h[v])?d=>d[v]():(d,m)=>{throw new Me(`Response type '${v}' is not supported`,Me.ERR_NOT_SUPPORT,m)})})})(new Response);const h_=async h=>{if(h==null)return 0;if(X.isBlob(h))return h.size;if(X.isSpecCompliantForm(h))return(await new Request(kt.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(X.isArrayBufferView(h)||X.isArrayBuffer(h))return h.byteLength;if(X.isURLSearchParams(h)&&(h=h+""),X.isString(h))return(await u_(h)).byteLength},f_=async(h,v)=>{const d=X.toFiniteNumber(h.getContentLength());return d??h_(v)},m_=$l&&(async h=>{let{url:v,method:d,data:m,signal:r,cancelToken:u,timeout:g,onDownloadProgress:y,onUploadProgress:b,responseType:w,headers:N,withCredentials:T="same-origin",fetchOptions:k}=np(h);w=w?(w+"").toLowerCase():"text";let P=o_([r,u&&u.toAbortSignal()],g),H;const O=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let R;try{if(b&&d_&&d!=="get"&&d!=="head"&&(R=await f_(N,m))!==0){let W=new Request(v,{method:"POST",body:m,duplex:"half"}),ae;if(X.isFormData(m)&&(ae=W.headers.get("content-type"))&&N.setContentType(ae),W.body){const[oe,ye]=Am(R,Yl(Mm(b)));m=Cm(W.body,Rm,oe,ye)}}X.isString(T)||(T=T?"include":"omit");const J="credentials"in Request.prototype;H=new Request(v,{...k,signal:P,method:d.toUpperCase(),headers:N.normalize().toJSON(),body:m,duplex:"half",credentials:J?T:void 0});let ce=await fetch(H);const G=ud&&(w==="stream"||w==="response");if(ud&&(y||G&&O)){const W={};["status","statusText","headers"].forEach(F=>{W[F]=ce[F]});const ae=X.toFiniteNumber(ce.headers.get("content-length")),[oe,ye]=y&&Am(ae,Yl(Mm(y),!0))||[];ce=new Response(Cm(ce.body,Rm,oe,()=>{ye&&ye(),O&&O()}),W)}w=w||"text";let ne=await Xl[X.findKey(Xl,w)||"text"](ce,h);return!G&&O&&O(),await new Promise((W,ae)=>{tp(W,ae,{data:ne,headers:$t.from(ce.headers),status:ce.status,statusText:ce.statusText,config:h,request:H})})}catch(J){throw O&&O(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,h,H),{cause:J.cause||J}):Me.from(J,J&&J.code,h,H)}}),dd={http:Mv,xhr:s_,fetch:m_};X.forEach(dd,(h,v)=>{if(h){try{Object.defineProperty(h,"name",{value:v})}catch{}Object.defineProperty(h,"adapterName",{value:v})}});const Dm=h=>`- ${h}`,p_=h=>X.isFunction(h)||h===null||h===!1,op={getAdapter:h=>{h=X.isArray(h)?h:[h];const{length:v}=h;let d,m;const r={};for(let u=0;u<v;u++){d=h[u];let g;if(m=d,!p_(d)&&(m=dd[(g=String(d)).toLowerCase()],m===void 0))throw new Me(`Unknown adapter '${g}'`);if(m)break;r[g||"#"+u]=m}if(!m){const u=Object.entries(r).map(([y,b])=>`adapter ${y} `+(b===!1?"is not supported by the environment":"is not available in the build"));let g=v?u.length>1?`since :
`+u.map(Dm).join(`
`):" "+Dm(u[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return m},adapters:dd};function sd(h){if(h.cancelToken&&h.cancelToken.throwIfRequested(),h.signal&&h.signal.aborted)throw new Ws(null,h)}function Om(h){return sd(h),h.headers=$t.from(h.headers),h.data=ad.call(h,h.transformRequest),["post","put","patch"].indexOf(h.method)!==-1&&h.headers.setContentType("application/x-www-form-urlencoded",!1),op.getAdapter(h.adapter||ur.adapter)(h).then(function(m){return sd(h),m.data=ad.call(h,h.transformResponse,m),m.headers=$t.from(m.headers),m},function(m){return ep(m)||(sd(h),m&&m.response&&(m.response.data=ad.call(h,h.transformResponse,m.response),m.response.headers=$t.from(m.response.headers))),Promise.reject(m)})}const rp="1.9.0",ec={};["object","boolean","number","function","string","symbol"].forEach((h,v)=>{ec[h]=function(m){return typeof m===h||"a"+(v<1?"n ":" ")+h}});const km={};ec.transitional=function(v,d,m){function r(u,g){return"[Axios v"+rp+"] Transitional option '"+u+"'"+g+(m?". "+m:"")}return(u,g,y)=>{if(v===!1)throw new Me(r(g," has been removed"+(d?" in "+d:"")),Me.ERR_DEPRECATED);return d&&!km[g]&&(km[g]=!0,console.warn(r(g," has been deprecated since v"+d+" and will be removed in the near future"))),v?v(u,g,y):!0}};ec.spelling=function(v){return(d,m)=>(console.warn(`${m} is likely a misspelling of ${v}`),!0)};function g_(h,v,d){if(typeof h!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const m=Object.keys(h);let r=m.length;for(;r-- >0;){const u=m[r],g=v[u];if(g){const y=h[u],b=y===void 0||g(y,u,h);if(b!==!0)throw new Me("option "+u+" must be "+b,Me.ERR_BAD_OPTION_VALUE);continue}if(d!==!0)throw new Me("Unknown option "+u,Me.ERR_BAD_OPTION)}}const ql={assertOptions:g_,validators:ec},Qi=ql.validators;let is=class{constructor(v){this.defaults=v||{},this.interceptors={request:new Nm,response:new Nm}}async request(v,d){try{return await this._request(v,d)}catch(m){if(m instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const u=r.stack?r.stack.replace(/^.+\n/,""):"";try{m.stack?u&&!String(m.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(m.stack+=`
`+u):m.stack=u}catch{}}throw m}}_request(v,d){typeof v=="string"?(d=d||{},d.url=v):d=v||{},d=ns(this.defaults,d);const{transitional:m,paramsSerializer:r,headers:u}=d;m!==void 0&&ql.assertOptions(m,{silentJSONParsing:Qi.transitional(Qi.boolean),forcedJSONParsing:Qi.transitional(Qi.boolean),clarifyTimeoutError:Qi.transitional(Qi.boolean)},!1),r!=null&&(X.isFunction(r)?d.paramsSerializer={serialize:r}:ql.assertOptions(r,{encode:Qi.function,serialize:Qi.function},!0)),d.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?d.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:d.allowAbsoluteUrls=!0),ql.assertOptions(d,{baseUrl:Qi.spelling("baseURL"),withXsrfToken:Qi.spelling("withXSRFToken")},!0),d.method=(d.method||this.defaults.method||"get").toLowerCase();let g=u&&X.merge(u.common,u[d.method]);u&&X.forEach(["delete","get","head","post","put","patch","common"],H=>{delete u[H]}),d.headers=$t.concat(g,u);const y=[];let b=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(d)===!1||(b=b&&O.synchronous,y.unshift(O.fulfilled,O.rejected))});const w=[];this.interceptors.response.forEach(function(O){w.push(O.fulfilled,O.rejected)});let N,T=0,k;if(!b){const H=[Om.bind(this),void 0];for(H.unshift.apply(H,y),H.push.apply(H,w),k=H.length,N=Promise.resolve(d);T<k;)N=N.then(H[T++],H[T++]);return N}k=y.length;let P=d;for(T=0;T<k;){const H=y[T++],O=y[T++];try{P=H(P)}catch(R){O.call(this,R);break}}try{N=Om.call(this,P)}catch(H){return Promise.reject(H)}for(T=0,k=w.length;T<k;)N=N.then(w[T++],w[T++]);return N}getUri(v){v=ns(this.defaults,v);const d=ip(v.baseURL,v.url,v.allowAbsoluteUrls);return Jm(d,v.params,v.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(v){is.prototype[v]=function(d,m){return this.request(ns(m||{},{method:v,url:d,data:(m||{}).data}))}});X.forEach(["post","put","patch"],function(v){function d(m){return function(u,g,y){return this.request(ns(y||{},{method:v,headers:m?{"Content-Type":"multipart/form-data"}:{},url:u,data:g}))}}is.prototype[v]=d(),is.prototype[v+"Form"]=d(!0)});let v_=class lp{constructor(v){if(typeof v!="function")throw new TypeError("executor must be a function.");let d;this.promise=new Promise(function(u){d=u});const m=this;this.promise.then(r=>{if(!m._listeners)return;let u=m._listeners.length;for(;u-- >0;)m._listeners[u](r);m._listeners=null}),this.promise.then=r=>{let u;const g=new Promise(y=>{m.subscribe(y),u=y}).then(r);return g.cancel=function(){m.unsubscribe(u)},g},v(function(u,g,y){m.reason||(m.reason=new Ws(u,g,y),d(m.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(v){if(this.reason){v(this.reason);return}this._listeners?this._listeners.push(v):this._listeners=[v]}unsubscribe(v){if(!this._listeners)return;const d=this._listeners.indexOf(v);d!==-1&&this._listeners.splice(d,1)}toAbortSignal(){const v=new AbortController,d=m=>{v.abort(m)};return this.subscribe(d),v.signal.unsubscribe=()=>this.unsubscribe(d),v.signal}static source(){let v;return{token:new lp(function(r){v=r}),cancel:v}}};function __(h){return function(d){return h.apply(null,d)}}function x_(h){return X.isObject(h)&&h.isAxiosError===!0}const hd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hd).forEach(([h,v])=>{hd[v]=h});function cp(h){const v=new is(h),d=Um(is.prototype.request,v);return X.extend(d,is.prototype,v,{allOwnKeys:!0}),X.extend(d,v,null,{allOwnKeys:!0}),d.create=function(r){return cp(ns(h,r))},d}const ut=cp(ur);ut.Axios=is;ut.CanceledError=Ws;ut.CancelToken=v_;ut.isCancel=ep;ut.VERSION=rp;ut.toFormData=Wl;ut.AxiosError=Me;ut.Cancel=ut.CanceledError;ut.all=function(v){return Promise.all(v)};ut.spread=__;ut.isAxiosError=x_;ut.mergeConfig=ns;ut.AxiosHeaders=$t;ut.formToJSON=h=>$m(X.isHTMLForm(h)?new FormData(h):h);ut.getAdapter=op.getAdapter;ut.HttpStatusCode=hd;ut.default=ut;const{Axios:u0,AxiosError:d0,CanceledError:h0,isCancel:f0,CancelToken:m0,VERSION:p0,all:g0,Cancel:v0,isAxiosError:_0,spread:x0,toFormData:y0,AxiosHeaders:b0,HttpStatusCode:w0,formToJSON:E0,getAdapter:L0,mergeConfig:S0}=ut,Jt=ut.create({baseURL:"http://localhost:3001/api",timeout:1e4,headers:{"Content-Type":"application/json"}});Jt.interceptors.request.use(h=>{const v=localStorage.getItem("authToken");return v&&(h.headers.Authorization=`Bearer ${v}`),h},h=>Promise.reject(h));Jt.interceptors.response.use(h=>h,h=>{var v;return((v=h.response)==null?void 0:v.status)===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(h)});const Ji={getRiskAreas:()=>Jt.get("/risk-areas"),getRiskArea:h=>Jt.get(`/risk-areas/${h}`),createRiskArea:h=>Jt.post("/risk-areas",h),updateRiskArea:(h,v)=>Jt.put(`/risk-areas/${h}`,v),deleteRiskArea:h=>Jt.delete(`/risk-areas/${h}`),login:h=>Jt.post("/auth/login",h),logout:()=>Jt.post("/auth/logout"),refreshToken:()=>Jt.post("/auth/refresh"),getProfile:()=>Jt.get("/users/profile"),updateProfile:h=>Jt.put("/users/profile",h),getAlerts:()=>Jt.get("/monitoring/alerts"),getWeatherData:()=>Jt.get("/monitoring/weather")},zt=as(ss((h,v)=>({riskAreas:Vl,selectedAreaId:null,isInfoPanelOpen:!1,isLoginModalOpen:!1,loginActionTitle:"",loading:!1,error:null,isAuthenticated:!1,user:null,authToken:null,userTokens:0,userSubmissions:[],isTokenModalOpen:!1,isWithdrawModalOpen:!1,withdrawHistory:[],COIN_VALUE:.5,MIN_WITHDRAWAL:20,removalRequests:[],isRemovalModalOpen:!1,userVotes:[],votingHistory:[],inspectionRoadmaps:[],isRoadmapModalOpen:!1,tokenNotification:{show:!1,tokens:0,message:""},TOKEN_REWARDS:{SUBMISSION:5,APPROVED:20,CRITICAL_AREA:50,MONTHLY_ACTIVE:10},TOKEN_PENALTIES:{BAD_FAITH_VOTE:-15,FALSE_SUBMISSION:-25,SPAM_REPORTS:-10,REPEATED_OFFENSE:-50},fetchRiskAreas:async()=>{h({loading:!0,error:null});try{try{const d=await Ji.getRiskAreas();h({riskAreas:d.data,loading:!1})}catch{console.info("🔄 Modo desenvolvimento: usando dados mockados (backend não conectado)"),await new Promise(d=>setTimeout(d,100)),h({riskAreas:Vl,loading:!1})}}catch(d){h({error:d.message,loading:!1})}},selectArea:d=>{h({selectedAreaId:d})},toggleInfoPanel:d=>{h({isInfoPanelOpen:d}),d||h({selectedAreaId:null})},toggleLoginModal:(d,m="")=>{h({isLoginModalOpen:d,loginActionTitle:m})},login:async d=>{h({loading:!0,error:null});try{try{const m=await Ji.login(d),{token:r,user:u}=m.data;return localStorage.setItem("authToken",r),h({isAuthenticated:!0,user:u,authToken:r,loading:!1,isLoginModalOpen:!1,loginActionTitle:""}),{success:!0}}catch{console.info("🔐 Modo desenvolvimento: simulando login (backend não conectado)"),await new Promise(g=>setTimeout(g,500));const m={id:1,username:d.username,name:d.username==="inspetor"?"Inspetor de Campo":"Usuário Simulado",role:d.username==="inspetor"?"inspector":"admin",email:`${d.username}@sigar.go.gov.br`},r="mock-jwt-token-"+Date.now();localStorage.setItem("authToken",r);const u=v().loadUserData(d.username);return h({isAuthenticated:!0,user:m,authToken:r,loading:!1,isLoginModalOpen:!1,loginActionTitle:"",userTokens:u.tokens,userSubmissions:u.submissions,removalRequests:u.removalRequests||[]}),{success:!0}}}catch(m){return h({error:"Erro ao fazer login. Verifique suas credenciais.",loading:!1}),{success:!1,error:m.message}}},logout:async()=>{try{await Ji.logout()}catch(d){console.warn("Erro ao fazer logout na API:",d.message)}localStorage.removeItem("authToken"),h({isAuthenticated:!1,user:null,authToken:null})},clearError:()=>{h({error:null})},getSelectedArea:()=>{const{riskAreas:d,selectedAreaId:m}=v();return m&&Object.values(d).find(u=>u.id===m)||null},loadUserData:d=>d==="demo"||d==="admin"||d==="inspetor"?{tokens:85,submissions:[{id:"SUB-DEMO-001",areaId:"R1-GO-001",areaName:"Encosta do Morro da Cruz",description:"Área com histórico de deslizamentos em períodos chuvosos intensos.",riskLevel:"HIGH",affectedPopulation:200,submissionType:"NEW_AREA",status:"APPROVED",submittedAt:"2025-06-10T10:00:00.000Z",tokensEarned:75,reviewedAt:"2025-06-12T14:30:00.000Z",reviewedBy:"Eng. Ana Silva",reviewNotes:"Área confirmada após vistoria técnica. Alto risco de deslizamento confirmado."},{id:"SUB-DEMO-002",areaId:"R-DEMO-002",areaName:"Área Industrial - Setor Norte",description:"Possível contaminação química no solo da área industrial.",riskLevel:"MEDIUM",affectedPopulation:50,submissionType:"NEW_AREA",status:"REJECTED",submittedAt:"2025-06-08T15:20:00.000Z",tokensEarned:5,reviewedAt:"2025-06-09T09:15:00.000Z",reviewedBy:"Téc. Carlos Santos",reviewNotes:"Área não apresenta características de risco significativo após análise técnica."},{id:"SUB-DEMO-003",areaId:"R-DEMO-003",areaName:"Área Residencial - Vila Nova",description:"Suspeita de instabilidade do solo em área residencial.",riskLevel:"LOW",affectedPopulation:150,submissionType:"NEW_AREA",status:"PENDING",submittedAt:"2025-06-15T08:45:00.000Z",tokensEarned:5,reviewedAt:null,reviewedBy:null,reviewNotes:""},{id:"SUB-DEMO-004",areaId:"R1-GO-001",areaName:"Encosta do Morro da Cruz",description:"Atualização de dados: Novas construções irregulares na área de risco.",riskLevel:"HIGH",affectedPopulation:250,submissionType:"UPDATE_AREA",status:"PENDING",submittedAt:"2025-06-18T16:15:00.000Z",tokensEarned:5,reviewedAt:null,reviewedBy:null,reviewNotes:""},{id:"SUB-DEMO-005",areaId:"R2-AP-015",areaName:"Margem do Rio Meia Ponte",description:"Relatório de erosão acelerada na margem do rio.",riskLevel:"HIGH",affectedPopulation:180,submissionType:"UPDATE_AREA",status:"PENDING",submittedAt:"2025-06-19T12:30:00.000Z",tokensEarned:5,reviewedAt:null,reviewedBy:null,reviewNotes:""},{id:"SUB-DEMO-006",areaId:"R1-GO-001",areaName:"Encosta do Morro da Cruz",description:"Monitoramento comunitário: Identificação de novas trincas no terreno.",riskLevel:"HIGH",affectedPopulation:200,submissionType:"INCIDENT_REPORT",status:"APPROVED",submittedAt:"2025-06-17T09:20:00.000Z",tokensEarned:25,reviewedAt:"2025-06-18T11:45:00.000Z",reviewedBy:"Geól. Roberto Lima",reviewNotes:"Relatório confirmado. Trincas indicam agravamento da instabilidade."},{id:"SUB-DEMO-007",areaId:"R2-AP-015",areaName:"Margem do Rio Meia Ponte",description:"Solicitação de reclassificação para Alto Risco devido a mudanças no leito do rio.",riskLevel:"HIGH",affectedPopulation:180,submissionType:"RECLASSIFICATION",status:"PENDING",submittedAt:"2025-06-20T08:10:00.000Z",tokensEarned:5,reviewedAt:null,reviewedBy:null,reviewNotes:""}],removalRequests:[{id:"REM-DEMO-001",areaId:"R-OLD-001",areaName:"Área Estabilizada - Centro",requestedBy:"Usuário Demo",createdAt:"2025-06-14T10:00:00.000Z",reason:"RISK_RESOLVED",justification:"Área foi estabilizada após obras de contenção realizadas pela prefeitura.",status:"APPROVED",reviewedAt:"2025-06-16T14:00:00.000Z",reviewedBy:"Cap. João Santos - Defesa Civil",reviewNotes:"Solicitação aprovada após vistoria técnica confirmar estabilização.",priority:"MEDIUM"},{id:"REM-DEMO-002",areaId:"R2-GO-002",areaName:"Encosta Sul - Bairro Esperança",requestedBy:"Usuário Demo",createdAt:"2025-06-16T16:30:00.000Z",reason:"INCORRECT_CLASSIFICATION",justification:"Após nova análise, verificou-se que a área não apresenta características de risco significativo.",status:"PENDING",reviewedAt:null,reviewedBy:null,reviewNotes:"",priority:"HIGH"},{id:"REM-DEMO-003",areaId:"R1-GO-001",areaName:"Encosta do Morro da Cruz",requestedBy:"Maria Santos",createdAt:"2025-06-18T09:15:00.000Z",reason:"SAFETY_CONCERN",justification:"Moradores relatam aumento de trincas após últimas chuvas. Situação está se agravando rapidamente.",status:"PENDING",reviewedAt:null,reviewedBy:null,reviewNotes:"",priority:"HIGH"},{id:"REM-DEMO-004",areaId:"R1-GO-001",areaName:"Encosta do Morro da Cruz",requestedBy:"João Silva",createdAt:"2025-06-19T14:20:00.000Z",reason:"IMMEDIATE_DANGER",justification:"Casa nº 45 apresenta rachaduras severas na parede. Família evacuada preventivamente.",status:"PENDING",reviewedAt:null,reviewedBy:null,reviewNotes:"",priority:"HIGH"},{id:"REM-DEMO-005",areaId:"R2-AP-015",areaName:"Margem do Rio Meia Ponte",requestedBy:"Ana Costa",createdAt:"2025-06-17T11:40:00.000Z",reason:"FLOODING_RISK",justification:"Nível do rio subiu significativamente após chuvas. Várias casas com água no quintal.",status:"PENDING",reviewedAt:null,reviewedBy:null,reviewNotes:"",priority:"MEDIUM"},{id:"REM-DEMO-006",areaId:"R2-AP-015",areaName:"Margem do Rio Meia Ponte",requestedBy:"Carlos Oliveira",createdAt:"2025-06-19T08:30:00.000Z",reason:"EROSION_CONCERN",justification:"Erosão da margem está avançando em direção às casas. Já perdemos 2 metros de terreno.",status:"PENDING",reviewedAt:null,reviewedBy:null,reviewNotes:"",priority:"HIGH"},{id:"REM-DEMO-007",areaId:"R1-GO-001",areaName:"Encosta do Morro da Cruz",requestedBy:"Presidente Associação Moradores",createdAt:"2025-06-20T07:45:00.000Z",reason:"COLLECTIVE_REQUEST",justification:"Em nome de 35 famílias, solicitamos reavaliação urgente da área. Situação crítica após chuvas intensas.",status:"PENDING",reviewedAt:null,reviewedBy:null,reviewNotes:"",priority:"HIGH"}]}:{tokens:0,submissions:[],removalRequests:[]},toggleTokenModal:d=>{h({isTokenModalOpen:d})},showTokenNotification:(d,m)=>{h({tokenNotification:{show:!0,tokens:d,message:m}})},hideTokenNotification:()=>{h({tokenNotification:{show:!1,tokens:0,message:""}})},addUserSubmission:(d,m="NEW_AREA")=>{const r={id:`SUB-${Date.now()}`,areaId:d.id,areaName:d.nome,submissionType:m,status:"PENDING",submittedAt:new Date().toISOString(),tokensEarned:0,reviewedAt:null,reviewedBy:null,reviewNotes:""},u=v().TOKEN_REWARDS.SUBMISSION;return h(g=>({userSubmissions:[...g.userSubmissions,r],userTokens:g.userTokens+u})),v().showTokenNotification(u,"Área submetida com sucesso!"),r},updateSubmissionStatus:(d,m,r="")=>{h(u=>{const g=u.userSubmissions.map(b=>{if(b.id===d){let w=0;if(m==="APPROVED"){w=u.TOKEN_REWARDS.APPROVED;const N=Object.values(u.riskAreas).find(T=>T.id===b.areaId);N&&N.nivelAmeaca==="Alto"&&(w+=u.TOKEN_REWARDS.CRITICAL_AREA)}return{...b,status:m,reviewedAt:new Date().toISOString(),reviewedBy:"Sistema Técnico",reviewNotes:r,tokensEarned:b.tokensEarned+w}}return b}),y=g.filter(b=>b.id===d&&b.status==="APPROVED").reduce((b,w)=>b+(w.tokensEarned-u.TOKEN_REWARDS.SUBMISSION),0);return{userSubmissions:g,userTokens:u.userTokens+y}})},getUserStats:()=>{const{userSubmissions:d,userTokens:m}=v();return{totalSubmissions:d.length,approvedSubmissions:d.filter(r=>r.status==="APPROVED").length,pendingSubmissions:d.filter(r=>r.status==="PENDING").length,rejectedSubmissions:d.filter(r=>r.status==="REJECTED").length,totalTokens:m,avgTokensPerSubmission:d.length>0?(m/d.length).toFixed(1):0}},getSubmissionStats:()=>{const{userSubmissions:d}=v();return{total:d.length,pending:d.filter(m=>m.status==="PENDING").length,approved:d.filter(m=>m.status==="APPROVED").length,rejected:d.filter(m=>m.status==="REJECTED").length}},approveSubmission:(d,m="")=>{h(r=>{const u=r.userSubmissions.map(y=>y.id===d?{...y,status:"APPROVED",reviewNotes:m,reviewedAt:new Date().toISOString(),tokensEarned:r.TOKEN_REWARDS.APPROVED}:y),g=r.TOKEN_REWARDS.APPROVED;return{userSubmissions:u,userTokens:r.userTokens+g}}),v().showTokenNotification(v().TOKEN_REWARDS.APPROVED,"Solicitação aprovada!")},rejectSubmission:(d,m="")=>{h(r=>({userSubmissions:r.userSubmissions.map(g=>g.id===d?{...g,status:"REJECTED",reviewNotes:m,reviewedAt:new Date().toISOString()}:g)}))},initialize:()=>{const d=localStorage.getItem("authToken");if(d){const r={id:1,username:"usuario.restaurado",name:"Usuário Restaurado",role:"admin",email:"usuario@sigar.go.gov.br"},u=v().loadUserData("demo");h({isAuthenticated:!0,user:r,authToken:d,userTokens:u.tokens,userSubmissions:u.submissions,removalRequests:u.removalRequests||[]})}const m=v();(!m.inspectionRoadmaps||m.inspectionRoadmaps.length===0)&&v().loadExampleRoadmaps(),v().fetchRiskAreas()},addRiskArea:async d=>{h({loading:!0,error:null});try{try{const r=(await Ji.createRiskArea(d)).data;h(u=>{const g=Object.keys(u.riskAreas).map(Number).filter(b=>!isNaN(b)),y=g.length>0?Math.max(...g)+1:1;return{riskAreas:{...u.riskAreas,[y]:r},loading:!1}})}catch{console.info("🔄 Modo desenvolvimento: adicionando área localmente (backend não conectado)"),await new Promise(m=>setTimeout(m,500)),h(m=>{const r=Object.keys(m.riskAreas).map(Number).filter(g=>!isNaN(g)),u=r.length>0?Math.max(...r)+1:1;return{riskAreas:{...m.riskAreas,[u]:d},loading:!1}})}}catch(m){throw h({error:m.message,loading:!1}),m}},updateRiskArea:async(d,m)=>{h({loading:!0,error:null});try{try{const u=(await Ji.updateRiskArea(d,m)).data;h(g=>{const y=Object.keys(g.riskAreas).find(b=>g.riskAreas[b].id===d);return y?{riskAreas:{...g.riskAreas,[y]:u},loading:!1}:{loading:!1}}),console.log("✅ Store: Área atualizada via API")}catch{console.info("🔄 Modo desenvolvimento: atualizando área localmente (backend não conectado)"),await new Promise(r=>setTimeout(r,500)),h(r=>{const u=Object.keys(r.riskAreas).find(g=>r.riskAreas[g].id===d);return u?{riskAreas:{...r.riskAreas,[u]:m},loading:!1}:{loading:!1}}),console.log("✅ Store: Área atualizada localmente")}}catch(r){throw console.error("❌ Store: Erro ao atualizar área:",r),h({error:r.message,loading:!1}),r}},toggleRemovalModal:d=>{h({isRemovalModalOpen:d})},requestAreaRemoval:(d,m,r)=>{var y;const u=v().getSelectedArea();if(!u)return null;const g={id:`REM-${Date.now()}`,areaId:d,areaName:u.nome,requestedBy:((y=v().user)==null?void 0:y.name)||"Usuário",requestedAt:new Date().toISOString(),reason:m,justification:r,status:"PENDING",reviewedAt:null,reviewedBy:null,reviewNotes:"",priority:u.nivelAmeaca==="Alto"?"HIGH":u.nivelAmeaca==="Médio"?"MEDIUM":"LOW"};return h(b=>({removalRequests:[...b.removalRequests,g]})),console.log("🗑️ Solicitação de remoção criada:",g),g},approveRemovalRequest:(d,m="")=>{const{removalRequests:r}=v(),u=r.find(g=>g.id===d);return u?(h(g=>({removalRequests:g.removalRequests.map(y=>y.id===d?{...y,status:"APPROVED",reviewedAt:new Date().toISOString(),reviewedBy:"Defesa Civil",reviewNotes:m||"Remoção aprovada pela autoridade competente."}:y)})),h(g=>{const y={...g.riskAreas},b=Object.keys(y).find(w=>y[w].id===u.areaId);return b&&delete y[b],{riskAreas:y,selectedAreaId:g.selectedAreaId===u.areaId?null:g.selectedAreaId,isInfoPanelOpen:g.selectedAreaId===u.areaId?!1:g.isInfoPanelOpen}}),console.log("✅ Área removida do sistema:",u.areaId),!0):!1},rejectRemovalRequest:(d,m="")=>(h(r=>({removalRequests:r.removalRequests.map(u=>u.id===d?{...u,status:"REJECTED",reviewedAt:new Date().toISOString(),reviewedBy:"Defesa Civil",reviewNotes:m||"Solicitação de remoção rejeitada."}:u)})),console.log("❌ Solicitação de remoção rejeitada:",d),!0),getRemovalRequestStats:()=>{const{removalRequests:d}=v();return{total:d.length,pending:d.filter(m=>m.status==="PENDING").length,approved:d.filter(m=>m.status==="APPROVED").length,rejected:d.filter(m=>m.status==="REJECTED").length}},submitVote:(d,m,r,u)=>{var y;console.log("🗳️ Submetendo voto:",{requestId:d,requestType:m,voteType:r});const g={id:`VOTE-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,requestId:d,requestType:m,voteType:r,justification:u,votedBy:((y=v().user)==null?void 0:y.username)||"anonymous",votedAt:new Date().toISOString(),status:"PENDING_REVIEW",validated:!1,penaltyApplied:!1};return h(b=>({userVotes:[...b.userVotes,g],votingHistory:[...b.votingHistory,g]})),v().showVotingWarning(),g},validateVote:(d,m,r="")=>{console.log("✅ Validando voto:",d,"Correto:",m),h(u=>{var N;const g=u.userVotes.map(T=>{var k;if(T.id===d){const P={...T,validated:!0,validatedAt:new Date().toISOString(),validatedBy:(k=u.user)==null?void 0:k.username,isCorrect:m,adminNotes:r};if(!m&&!T.penaltyApplied){const H=u.TOKEN_PENALTIES.BAD_FAITH_VOTE;return console.log("⚠️ Aplicando penalização por voto mal-intencionado:",H),v().showTokenNotification(H,"Penalização por voto mal-intencionado"),{...P,penaltyApplied:!0,tokensDeducted:Math.abs(H)}}return P}return T}),y=u.votingHistory.map(T=>T.id===d?g.find(k=>k.id===d):T),b=g.find(T=>T.id===d),w=b&&!b.isCorrect&&!((N=u.userVotes.find(T=>T.id===d))!=null&&N.penaltyApplied)?u.TOKEN_PENALTIES.BAD_FAITH_VOTE:0;return{userVotes:g,votingHistory:y,userTokens:w!==0?Math.max(0,u.userTokens+w):u.userTokens}})},getVotingStats:()=>{const{userVotes:d}=v();return{totalVotes:d.length,pendingVotes:d.filter(m=>!m.validated).length,correctVotes:d.filter(m=>m.validated&&m.isCorrect).length,incorrectVotes:d.filter(m=>m.validated&&!m.isCorrect).length,totalPenalties:d.filter(m=>m.penaltyApplied).reduce((m,r)=>m+(r.tokensDeducted||0),0)}},getAreasOrderedByRequests:()=>{const{riskAreas:d,removalRequests:m,userSubmissions:r}=v(),u={};return m.forEach(y=>{const b=y.areaId;u[b]=(u[b]||0)+1}),r.forEach(y=>{if(y.areaId){const b=y.areaId;u[b]=(u[b]||0)+1}}),Object.values(d).map(y=>({...y,requestCount:u[y.id]||0,removalRequests:m.filter(b=>b.areaId===y.id),additionRequests:r.filter(b=>b.areaId===y.id),totalRequests:u[y.id]||0})).sort((y,b)=>b.requestCount-y.requestCount)},toggleWithdrawModal:d=>{h({isWithdrawModalOpen:d})},getWithdrawableAmount:()=>{const{userTokens:d,COIN_VALUE:m}=v();return d*m},canWithdraw:()=>{const{userTokens:d,MIN_WITHDRAWAL:m}=v();return d>=m},processWithdrawal:d=>{var N,T;const{userTokens:m,COIN_VALUE:r}=v(),{coins:u,paymentMethod:g,accountInfo:y}=d;if(u>m)throw new Error("Saldo insuficiente de SIGAR Coins");if(u<v().MIN_WITHDRAWAL)throw new Error(`Saque mínimo de ${v().MIN_WITHDRAWAL} coins`);const b=u*r,w={id:`WITHDRAW-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,coins:u,amount:b,paymentMethod:g,accountInfo:y,status:"PROCESSING",requestedAt:new Date().toISOString(),processedAt:null,userId:(N=v().user)==null?void 0:N.id,username:(T=v().user)==null?void 0:T.username};return h(k=>({userTokens:k.userTokens-u,withdrawHistory:[w,...k.withdrawHistory],isWithdrawModalOpen:!1})),setTimeout(()=>{h(k=>({withdrawHistory:k.withdrawHistory.map(P=>P.id===w.id?{...P,status:"COMPLETED",processedAt:new Date().toISOString()}:P)}))},3e3),w},getWithdrawHistory:()=>{const{withdrawHistory:d}=v();return d.sort((m,r)=>new Date(r.requestedAt)-new Date(m.requestedAt))},toggleRoadmapModal:d=>{h({isRoadmapModalOpen:d})},createInspectionRoadmap:d=>{var r;const m={id:`ROADMAP-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,...d,createdAt:new Date().toISOString(),createdBy:((r=v().user)==null?void 0:r.username)||"admin",status:"ACTIVE",areas:d.areas.map(u=>({...u,status:"PENDING",visitedAt:null,findings:null,inspector:null}))};return h(u=>({inspectionRoadmaps:[m,...u.inspectionRoadmaps]})),m},updateAreaInspection:(d,m,r)=>{h(u=>({inspectionRoadmaps:u.inspectionRoadmaps.map(g=>{if(g.id===d){const y=g.areas.map(N=>N.id===m?{...N,...r,visitedAt:new Date().toISOString()}:N),w=y.filter(N=>N.status==="COMPLETED").length===y.length?"COMPLETED":"IN_PROGRESS";return{...g,areas:y,status:w,lastUpdated:new Date().toISOString()}}return g})}))},getRoadmapStats:()=>{const{inspectionRoadmaps:d}=v();if(!d||d.length===0)return{total:0,active:0,inProgress:0,completed:0,totalAreas:0,completedAreas:0};let m=0,r=0;return d.forEach(u=>{u.areas&&Array.isArray(u.areas)&&(m+=u.areas.length,r+=u.areas.filter(g=>g.status==="COMPLETED").length)}),{total:d.length,active:d.filter(u=>u.status==="ACTIVE").length,inProgress:d.filter(u=>u.status==="IN_PROGRESS").length,completed:d.filter(u=>u.status==="COMPLETED").length,totalAreas:m,completedAreas:r}},loadExampleRoadmaps:()=>{const d=[{id:"ROADMAP-001",title:"Vistoria Região Norte - Janeiro 2025",description:"Inspeção preventiva nas áreas de risco da região norte de Goiânia após período chuvoso intenso.",inspector:"João Silva",priority:"HIGH",estimatedDays:5,status:"ACTIVE",createdAt:new Date("2025-01-15").toISOString(),createdBy:"admin",areas:[{id:"R1-GO-001",name:"Encosta do Morro da Cruz",municipality:"Goiânia",neighborhood:"Jardim das Oliveiras",riskType:"Deslizamento",status:"COMPLETED",inspectedAt:new Date("2025-01-16").toISOString(),inspector:"João Silva"},{id:"R1-GO-002",name:"Vale do Jardim Petrópolis",municipality:"Goiânia",neighborhood:"Jardim Petrópolis",riskType:"Alagamento",status:"IN_PROGRESS",inspectedAt:null,inspector:null},{id:"R1-GO-003",name:"Córrego do Bacalhau",municipality:"Goiânia",neighborhood:"Setor Norte Ferroviário",riskType:"Enchente",status:"PENDING",inspectedAt:null,inspector:null}],inspections:[{id:"INSP-001",roadmapId:"ROADMAP-001",areaId:"R1-GO-001",areaName:"Encosta do Morro da Cruz",status:"COMPLETED",findings:"Identificadas rachaduras em 3 residências na parte alta da encosta. Solo apresenta sinais de instabilidade após chuvas recentes. Drenagem inadequada contribui para o acúmulo de água.",recommendations:"Recomenda-se evacuação preventiva de 2 residências em situação crítica. Implementar sistema de drenagem emergencial. Monitoramento contínuo durante período chuvoso.",riskLevel:"HIGH",inspector:"João Silva",inspectedAt:new Date("2025-01-16").toISOString()}]},{id:"ROADMAP-002",title:"Monitoramento Áreas Críticas - Região Sul",description:"Acompanhamento mensal das áreas classificadas como alto risco na região sul da cidade.",inspector:"Maria Santos",priority:"MEDIUM",estimatedDays:3,status:"PLANNED",createdAt:new Date("2025-01-18").toISOString(),createdBy:"admin",areas:[{id:"R1-GO-004",name:"Setor Vila Nova",municipality:"Goiânia",neighborhood:"Vila Nova",riskType:"Deslizamento",status:"PENDING",inspectedAt:null,inspector:null},{id:"R1-GO-005",name:"Margem do Rio Meia Ponte",municipality:"Goiânia",neighborhood:"Setor Sul",riskType:"Enchente",status:"PENDING",inspectedAt:null,inspector:null}],inspections:[]},{id:"ROADMAP-003",title:"Vistoria Emergencial Pós-Temporal",description:"Verificação urgente após temporal com ventos de 80km/h e chuva intensa que atingiu a região metropolitana.",inspector:"Carlos Roberto",priority:"HIGH",estimatedDays:2,status:"ACTIVE",createdAt:new Date("2025-01-20").toISOString(),createdBy:"admin",areas:[{id:"R1-GO-006",name:"Favela do Jardim Novo Mundo",municipality:"Goiânia",neighborhood:"Jardim Novo Mundo",riskType:"Tempestade",status:"COMPLETED",inspectedAt:new Date("2025-01-20").toISOString(),inspector:"Carlos Roberto"},{id:"R1-GO-007",name:"Área Industrial Oeste",municipality:"Goiânia",neighborhood:"Distrito Industrial",riskType:"Tempestade",status:"COMPLETED",inspectedAt:new Date("2025-01-20").toISOString(),inspector:"Carlos Roberto"}],inspections:[{id:"INSP-002",roadmapId:"ROADMAP-003",areaId:"R1-GO-006",areaName:"Favela do Jardim Novo Mundo",status:"COMPLETED",findings:"Queda de árvores bloqueou via principal. Destelhamento em 15 residências. Alagamento em área baixa com 40cm de altura. Rede elétrica danificada.",recommendations:"Remoção imediata de árvores caídas. Distribuição de lonas para coberturas temporárias. Bombeamento da água acumulada. Isolamento da rede elétrica danificada.",riskLevel:"HIGH",inspector:"Carlos Roberto",inspectedAt:new Date("2025-01-20").toISOString()},{id:"INSP-003",roadmapId:"ROADMAP-003",areaId:"R1-GO-007",areaName:"Área Industrial Oeste",status:"COMPLETED",findings:"Galpão industrial com estrutura comprometida. Telhas metálicas espalhadas pela via. Container de produtos químicos deslocado mas íntegro.",recommendations:"Interdição imediata do galpão. Limpeza da via para liberação do tráfego. Verificação técnica do container químico. Comunicação à empresa responsável.",riskLevel:"MEDIUM",inspector:"Carlos Roberto",inspectedAt:new Date("2025-01-20").toISOString()}]},{id:"ROADMAP-004",title:"Manutenção Preventiva - Período Seco",description:"Aproveitamento do período seco para obras de contenção e melhorias estruturais em áreas de risco.",inspector:"Ana Paula",priority:"LOW",estimatedDays:10,status:"PLANNED",createdAt:new Date("2025-01-22").toISOString(),createdBy:"admin",areas:[{id:"R1-GO-008",name:"Encosta do Bairro Popular",municipality:"Goiânia",neighborhood:"Bairro Popular",riskType:"Erosão",status:"PENDING",inspectedAt:null,inspector:null},{id:"R1-GO-009",name:"Área de Preservação - Córrego Cascavel",municipality:"Goiânia",neighborhood:"Vila Cascavel",riskType:"Enchente",status:"PENDING",inspectedAt:null,inspector:null},{id:"R1-GO-010",name:"Complexo Habitacional São José",municipality:"Goiânia",neighborhood:"São José",riskType:"Deslizamento",status:"PENDING",inspectedAt:null,inspector:null}],inspections:[]}];h(()=>({inspectionRoadmaps:d})),console.log("✅ Dados de exemplo dos roadmaps carregados:",d.length,"roadmaps")},getAreasForInspection:()=>{const{riskAreas:d,userSubmissions:m,removalRequests:r}=v(),u=(b,w,N)=>{var O,R;let T=0;((O=b.nivelAmeaca)==null?void 0:O.toLowerCase())==="alto"?T+=50:((R=b.nivelAmeaca)==null?void 0:R.toLowerCase())==="médio"?T+=30:T+=10;const k=N.filter(J=>J.areaId===b.id).length,P=w.filter(J=>J.areaId===b.id).length;T+=(k+P)*5;const H=b.ultimaAtualizacao?Math.floor((new Date-new Date(b.ultimaAtualizacao))/(1e3*60*60*24)):365;return H>180?T+=20:H>90&&(T+=10),T},g=b=>b.ultimaAtualizacao||"Não informado",y=(b,w,N)=>{const T=N.filter(P=>P.areaId===b).length,k=w.filter(P=>P.areaId===b).length;return T+k};return Object.values(d).map(b=>({...b,priority:u(b,m,r),lastInspection:g(b),requestCount:y(b.id,m,r)})).sort((b,w)=>w.priority-b.priority)},showVotingWarning:()=>{console.log("⚠️ Aviso de Votação Responsável ativado")}}),{name:"sigar-app-storage",partialize:h=>({isAuthenticated:h.isAuthenticated,user:h.user,authToken:h.authToken,userTokens:h.userTokens,userSubmissions:h.userSubmissions,removalRequests:h.removalRequests,userVotes:h.userVotes,votingHistory:h.votingHistory,withdrawHistory:h.withdrawHistory,inspectionRoadmaps:h.inspectionRoadmaps})})),y_=({onToggleMenu:h})=>{const{isAuthenticated:v,user:d,logout:m,userTokens:r,toggleTokenModal:u}=zt(),g=()=>{m()};return o.jsxs("header",{className:"bg-white shadow-md p-4 flex justify-between items-center fixed top-0 left-0 right-0 z-50 border-b-2 border-blue-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:h,className:"text-gray-700 hover:text-blue-600 focus:outline-none mr-4 lg:hidden",children:o.jsx("i",{className:"fas fa-bars text-xl"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h1",{className:"text-2xl font-bold text-blue-700",children:"SIGAR-GO"}),o.jsx("span",{className:"text-sm text-gray-500",children:"Observatório de Áreas de Risco"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-full max-w-md hidden sm:block",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Buscar por localidade",className:"w-full py-2 px-4 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx("span",{className:"absolute top-0 right-0 mt-2 mr-3",children:o.jsx("i",{className:"fas fa-search text-gray-400"})})]})}),v&&d&&o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-3 py-1 rounded-lg hover:from-yellow-600 hover:to-orange-600 transition-all duration-200 shadow-md hover:shadow-lg",title:"Ver SIGAR Coins",children:[o.jsx("span",{className:"text-lg",children:"🪙"}),o.jsx("span",{className:"font-semibold",children:r}),o.jsx("span",{className:"hidden sm:inline text-sm",children:"SIGAR Coins"})]}),o.jsxs("div",{className:"hidden md:block text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:d.name}),o.jsx("p",{className:"text-xs text-gray-500",children:d.role})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"fas fa-user text-white text-sm"})}),o.jsx("button",{onClick:g,className:"text-gray-600 hover:text-red-600 transition-colors",title:"Sair",children:o.jsx("i",{className:"fas fa-sign-out-alt"})})]})]})]})]})};var hi=Bm();const b_=({isOpen:h,onClose:v})=>{const{addRiskArea:d,loading:m,addUserSubmission:r}=zt(),[u,g]=le.useState({nome:"",municipio:"",bairro:"",tipoRisco:"",nivelAmeaca:"Baixo",descricao:"",responsavelDC:"",coordenadas:[]}),[y,b]=le.useState(""),[w,N]=le.useState("poligono"),[T,k]=le.useState({}),P=["Deslizamento Rotacional","Deslizamento Planar","Fluxo de Detritos","Queda de Blocos","Inundação","Erosão","Outros"],H=[{value:"Baixo",color:"yellow",colorMapa:"#FFD700"},{value:"Médio",color:"orange",colorMapa:"#FFA500"},{value:"Alto",color:"red",colorMapa:"#FF0000"}],O=oe=>{const{name:ye,value:F}=oe.target;g(me=>({...me,[ye]:F})),T[ye]&&k(me=>({...me,[ye]:""}))},R=oe=>{try{const ye=oe.trim();if(!ye)throw new Error("Coordenadas não podem estar vazias");let F=[];const me=ye.split(`
`).filter(_e=>_e.trim());for(const _e of me){const Se=_e.trim();if(!Se)continue;const gt=Se.split(",");if(gt.length!==2)throw new Error(`Formato inválido na linha: "${Se}". Use: latitude,longitude`);const Fe=parseFloat(gt[0].trim()),qe=parseFloat(gt[1].trim());if(isNaN(Fe)||isNaN(qe))throw new Error(`Coordenadas inválidas na linha: "${Se}"`);if(Fe<-34||Fe>6||qe<-75||qe>-30)throw new Error(`Coordenadas fora do Brasil na linha: "${Se}"`);F.push([Fe,qe])}if(w==="retangulo"&&F.length!==2)throw new Error("Para retângulo, forneça exatamente 2 coordenadas (diagonal)");if(w==="poligono"&&F.length<3)throw new Error("Para polígono, forneça pelo menos 3 coordenadas");if(w==="retangulo"&&F.length===2){const[_e,Se]=F,gt=Math.min(_e[0],Se[0]),Fe=Math.max(_e[0],Se[0]),qe=Math.min(_e[1],Se[1]),Y=Math.max(_e[1],Se[1]);F=[[gt,qe],[Fe,qe],[Fe,Y],[gt,Y]]}return F}catch(ye){throw new Error(`Erro ao processar coordenadas: ${ye.message}`)}},J=()=>{const oe={};if(u.nome.trim()||(oe.nome="Nome é obrigatório"),u.municipio.trim()||(oe.municipio="Município é obrigatório"),u.tipoRisco||(oe.tipoRisco="Tipo de risco é obrigatório"),!y.trim())oe.coordenadas="Coordenadas são obrigatórias";else try{R(y)}catch(ye){oe.coordenadas=ye.message}return k(oe),Object.keys(oe).length===0},ce=async oe=>{if(oe.preventDefault(),!!J())try{const ye=R(y),F=H.find(_e=>_e.value===u.nivelAmeaca),me={id:`R${Date.now()}-USER-${Math.random().toString(36).substr(2,3).toUpperCase()}`,nome:u.nome,municipio:u.municipio,bairro:u.bairro||"Não informado",tipoRisco:u.tipoRisco,nivelAmeaca:u.nivelAmeaca,corNivelTailwind:`bg-${F.color}-100 text-${F.color}-800 border-${F.color}-500`,corMapa:F.colorMapa,opacidadeMapa:.6,coordenadas:ye,responsavelDC:u.responsavelDC||"Usuário do Sistema",dataCadastro:new Date().toLocaleDateString("pt-BR"),ultimaAtualizacao:new Date().toLocaleDateString("pt-BR"),descricao:u.descricao||"Área cadastrada pelo usuário",fatoresNaturais:"",fatoresAntropicos:"",evidencias:"",populacaoExposta:"",edificacoesExpostas:"",infraestruturaExposta:"",historicoIncidentes:[],acoesMitigadoras:"",medidasRecomendadas:"",statusMonitoramento:"Cadastrada - Aguardando Vistoria",anexos:[]};await d(me),r(me,"NEW_AREA"),g({nome:"",municipio:"",bairro:"",tipoRisco:"",nivelAmeaca:"Baixo",descricao:"",responsavelDC:"",coordenadas:[]}),b(""),k({}),v()}catch(ye){k({submit:ye.message})}},G=()=>{g({nome:"",municipio:"",bairro:"",tipoRisco:"",nivelAmeaca:"Baixo",descricao:"",responsavelDC:"",coordenadas:[]}),b(""),k({}),v()},ne=`-16.6869,-49.2648
-16.6800,-49.2580`,W=`-16.6869,-49.2648
-16.6850,-49.2630
-16.6830,-49.2650
-16.6840,-49.2670
-16.6860,-49.2665`;if(!h)return null;const ae=o.jsxs("div",{className:"modal-overlay fixed inset-0 z-[9999] overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:G}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsx("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:oe=>oe.stopPropagation(),children:o.jsxs("div",{className:"bg-white px-6 pt-6 pb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Cadastrar Nova Área de Risco"}),o.jsx("button",{onClick:G,className:"text-gray-500 hover:text-gray-800 text-xl p-1",type:"button",children:o.jsx("i",{className:"fas fa-times"})})]}),T.submit&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:o.jsx("p",{className:"text-sm",children:T.submit})}),o.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nome",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Área *"}),o.jsx("input",{type:"text",id:"nome",name:"nome",value:u.nome,onChange:O,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${T.nome?"border-red-500":"border-gray-300"}`,placeholder:"Ex: Encosta do Morro Verde"}),T.nome&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.nome})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"municipio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Município *"}),o.jsx("input",{type:"text",id:"municipio",name:"municipio",value:u.municipio,onChange:O,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${T.municipio?"border-red-500":"border-gray-300"}`,placeholder:"Ex: Goiânia"}),T.municipio&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.municipio})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"bairro",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bairro/Localidade"}),o.jsx("input",{type:"text",id:"bairro",name:"bairro",value:u.bairro,onChange:O,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Jardim das Oliveiras"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tipoRisco",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Risco *"}),o.jsxs("select",{id:"tipoRisco",name:"tipoRisco",value:u.tipoRisco,onChange:O,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${T.tipoRisco?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Selecione o tipo de risco"}),P.map(oe=>o.jsx("option",{value:oe,children:oe},oe))]}),T.tipoRisco&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.tipoRisco})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nivelAmeaca",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nível de Ameaça"}),o.jsx("select",{id:"nivelAmeaca",name:"nivelAmeaca",value:u.nivelAmeaca,onChange:O,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:H.map(oe=>o.jsx("option",{value:oe.value,children:oe.value},oe.value))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"responsavelDC",className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsável DC"}),o.jsx("input",{type:"text",id:"responsavelDC",name:"responsavelDC",value:u.responsavelDC,onChange:O,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Agente Silva (Mat. 12345)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"descricao",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição da Área"}),o.jsx("textarea",{id:"descricao",name:"descricao",value:u.descricao,onChange:O,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descreva as características da área de risco..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Área"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"tipoDesenho",value:"retangulo",checked:w==="retangulo",onChange:oe=>N(oe.target.value),className:"mr-2"}),"Retângulo (2 coordenadas)"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"tipoDesenho",value:"poligono",checked:w==="poligono",onChange:oe=>N(oe.target.value),className:"mr-2"}),"Polígono (3+ coordenadas)"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"coordenadas",className:"block text-sm font-medium text-gray-700 mb-1",children:"Coordenadas (Latitude, Longitude) *"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("textarea",{id:"coordenadas",value:y,onChange:oe=>b(oe.target.value),rows:"6",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm ${T.coordenadas?"border-red-500":"border-gray-300"}`,placeholder:`Cole suas coordenadas aqui...
Ex:
-16.6869,-49.2648
-16.6850,-49.2630`}),T.coordenadas&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.coordenadas})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Exemplos de Coordenadas:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Retângulo (2 pontos diagonal):"}),o.jsx("pre",{className:"text-xs bg-white p-2 rounded border font-mono",children:ne})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Polígono (vários pontos):"}),o.jsx("pre",{className:"text-xs bg-white p-2 rounded border font-mono",children:W})]})]}),o.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Formato:"})," Uma coordenada por linha"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Padrão:"})," latitude,longitude"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Separador:"})," vírgula"]})]})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:G,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition duration-150 flex items-center",children:m?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cadastrando..."]}):"Cadastrar Área"})]})]})]})})})]});return hi.createPortal(ae,document.body)},up=({isOpen:h,onClose:v,areaToEdit:d})=>{const{updateRiskArea:m,loading:r}=zt();console.log("🔧 EditarAreaModal - Props:",{isOpen:h,areaToEdit:!!d});const[u,g]=le.useState({nome:"",municipio:"",bairro:"",tipoRisco:"",nivelAmeaca:"Baixo",descricao:"",responsavelDC:"",fatoresNaturais:"",fatoresAntropicos:"",evidencias:"",populacaoExposta:"",edificacoesExpostas:"",infraestruturaExposta:"",acoesMitigadoras:"",medidasRecomendadas:"",statusMonitoramento:""}),[y,b]=le.useState(""),[w,N]=le.useState({}),T=["Deslizamento Rotacional","Deslizamento Planar","Fluxo de Detritos","Queda de Blocos","Inundação","Erosão","Outros"],k=[{value:"Baixo",color:"yellow",colorMapa:"#FFD700"},{value:"Médio",color:"orange",colorMapa:"#FFA500"},{value:"Alto",color:"red",colorMapa:"#FF0000"}],P=["Cadastrada - Aguardando Vistoria","Monitorada - Informativo","Monitorada - Atenção","Monitorada - Alerta Laranja","Monitorada Intensivamente - Alerta Vermelho","Ativo - Vistorias semanais","Ativo - Monitoramento pluviométrico","Monitoramento trimestral"];le.useEffect(()=>{if(d&&h&&(g({nome:d.nome||"",municipio:d.municipio||"",bairro:d.bairro||"",tipoRisco:d.tipoRisco||"",nivelAmeaca:d.nivelAmeaca||"Baixo",descricao:d.descricao||"",responsavelDC:d.responsavelDC||"",fatoresNaturais:d.fatoresNaturais||"",fatoresAntropicos:d.fatoresAntropicos||"",evidencias:d.evidencias||"",populacaoExposta:d.populacaoExposta||"",edificacoesExpostas:d.edificacoesExpostas||"",infraestruturaExposta:d.infraestruturaExposta||"",acoesMitigadoras:d.acoesMitigadoras||"",medidasRecomendadas:d.medidasRecomendadas||"",statusMonitoramento:d.statusMonitoramento||""}),d.coordenadas&&Array.isArray(d.coordenadas))){const ne=d.coordenadas.map(W=>`${W[0]},${W[1]}`).join(`
`);b(ne)}},[d,h]);const H=ne=>{const{name:W,value:ae}=ne.target;g(oe=>({...oe,[W]:ae})),w[W]&&N(oe=>({...oe,[W]:""}))},O=ne=>{try{const W=ne.trim();if(!W)throw new Error("Coordenadas não podem estar vazias");let ae=[];const oe=W.split(`
`).filter(ye=>ye.trim());for(const ye of oe){const F=ye.trim();if(!F)continue;const me=F.split(",");if(me.length!==2)throw new Error(`Formato inválido na linha: "${F}". Use: latitude,longitude`);const _e=parseFloat(me[0].trim()),Se=parseFloat(me[1].trim());if(isNaN(_e)||isNaN(Se))throw new Error(`Coordenadas inválidas na linha: "${F}"`);if(_e<-34||_e>6||Se<-75||Se>-30)throw new Error(`Coordenadas fora do Brasil na linha: "${F}"`);ae.push([_e,Se])}if(ae.length<3)throw new Error("Para polígono, forneça pelo menos 3 coordenadas");return ae}catch(W){throw new Error(`Erro ao processar coordenadas: ${W.message}`)}},R=()=>{const ne={};if(u.nome.trim()||(ne.nome="Nome é obrigatório"),u.municipio.trim()||(ne.municipio="Município é obrigatório"),u.tipoRisco||(ne.tipoRisco="Tipo de risco é obrigatório"),!y.trim())ne.coordenadas="Coordenadas são obrigatórias";else try{O(y)}catch(W){ne.coordenadas=W.message}return N(ne),Object.keys(ne).length===0},J=async ne=>{if(ne.preventDefault(),console.log("💾 Tentando salvar alterações..."),!R()){console.log("❌ Formulário inválido");return}try{const W=O(y),ae=k.find(ye=>ye.value===u.nivelAmeaca),oe={...d,nome:u.nome,municipio:u.municipio,bairro:u.bairro,tipoRisco:u.tipoRisco,nivelAmeaca:u.nivelAmeaca,corNivelTailwind:`bg-${ae.color}-100 text-${ae.color}-800 border-${ae.color}-500`,corMapa:ae.colorMapa,coordenadas:W,descricao:u.descricao,responsavelDC:u.responsavelDC,fatoresNaturais:u.fatoresNaturais,fatoresAntropicos:u.fatoresAntropicos,evidencias:u.evidencias,populacaoExposta:u.populacaoExposta,edificacoesExpostas:u.edificacoesExpostas,infraestruturaExposta:u.infraestruturaExposta,acoesMitigadoras:u.acoesMitigadoras,medidasRecomendadas:u.medidasRecomendadas,statusMonitoramento:u.statusMonitoramento,ultimaAtualizacao:new Date().toLocaleDateString("pt-BR")};console.log("📝 Dados para atualização:",oe),console.log("🔧 Função updateRiskArea disponível:",typeof m),await m(d.id,oe),console.log("✅ Área atualizada com sucesso"),ce()}catch(W){console.error("❌ Erro ao salvar:",W),N({submit:W.message})}},ce=()=>{g({nome:"",municipio:"",bairro:"",tipoRisco:"",nivelAmeaca:"Baixo",descricao:"",responsavelDC:"",fatoresNaturais:"",fatoresAntropicos:"",evidencias:"",populacaoExposta:"",edificacoesExpostas:"",infraestruturaExposta:"",acoesMitigadoras:"",medidasRecomendadas:"",statusMonitoramento:""}),b(""),N({}),v()};if(!h||!d)return null;const G=o.jsxs("div",{className:"modal-overlay fixed inset-0 z-[9999] overflow-y-auto",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:ce}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsx("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 w-full max-w-6xl max-h-[90vh] overflow-y-auto",onClick:ne=>ne.stopPropagation(),children:o.jsxs("div",{className:"bg-white px-6 pt-6 pb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Editar Área de Risco"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[d.nome," (ID: ",d.id,")"]})]}),o.jsx("button",{onClick:ce,className:"text-gray-500 hover:text-gray-800 text-xl p-1",type:"button",children:o.jsx("i",{className:"fas fa-times"})})]}),w.submit&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:o.jsx("p",{className:"text-sm",children:w.submit})}),o.jsxs("form",{onSubmit:J,className:"space-y-6",children:[o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informações Básicas"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nome",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Área *"}),o.jsx("input",{type:"text",id:"nome",name:"nome",value:u.nome,onChange:H,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w.nome?"border-red-500":"border-gray-300"}`}),w.nome&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:w.nome})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"municipio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Município *"}),o.jsx("input",{type:"text",id:"municipio",name:"municipio",value:u.municipio,onChange:H,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w.municipio?"border-red-500":"border-gray-300"}`}),w.municipio&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:w.municipio})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"bairro",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bairro/Localidade"}),o.jsx("input",{type:"text",id:"bairro",name:"bairro",value:u.bairro,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"responsavelDC",className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsável DC"}),o.jsx("input",{type:"text",id:"responsavelDC",name:"responsavelDC",value:u.responsavelDC,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tipoRisco",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Risco *"}),o.jsxs("select",{id:"tipoRisco",name:"tipoRisco",value:u.tipoRisco,onChange:H,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w.tipoRisco?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Selecione o tipo de risco"}),T.map(ne=>o.jsx("option",{value:ne,children:ne},ne))]}),w.tipoRisco&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:w.tipoRisco})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nivelAmeaca",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nível de Ameaça"}),o.jsx("select",{id:"nivelAmeaca",name:"nivelAmeaca",value:u.nivelAmeaca,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:k.map(ne=>o.jsx("option",{value:ne.value,children:ne.value},ne.value))})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"statusMonitoramento",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status do Monitoramento"}),o.jsxs("select",{id:"statusMonitoramento",name:"statusMonitoramento",value:u.statusMonitoramento,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Selecione o status"}),P.map(ne=>o.jsx("option",{value:ne,children:ne},ne))]})]})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Descrição"}),o.jsx("textarea",{id:"descricao",name:"descricao",value:u.descricao,onChange:H,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descreva as características da área de risco..."})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Fatores Condicionantes"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fatoresNaturais",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fatores Naturais"}),o.jsx("textarea",{id:"fatoresNaturais",name:"fatoresNaturais",value:u.fatoresNaturais,onChange:H,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fatoresAntropicos",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fatores Antrópicos"}),o.jsx("textarea",{id:"fatoresAntropicos",name:"fatoresAntropicos",value:u.fatoresAntropicos,onChange:H,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{htmlFor:"evidencias",className:"block text-sm font-medium text-gray-700 mb-1",children:"Evidências de Instabilidade"}),o.jsx("textarea",{id:"evidencias",name:"evidencias",value:u.evidencias,onChange:H,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Impactos e Vulnerabilidades"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"populacaoExposta",className:"block text-sm font-medium text-gray-700 mb-1",children:"População Exposta"}),o.jsx("input",{type:"text",id:"populacaoExposta",name:"populacaoExposta",value:u.populacaoExposta,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edificacoesExpostas",className:"block text-sm font-medium text-gray-700 mb-1",children:"Edificações Expostas"}),o.jsx("input",{type:"text",id:"edificacoesExpostas",name:"edificacoesExpostas",value:u.edificacoesExpostas,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"infraestruturaExposta",className:"block text-sm font-medium text-gray-700 mb-1",children:"Infraestrutura Exposta"}),o.jsx("input",{type:"text",id:"infraestruturaExposta",name:"infraestruturaExposta",value:u.infraestruturaExposta,onChange:H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ações e Medidas"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"acoesMitigadoras",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ações Mitigadoras Existentes"}),o.jsx("textarea",{id:"acoesMitigadoras",name:"acoesMitigadoras",value:u.acoesMitigadoras,onChange:H,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"medidasRecomendadas",className:"block text-sm font-medium text-gray-700 mb-1",children:"Medidas Recomendadas"}),o.jsx("textarea",{id:"medidasRecomendadas",name:"medidasRecomendadas",value:u.medidasRecomendadas,onChange:H,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Localização (Coordenadas)"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"coordenadas",className:"block text-sm font-medium text-gray-700 mb-1",children:"Coordenadas (Latitude, Longitude) *"}),o.jsx("textarea",{id:"coordenadas",value:y,onChange:ne=>b(ne.target.value),rows:"8",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm ${w.coordenadas?"border-red-500":"border-gray-300"}`,placeholder:"Uma coordenada por linha, formato: latitude,longitude"}),w.coordenadas&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:w.coordenadas})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Instruções:"}),o.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[o.jsx("li",{children:"• Uma coordenada por linha"}),o.jsx("li",{children:"• Formato: latitude,longitude"}),o.jsx("li",{children:"• Separador: vírgula"}),o.jsx("li",{children:"• Mínimo 3 pontos para polígono"}),o.jsx("li",{children:"• Coordenadas devem estar no Brasil"})]})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:ce,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition duration-150 flex items-center",children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):"Salvar Alterações"})]})]})]})})})]});return hi.createPortal(G,document.body)},dp=({isOpen:h,onClose:v,onConfirm:d,requestData:m})=>{const[r,u]=le.useState(!1),g=()=>{r&&(d(),v())},y=()=>{u(!1),v()};return h?hi.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-orange-600 text-white p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold flex items-center",children:"⚠️ Aviso: Votação Responsável"}),o.jsx("p",{className:"text-orange-100 text-sm mt-1",children:"Leia atentamente antes de continuar"})]}),o.jsx("button",{onClick:y,className:"text-white hover:text-orange-200 text-2xl font-bold",children:"×"})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"text-red-500 text-2xl",children:"🚨"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-red-800 text-lg",children:"IMPORTANTE: Sistema de Penalização"}),o.jsxs("p",{className:"text-red-700 mt-2",children:["Votos comprovadamente mal-intencionados ou que visem atrapalhar o controle de áreas de risco resultarão em ",o.jsx("strong",{children:"penalização de SIGAR Coins"}),"."]})]})]})}),m&&o.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Você está votando sobre:"}),o.jsxs("div",{className:"text-sm text-gray-700",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Tipo:"})," ",m.type==="REMOVAL"?"Solicitação de Remoção":m.type==="SUBMISSION"?"Solicitação de Adição":m.type==="AREA_CLASSIFICATION"?"Classificação de Área de Risco":"Votação Pública"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Área:"})," ",m.areaName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"ID:"})," ",m.areaId]}),m.riskLevel&&o.jsxs("p",{children:[o.jsx("strong",{children:"Nível de Risco:"})," ",m.riskLevel]})]})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"font-semibold text-yellow-800 mb-3",children:"💰 Penalizações por Conduta Inadequada:"}),o.jsxs("ul",{className:"space-y-2 text-sm text-yellow-700",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"text-red-500 mr-2",children:"-15"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Voto Mal-Intencionado:"})," Votar contra evidências técnicas claras"]})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"text-red-500 mr-2",children:"-25"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Submissão Falsa:"})," Cadastrar áreas inexistentes ou incorretas"]})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"text-red-500 mr-2",children:"-10"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Denúncias Spam:"})," Relatórios repetitivos sem fundamento"]})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"text-red-500 mr-2",children:"-50"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Reincidência:"})," Múltiplas infrações comprovadas"]})]})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"🔍 Como Funciona a Validação:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-blue-700",children:[o.jsx("li",{children:"Seu voto é registrado no sistema"}),o.jsx("li",{children:"Especialistas da Defesa Civil analisam tecnicamente a solicitação"}),o.jsx("li",{children:"Seu voto é comparado com a análise técnica oficial"}),o.jsx("li",{children:"Se houver divergência significativa sem justificativa válida, penalização é aplicada"}),o.jsx("li",{children:"Você será notificado sobre o resultado da validação"})]})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"font-semibold text-green-800 mb-3",children:"✅ Dicas para Votação Responsável:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm text-green-700",children:[o.jsx("li",{children:"Analise cuidadosamente as evidências apresentadas"}),o.jsx("li",{children:"Considere aspectos técnicos: geologia, hidrologia, ocupação do solo"}),o.jsx("li",{children:"Vote baseado em conhecimento técnico, não em preferências pessoais"}),o.jsx("li",{children:"Se não tem certeza, abstenha-se ou procure mais informações"}),o.jsx("li",{children:"Lembre-se: sua votação afeta a segurança da população"})]})]}),o.jsx("div",{className:"bg-gray-100 border rounded-lg p-4",children:o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:r,onChange:b=>u(b.target.checked),className:"mt-1 h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),o.jsxs("span",{className:"text-sm text-gray-700",children:[o.jsx("strong",{children:"Declaro que:"})," Li e compreendi as regras de votação responsável. Entendo que votos mal-intencionados resultarão em penalização de SIGAR Coins. Comprometo-me a votar com base em critérios técnicos e no interesse da segurança pública."]})]})})]}),o.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[o.jsx("button",{onClick:y,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:g,disabled:!r,className:`px-6 py-2 rounded-md transition-colors ${r?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Prosseguir com Votação"})]})]})}),document.body):null},w_=({isOpen:h,onClose:v})=>{const{removalRequests:d,userSubmissions:m,approveRemovalRequest:r,rejectRemovalRequest:u,approveSubmission:g,rejectSubmission:y,getRemovalRequestStats:b,getSubmissionStats:w,getAreasOrderedByRequests:N,submitVote:T,isAuthenticated:k}=zt(),[P,H]=le.useState("areas"),[O,R]=le.useState({}),[J,ce]=le.useState(!1),[G,ne]=le.useState(null),W=b(),ae=w(),oe=N(),ye=C=>{switch(C){case"APPROVED":return"✅";case"REJECTED":return"❌";case"PENDING":return"⏳";default:return"❓"}},F=C=>{switch(C){case"HIGH":return"text-red-600 bg-red-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},me=C=>{switch(C){case"RISK_RESOLVED":return"Risco Resolvido";case"INCORRECT_CLASSIFICATION":return"Classificação Incorreta";case"AREA_REMOVED":return"Área Removida";case"DUPLICATE_ENTRY":return"Entrada Duplicada";case"OTHER":return"Outro Motivo";default:return C}},_e=C=>{switch(C){case"NEW_AREA":return"Nova Área";case"AREA_UPDATE":return"Atualização";case"AREA_CORRECTION":return"Correção";default:return C}},Se=C=>{switch(C){case"NEW_AREA":return"➕";case"AREA_UPDATE":return"✏️";case"AREA_CORRECTION":return"🔧";default:return"📝"}},gt=async C=>{const ee=O[C]||"";await r(C,ee),R(re=>({...re,[C]:""}))},Fe=async C=>{const ee=O[C]||"";if(!ee.trim()){alert("Por favor, forneça uma justificativa para a rejeição.");return}await u(C,ee),R(re=>({...re,[C]:""}))},qe=async C=>{const ee=O[C]||"";await g(C,ee),R(re=>({...re,[C]:""}))},Y=async C=>{const ee=O[C]||"";if(!ee.trim()){alert("Por favor, forneça uma justificativa para a rejeição.");return}await y(C,ee),R(re=>({...re,[C]:""}))},ue=(C,ee,re,ge)=>{if(!k){alert("Você precisa estar logado para votar.");return}ne({requestId:C,requestType:ee,voteType:re,requestData:ge}),ce(!0)},se=()=>{if(G){const C=O[`vote-${G.requestId}`]||"";if(!C.trim()){alert("Por favor, forneça uma justificativa para seu voto.");return}T(G.requestId,G.requestType,G.voteType,C),ne(null),R(ee=>({...ee,[`vote-${G.requestId}`]:""})),alert("Voto registrado com sucesso! Ele será validado pela equipe técnica.")}},Ue=()=>{ne(null),ce(!1)},A=d.filter(C=>P==="removal_pending"?C.status==="PENDING":P==="removal_approved"?C.status==="APPROVED":P==="removal_rejected"?C.status==="REJECTED":P==="removal_requests"),K=m.filter(C=>P==="submission_pending"?C.status==="PENDING":P==="submission_approved"?C.status==="APPROVED":P==="submission_rejected"?C.status==="REJECTED":P==="submissions");return h?hi.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-blue-600 text-white p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:"Central de Gerenciamento de Solicitações"}),o.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Gerencie solicitações de adição e remoção de áreas de risco"})]}),o.jsx("button",{onClick:v,className:"text-white hover:text-blue-200 text-2xl font-bold",children:"×"})]})}),o.jsx("div",{className:"bg-gray-50 border-b p-4",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-3 text-center border",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:W.total}),o.jsx("div",{className:"text-sm text-gray-600",children:"Solicitações de Remoção"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 text-center border",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:ae.total}),o.jsx("div",{className:"text-sm text-gray-600",children:"Solicitações de Adição"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 text-center border",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:W.pending+ae.pending}),o.jsx("div",{className:"text-sm text-gray-600",children:"Pendentes"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 text-center border",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:oe.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Áreas Monitoradas"})]})]})}),o.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>H("areas"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${P==="areas"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:["🏢 Áreas por Solicitações (",oe.length,")"]}),o.jsxs("button",{onClick:()=>H("removal_requests"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${P==="removal_requests"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:["🗑️ Remoções (",W.total,")"]}),o.jsxs("button",{onClick:()=>H("submissions"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${P==="submissions"?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:["➕ Adições (",ae.total,")"]}),o.jsxs("button",{onClick:()=>H("submission_pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${P==="submission_pending"?"bg-yellow-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:["⏳ Pendentes (",ae.pending,")"]})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[P==="areas"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Áreas Ordenadas por Quantidade de Solicitações"}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",oe.length," áreas"]})]}),oe.length===0?o.jsxs("div",{className:"text-center text-gray-500 py-12",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🏢"}),o.jsx("p",{children:"Nenhuma área encontrada"})]}):o.jsx("div",{className:"space-y-4",children:oe.map(C=>{var ee,re;return o.jsxs("div",{className:"bg-white border rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:C.nome}),o.jsxs("span",{className:"text-sm text-gray-600",children:["(ID: ",C.id,")"]}),o.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${((ee=C.nivelAmeaca)==null?void 0:ee.toLowerCase())==="alto"?"bg-red-100 text-red-800 border-red-200":((re=C.nivelAmeaca)==null?void 0:re.toLowerCase())==="médio"?"bg-orange-100 text-orange-800 border-orange-200":"bg-yellow-100 text-yellow-800 border-yellow-200"}`,children:[C.nivelAmeaca," Risco"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-4",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Município:"})," ",C.municipio]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Bairro:"})," ",C.bairro]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Tipo de Risco:"})," ",C.tipoRisco]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Responsável:"})," ",C.responsavelDC]})]}),C.descricao&&o.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-2",children:C.descricao}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Detalhes das Solicitações:"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[C.removalRequests.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsxs("span",{children:[C.removalRequests.length," solicitação(ões) de remoção"]})]}),C.additionRequests.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full"}),o.jsxs("span",{children:[C.additionRequests.length," solicitação(ões) de adição/modificação"]})]}),C.requestCount===0&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[o.jsx("span",{className:"w-3 h-3 bg-gray-300 rounded-full"}),o.jsx("span",{children:"Nenhuma solicitação registrada"})]})]})]})]}),o.jsx("div",{className:"ml-4",children:o.jsxs("div",{className:`text-center p-3 rounded-lg ${C.requestCount>5?"bg-red-100 border border-red-200":C.requestCount>2?"bg-orange-100 border border-orange-200":C.requestCount>0?"bg-yellow-100 border border-yellow-200":"bg-gray-100 border border-gray-200"}`,children:[o.jsx("div",{className:`text-2xl font-bold ${C.requestCount>5?"text-red-700":C.requestCount>2?"text-orange-700":C.requestCount>0?"text-yellow-700":"text-gray-500"}`,children:C.requestCount}),o.jsx("div",{className:"text-xs font-medium text-gray-600",children:C.requestCount===1?"Solicitação":"Solicitações"})]})})]}),C.requestCount>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex gap-2",children:[o.jsx("button",{onClick:()=>H("removal_requests"),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Ver Solicitações"}),o.jsx("button",{onClick:()=>console.log("Ver área no mapa:",C.id),className:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors",children:"Ver no Mapa"})]})]},C.id)})})]}),(P.startsWith("removal")||P==="removal_requests")&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Solicitações de Remoção (",A.length,")"]})}),A.length===0?o.jsxs("div",{className:"text-center text-gray-500 py-12",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🗑️"}),o.jsx("p",{children:"Nenhuma solicitação de remoção encontrada"})]}):o.jsx("div",{className:"space-y-4",children:A.map(C=>o.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:"text-lg",children:ye(C.status)}),o.jsx("h4",{className:"font-semibold text-gray-800",children:C.areaName}),o.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",C.areaId]})]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Motivo:"})," ",me(C.reason)]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Solicitante:"})," ",C.requestedBy]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Data:"})," ",new Date(C.createdAt).toLocaleString("pt-BR")]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[o.jsx("strong",{children:"Justificativa:"})," ",C.justification]}),C.reviewNotes&&o.jsxs("div",{className:"text-sm bg-gray-50 p-2 rounded border",children:[o.jsx("strong",{children:"Observações da Análise:"})," ",C.reviewNotes]})]})}),C.status==="PENDING"&&o.jsxs("div",{className:"border-t pt-3 mt-3",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações da Análise (opcional)"}),o.jsx("textarea",{value:O[C.id]||"",onChange:ee=>R(re=>({...re,[C.id]:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"2",placeholder:"Comentários sobre a análise da solicitação..."})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>gt(C.id),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"✅ Aprovar Remoção"}),o.jsx("button",{onClick:()=>Fe(C.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"❌ Rejeitar"})]})]})]},C.id))})]}),(P.startsWith("submission")||P==="submissions")&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Solicitações de Adição (",K.length,")"]})}),K.length===0?o.jsxs("div",{className:"text-center text-gray-500 py-12",children:[o.jsx("div",{className:"text-4xl mb-4",children:"➕"}),o.jsx("p",{children:"Nenhuma solicitação de adição encontrada"})]}):o.jsx("div",{className:"space-y-4",children:K.map(C=>o.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:"text-lg",children:ye(C.status)}),o.jsx("span",{className:"text-lg",children:Se(C.submissionType)}),o.jsx("h4",{className:"font-semibold text-gray-800",children:C.areaName}),o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(C.riskLevel)}`,children:C.riskLevel})]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Tipo:"})," ",_e(C.submissionType)]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Descrição:"})," ",C.description]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Data:"})," ",new Date(C.submittedAt).toLocaleString("pt-BR")]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[o.jsx("strong",{children:"População Afetada:"})," ",C.affectedPopulation||"Não informado"," pessoas"]}),C.reviewNotes&&o.jsxs("div",{className:"text-sm bg-gray-50 p-2 rounded border",children:[o.jsx("strong",{children:"Observações da Análise:"})," ",C.reviewNotes]})]})}),C.status==="PENDING"&&o.jsxs("div",{className:"border-t pt-3 mt-3",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações da Análise (opcional)"}),o.jsx("textarea",{value:O[C.id]||"",onChange:ee=>R(re=>({...re,[C.id]:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"2",placeholder:"Comentários sobre a análise da solicitação..."})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>qe(C.id),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"✅ Aprovar Adição"}),o.jsx("button",{onClick:()=>Y(C.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"❌ Rejeitar"})]})]})]},C.id))})]}),P==="public_voting"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Votação Pública - Solicitações Pendentes"})}),o.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"text-purple-500 text-xl",children:"🗳️"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-purple-800",children:"Participação Democrática"}),o.jsx("p",{className:"text-purple-700 text-sm mt-1",children:"Contribua com a análise técnica votando nas solicitações. Votos mal-intencionados resultam em penalização."})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-medium text-gray-700",children:"🗑️ Solicitações de Remoção"}),d.filter(C=>C.status==="PENDING").map(C=>o.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:"text-lg",children:"🗑️"}),o.jsx("h5",{className:"font-semibold text-gray-800",children:C.areaName}),o.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",C.areaId]})]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Motivo:"})," ",me(C.reason)]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[o.jsx("strong",{children:"Justificativa:"})," ",C.justification]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Justificativa do seu voto (obrigatória)"}),o.jsx("textarea",{value:O[`vote-${C.id}`]||"",onChange:ee=>R(re=>({...re,[`vote-${C.id}`]:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:"2",placeholder:"Explique tecnicamente por que você concorda ou discorda desta solicitação..."})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>ue(C.id,"REMOVAL","APPROVE",{type:"REMOVAL",areaName:C.areaName,areaId:C.areaId}),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:"👍 Concordo com Remoção"}),o.jsx("button",{onClick:()=>ue(C.id,"REMOVAL","REJECT",{type:"REMOVAL",areaName:C.areaName,areaId:C.areaId}),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm",children:"👎 Discordo da Remoção"})]})]})})},`vote-removal-${C.id}`)),o.jsx("h4",{className:"font-medium text-gray-700 mt-6",children:"➕ Solicitações de Adição"}),m.filter(C=>C.status==="PENDING").map(C=>o.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:"text-lg",children:"➕"}),o.jsx("h5",{className:"font-semibold text-gray-800",children:C.areaName}),o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(C.riskLevel)}`,children:C.riskLevel})]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("strong",{children:"Descrição:"})," ",C.description]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[o.jsx("strong",{children:"População Afetada:"})," ",C.affectedPopulation||"Não informado"," pessoas"]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Justificativa do seu voto (obrigatória)"}),o.jsx("textarea",{value:O[`vote-${C.id}`]||"",onChange:ee=>R(re=>({...re,[`vote-${C.id}`]:ee.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:"2",placeholder:"Explique tecnicamente por que você concorda ou discorda desta submissão..."})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>ue(C.id,"SUBMISSION","APPROVE",{type:"SUBMISSION",areaName:C.areaName,areaId:C.areaId}),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:"👍 Concordo com Adição"}),o.jsx("button",{onClick:()=>ue(C.id,"SUBMISSION","REJECT",{type:"SUBMISSION",areaName:C.areaName,areaId:C.areaId}),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm",children:"👎 Discordo da Adição"})]})]})})},`vote-submission-${C.id}`)),d.filter(C=>C.status==="PENDING").length===0&&m.filter(C=>C.status==="PENDING").length===0&&o.jsxs("div",{className:"text-center text-gray-500 py-12",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🗳️"}),o.jsx("p",{children:"Nenhuma solicitação pendente para votação no momento"})]})]})]})]}),o.jsx(dp,{isOpen:J,onClose:Ue,onConfirm:se,requestData:G==null?void 0:G.requestData})]})}),document.body):null},E_=({isOpen:h,onClose:v})=>{const{riskAreas:d,requestAreaRemoval:m,loading:r}=zt(),[u,g]=le.useState(""),[y,b]=le.useState(""),[w,N]=le.useState(""),[T,k]=le.useState({}),[P,H]=le.useState(null),O=[{value:"RISK_RESOLVED",label:"Risco Resolvido",description:"Área foi estabilizada ou teve o risco mitigado"},{value:"INCORRECT_CLASSIFICATION",label:"Classificação Incorreta",description:"Área foi incorretamente classificada como risco"},{value:"AREA_REMOVED",label:"Área Removida",description:"Área física foi removida ou modificada significativamente"},{value:"DUPLICATE_ENTRY",label:"Entrada Duplicada",description:"Área já está cadastrada em outro registro"},{value:"OTHER",label:"Outro Motivo",description:"Especificar outro motivo na justificativa"}],R=W=>{if(!W.trim()){H(null);return}const ae=Object.values(d).find(oe=>oe.id.toLowerCase().includes(W.toLowerCase()));H(ae||!1)},J=()=>{const W={};return u.trim()?P||(W.areaId="Área não encontrada com este ID"):W.areaId="ID da área é obrigatório",y||(W.reason="Selecione um motivo para a remoção"),w.trim()?w.trim().length<20&&(W.justification="Justificativa deve ter pelo menos 20 caracteres"):W.justification="Justificativa é obrigatória",k(W),Object.keys(W).length===0},ce=async W=>{if(W.preventDefault(),!!J())try{const{selectArea:ae}=zt.getState();ae(P.id);const oe=m(P.id,y,w.trim());oe&&(G(),alert(`✅ Solicitação de remoção enviada com sucesso!

Área: ${P.nome}
ID: ${oe.id}
Status: Aguardando aprovação

⚠️ A solicitação será analisada pela Defesa Civil antes da remoção.`))}catch(ae){console.error("Erro ao solicitar remoção:",ae),alert("Erro ao enviar solicitação. Tente novamente.")}},G=()=>{g(""),b(""),N(""),k({}),H(null),v()},ne=W=>{g(W),R(W),T.areaId&&k(ae=>({...ae,areaId:""}))};return h?hi.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-red-600 text-white p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:"Solicitar Remoção por ID"}),o.jsx("p",{className:"text-red-100 text-sm mt-1",children:"Busque uma área pelo ID e solicite sua remoção"})]}),o.jsx("button",{onClick:G,className:"text-white hover:text-red-200 text-2xl font-bold",children:"×"})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"text-yellow-500 text-xl",children:"⚠️"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-yellow-800",children:"Aviso Importante"}),o.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Esta solicitação será analisada pela Defesa Civil. A remoção só será efetivada após aprovação das autoridades competentes."})]})]})}),o.jsxs("form",{onSubmit:ce,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"areaId",className:"block text-sm font-semibold text-gray-700 mb-2",children:"ID da Área de Risco *"}),o.jsx("input",{type:"text",id:"areaId",value:u,onChange:W=>ne(W.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent ${T.areaId?"border-red-500":"border-gray-300"}`,placeholder:"Digite o ID da área (ex: R1-GO-001)"}),T.areaId&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:T.areaId}),u.trim()&&o.jsx("div",{className:"mt-3",children:P===null?o.jsx("p",{className:"text-gray-500 text-sm",children:"Digite um ID para buscar..."}):P===!1?o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:[o.jsx("p",{className:"text-red-600 text-sm font-medium",children:"❌ Nenhuma área encontrada com este ID"}),o.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Verifique se o ID está correto"})]}):o.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"text-green-500 text-lg",children:"✅"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-green-800",children:P.nome}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2 text-sm text-green-700",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"ID:"})," ",P.id]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Município:"})," ",P.municipio]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Bairro:"})," ",P.bairro]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Tipo:"})," ",P.tipoRisco]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Nível:"}),o.jsx("span",{className:`ml-1 px-2 py-1 rounded text-xs ${P.nivelAmeaca==="Alto"?"bg-red-100 text-red-800":P.nivelAmeaca==="Médio"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:P.nivelAmeaca})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Cadastro:"})," ",P.dataCadastro]})]})]})]})})})]}),P&&P!==!1&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Motivo da Remoção *"}),o.jsx("div",{className:"space-y-3",children:O.map(W=>o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer group",children:[o.jsx("input",{type:"radio",name:"reason",value:W.value,checked:y===W.value,onChange:ae=>{b(ae.target.value),T.reason&&k(oe=>({...oe,reason:""}))},className:"mt-1 h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-800 group-hover:text-red-600",children:W.label}),o.jsx("div",{className:"text-sm text-gray-600",children:W.description})]})]},W.value))}),T.reason&&o.jsx("p",{className:"text-red-600 text-sm mt-2",children:T.reason})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"justification",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Justificativa Detalhada *"}),o.jsx("textarea",{id:"justification",rows:"6",value:w,onChange:W=>{N(W.target.value),T.justification&&k(ae=>({...ae,justification:""}))},className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none ${T.justification?"border-red-500":"border-gray-300"}`,placeholder:"Descreva detalhadamente o motivo da solicitação de remoção. Inclua informações sobre vistorias técnicas, obras realizadas, ou qualquer outro dado relevante..."}),o.jsxs("div",{className:"flex justify-between mt-1",children:[T.justification&&o.jsx("p",{className:"text-red-600 text-sm",children:T.justification}),o.jsxs("p",{className:"text-gray-500 text-sm ml-auto",children:[w.length,"/500 caracteres"]})]})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between items-center",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"* Campos obrigatórios"}),o.jsxs("div",{className:"space-x-3",children:[o.jsx("button",{type:"button",onClick:G,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:ce,disabled:r||!P||P===!1,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Enviando...":"Solicitar Remoção"})]})]})]})}),document.body):null},L_=({isOpen:h,onClose:v})=>{const{inspectionRoadmaps:d,createInspectionRoadmap:m,updateAreaInspection:r,getRoadmapStats:u,getAreasForInspection:g,loadExampleRoadmaps:y,riskAreas:b}=zt();le.useEffect(()=>{h&&(!d||d.length===0)&&(console.log("🎯 Modal aberto sem dados - carregando exemplos..."),y())},[h,d,y]);const[w,N]=le.useState("roadmaps"),[T,k]=le.useState([]),[P,H]=le.useState({title:"",description:"",inspector:"",priority:"MEDIUM",estimatedDays:3}),[O,R]=le.useState({roadmapId:"",areaId:"",status:"COMPLETED",findings:"",recommendations:"",riskLevel:"",inspector:""}),J=u(),ce=g(),G=()=>{if(!P.title.trim()||T.length===0){alert("Preencha o título e selecione pelo menos uma área");return}const F={...P,areas:T.map(me=>{const _e=b[me];return{id:_e.id,name:_e.nome,municipality:_e.municipio,neighborhood:_e.bairro,riskType:_e.tipoRisco,riskLevel:_e.nivelAmeaca,coordinates:_e.coordenadas?_e.coordenadas[0]:null}})};m(F),H({title:"",description:"",inspector:"",priority:"MEDIUM",estimatedDays:3}),k([]),alert("Roadmap de vistoria criado com sucesso!")},ne=(F,me)=>{if(!O.findings.trim()){alert("Preencha as observações da vistoria");return}r(F,me,{status:O.status,findings:O.findings,recommendations:O.recommendations,riskLevel:O.riskLevel,inspector:O.inspector||"Inspetor Atual"}),R({roadmapId:"",areaId:"",status:"COMPLETED",findings:"",recommendations:"",riskLevel:"",inspector:""}),alert("Vistoria registrada com sucesso!")},W=F=>{k(me=>me.includes(F)?me.filter(_e=>_e!==F):[...me,F])},ae=F=>{switch(F){case"HIGH":return"bg-red-100 text-red-800 border-red-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"LOW":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},oe=F=>{switch(F){case"COMPLETED":return"bg-green-100 text-green-800 border-green-200";case"IN_PROGRESS":return"bg-blue-100 text-blue-800 border-blue-200";case"ACTIVE":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"PENDING":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ye=F=>{switch(F){case"COMPLETED":return"Concluído";case"IN_PROGRESS":return"Em Andamento";case"ACTIVE":return"Ativo";case"PENDING":return"Pendente";default:return"Desconhecido"}};return h?hi.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"🗺️ Roadmap de Vistorias"}),o.jsx("p",{className:"text-blue-100 mt-1",children:"Planejamento e controle de vistorias técnicas"})]}),o.jsx("button",{onClick:v,className:"text-white hover:text-red-200 transition-colors",children:o.jsx("i",{className:"fas fa-times text-2xl"})})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[o.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:J.total}),o.jsx("div",{className:"text-sm text-blue-100",children:"Total Roadmaps"})]}),o.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:J.active+J.inProgress}),o.jsx("div",{className:"text-sm text-blue-100",children:"Em Andamento"})]}),o.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:J.totalAreas}),o.jsx("div",{className:"text-sm text-blue-100",children:"Áreas Planejadas"})]}),o.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:J.completedAreas}),o.jsx("div",{className:"text-sm text-blue-100",children:"Áreas Vistoriadas"})]})]}),J.total===0&&o.jsxs("div",{className:"mt-4 text-center",children:[o.jsxs("button",{onClick:()=>{y(),console.log("🎯 Dados de exemplo carregados pelo usuário")},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx("i",{className:"fas fa-download mr-2"}),"Carregar Dados de Exemplo"]}),o.jsx("p",{className:"text-sm text-blue-100 mt-2",children:"Clique para carregar roadmaps de demonstração"})]})]}),o.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("div",{className:"flex",children:[o.jsxs("button",{onClick:()=>N("roadmaps"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${w==="roadmaps"?"border-blue-500 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["🗺️ Roadmaps (",d.length,")"]}),o.jsx("button",{onClick:()=>N("create"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${w==="create"?"border-blue-500 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"➕ Criar Roadmap"}),o.jsxs("button",{onClick:()=>N("areas"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${w==="areas"?"border-blue-500 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["🏢 Áreas Prioritárias (",ce.length,")"]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6",style:{maxHeight:"calc(90vh - 280px)"},children:[w==="roadmaps"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Roadmaps de Vistoria"})}),d.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx("i",{className:"fas fa-route text-4xl mb-4"}),o.jsx("p",{children:"Nenhum roadmap criado ainda"}),o.jsx("p",{className:"text-sm mt-1",children:"Crie seu primeiro roadmap para organizar as vistorias"})]}):o.jsx("div",{className:"space-y-4",children:d.map(F=>o.jsx("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:o.jsx("div",{className:"flex justify-between items-start mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:F.title}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${oe(F.status)}`,children:ye(F.status)}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${ae(F.priority)}`,children:[F.priority==="HIGH"?"Alta":F.priority==="MEDIUM"?"Média":"Baixa"," Prioridade"]})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:F.description}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-4",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Inspetor:"})," ",F.inspector]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Criado em:"})," ",new Date(F.createdAt).toLocaleDateString("pt-BR")]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Estimativa:"})," ",F.estimatedDays," dias"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Progresso:"})," ",F.completedAreas,"/",F.totalAreas," áreas"]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Áreas do Roadmap:"}),o.jsx("div",{className:"space-y-2",children:F.areas.map(me=>o.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-white rounded border",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-sm",children:me.name}),o.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",me.id," ",me.inspector?`| Inspetor: ${me.inspector}`:""]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${oe(me.status)}`,children:ye(me.status)}),me.status==="PENDING"&&o.jsx("button",{onClick:()=>{R({...O,roadmapId:F.id,areaId:me.id}),N("inspect")},className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"Vistoriar"})]})]},me.id))})]})]})})},F.id))})]}),w==="create"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Criar Novo Roadmap"}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título do Roadmap"}),o.jsx("input",{type:"text",value:P.title,onChange:F=>H({...P,title:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Vistoria Mensal - Setor Norte"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),o.jsx("textarea",{value:P.description,onChange:F=>H({...P,description:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Descreva o objetivo desta vistoria..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspetor Responsável"}),o.jsx("input",{type:"text",value:P.inspector,onChange:F=>H({...P,inspector:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do inspetor"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),o.jsxs("select",{value:P.priority,onChange:F=>H({...P,priority:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"LOW",children:"Baixa"}),o.jsx("option",{value:"MEDIUM",children:"Média"}),o.jsx("option",{value:"HIGH",children:"Alta"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo Estimado (dias)"}),o.jsx("input",{type:"number",min:"1",max:"30",value:P.estimatedDays,onChange:F=>H({...P,estimatedDays:parseInt(F.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("button",{onClick:G,disabled:!P.title.trim()||T.length===0,className:`w-full py-3 px-4 rounded-md font-medium transition-colors ${P.title.trim()&&T.length>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["🗺️ Criar Roadmap (",T.length," áreas selecionadas)"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecionar Áreas para Vistoria"}),o.jsx("div",{className:"border border-gray-300 rounded-md p-3",style:{maxHeight:"400px",overflowY:"auto"},children:ce.slice(0,10).map(F=>o.jsxs("div",{className:"flex items-start space-x-3 py-2 border-b border-gray-100 last:border-b-0",children:[o.jsx("input",{type:"checkbox",checked:T.includes(F.id),onChange:()=>W(F.id),className:"mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-sm",children:F.nome}),o.jsxs("div",{className:"text-xs text-gray-500",children:[F.municipio," - ",F.bairro]}),o.jsxs("div",{className:"text-xs text-gray-600",children:[F.tipoRisco," | ",F.nivelAmeaca," Risco"]}),o.jsxs("div",{className:"text-xs text-orange-600",children:["Prioridade: ",F.priority," | ",F.requestCount," solicitações"]})]})]},F.id))})]})]})]}),w==="areas"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Áreas Prioritárias para Vistoria"}),o.jsx("p",{className:"text-gray-600",children:"Áreas ordenadas por prioridade de vistoria baseada em risco, solicitações e última atualização."}),o.jsx("div",{className:"space-y-3",children:ce.map(F=>{var me,_e;return o.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:F.nome}),o.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${((me=F.nivelAmeaca)==null?void 0:me.toLowerCase())==="alto"?"bg-red-100 text-red-800 border-red-200":((_e=F.nivelAmeaca)==null?void 0:_e.toLowerCase())==="médio"?"bg-orange-100 text-orange-800 border-orange-200":"bg-yellow-100 text-yellow-800 border-yellow-200"}`,children:[F.nivelAmeaca," Risco"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Município:"})," ",F.municipio]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Bairro:"})," ",F.bairro]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Tipo:"})," ",F.tipoRisco]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Última Vistoria:"})," ",F.lastInspection]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Solicitações:"})," ",F.requestCount]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Responsável:"})," ",F.responsavelDC]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`text-xl font-bold ${F.priority>70?"text-red-600":F.priority>40?"text-orange-600":"text-yellow-600"}`,children:F.priority}),o.jsx("div",{className:"text-xs text-gray-500",children:"Prioridade"})]})]})},F.id)})})]}),w==="inspect"&&O.roadmapId&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Registrar Vistoria"}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-blue-800",children:"Área a ser vistoriada:"}),(()=>{const F=d.find(_e=>_e.id===O.roadmapId),me=F==null?void 0:F.areas.find(_e=>_e.id===O.areaId);return me?o.jsxs("div",{className:"text-sm text-blue-700 mt-1",children:[me.name," ",me.municipality&&me.neighborhood?`- ${me.municipality}, ${me.neighborhood}`:""]}):null})()]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status da Vistoria"}),o.jsxs("select",{value:O.status,onChange:F=>R({...O,status:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"COMPLETED",children:"Concluída"}),o.jsx("option",{value:"PENDING",children:"Pendente (precisa retornar)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações da Vistoria *"}),o.jsx("textarea",{value:O.findings,onChange:F=>R({...O,findings:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4",placeholder:"Descreva as condições encontradas na área...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recomendações"}),o.jsx("textarea",{value:O.recommendations,onChange:F=>R({...O,recommendations:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Recomendações para a área..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nível de Risco Atual"}),o.jsxs("select",{value:O.riskLevel,onChange:F=>R({...O,riskLevel:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Não alterado"}),o.jsx("option",{value:"Alto",children:"Alto Risco"}),o.jsx("option",{value:"Médio",children:"Médio Risco"}),o.jsx("option",{value:"Baixo",children:"Baixo Risco"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspetor"}),o.jsx("input",{type:"text",value:O.inspector,onChange:F=>R({...O,inspector:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do inspetor"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>ne(O.roadmapId,O.areaId),disabled:!O.findings.trim(),className:`flex-1 py-3 px-4 rounded-md font-medium transition-colors ${O.findings.trim()?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"✅ Registrar Vistoria"}),o.jsx("button",{onClick:()=>N("roadmaps"),className:"px-6 py-3 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Cancelar"})]})]})]})]})]})}),document.body):null},S_=({isOpen:h,onDrawModeChange:v,isDrawMode:d=!1})=>{const{toggleLoginModal:m,isAuthenticated:r,user:u,getSelectedArea:g}=zt(),[y,b]=le.useState(!1),[w,N]=le.useState(!1),[T,k]=le.useState(!1),[P,H]=le.useState(!1),[O,R]=le.useState(!1),[J,ce]=le.useState(!1),G=ne=>{r?ne==="Incluir Área de Risco"?ce(!J):ne==="Incluir via Formulário"?(b(!0),ce(!1)):ne==="Incluir via Desenho"?(v&&v(!d),ce(!1)):ne==="Alterar Área de Risco"?g()?N(!0):alert("Selecione uma área no mapa primeiro para editá-la."):ne==="Gerenciar Solicitações"?k(!0):ne==="Planejar Vistorias"?R(!0):ne==="Remover Área de Risco"?H(!0):alert(`Funcionalidade "${ne}" será implementada em breve.`):m(!0,ne)};return o.jsxs("aside",{className:`sidebar-fixed bg-gray-800 text-white w-64 flex-shrink-0 p-4 space-y-2 transform ${h?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 shadow-lg overflow-y-auto`,children:[o.jsxs("div",{className:"h-full flex flex-col min-h-0",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:r?"Gerenciamento":"Ações (Login necessário)"}),r&&u&&o.jsx("div",{className:"mb-4 p-3 bg-green-800 rounded-lg",children:o.jsxs("p",{className:"text-sm text-green-100",children:[o.jsx("i",{className:"fas fa-check-circle mr-2"}),"Logado como: ",u.name]})}),o.jsxs("nav",{children:[o.jsxs("div",{className:"mb-2",children:[o.jsxs("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),G("Incluir Área de Risco")},className:"menu-item flex items-center py-2.5 px-4 rounded-lg hover:bg-gray-700 w-full text-left",type:"button",children:[o.jsx("i",{className:"fas fa-plus-circle w-6 mr-2"}),"Incluir Área de Risco",o.jsx("i",{className:`fas fa-chevron-${J?"up":"down"} ml-auto text-gray-400`}),!r&&o.jsx("i",{className:"fas fa-lock ml-auto text-gray-400"})]}),J&&r&&o.jsxs("div",{className:"ml-4 mt-2 space-y-1",children:[o.jsxs("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),G("Incluir via Formulário")},className:"flex items-center py-2 px-3 rounded-md hover:bg-gray-600 w-full text-left text-sm",type:"button",children:[o.jsx("i",{className:"fas fa-edit w-5 mr-2 text-blue-400"}),"📋 Via Formulário"]}),o.jsxs("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),G("Incluir via Desenho")},className:`flex items-center py-2 px-3 rounded-md hover:bg-gray-600 w-full text-left text-sm ${d?"bg-green-600":""}`,type:"button",children:[o.jsx("i",{className:"fas fa-pencil-alt w-5 mr-2 text-green-400"}),d?"🔒 Sair do Desenho":"✏️ Desenhar no Mapa"]})]})]}),o.jsxs("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),G("Remover Área de Risco")},className:"menu-item flex items-center py-2.5 px-4 rounded-lg hover:bg-gray-700 w-full text-left",type:"button",children:[o.jsx("i",{className:"fas fa-trash-alt w-6 mr-2"}),"Remover Área de Risco",!r&&o.jsx("i",{className:"fas fa-lock ml-auto text-gray-400"})]})]}),r&&(u==null?void 0:u.role)==="admin"&&(u==null?void 0:u.username)!=="demo"&&o.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-4",children:[o.jsx("h3",{className:"text-md font-semibold mb-2",children:"🛡️ Área Administrativa"}),o.jsxs("button",{onClick:()=>G("Gerenciar Solicitações"),className:"w-full text-left px-3 py-2 text-sm bg-purple-600 hover:bg-purple-700 rounded-md transition-colors mb-2",children:[o.jsx("i",{className:"fas fa-tasks mr-2"}),"Gerenciar Solicitações"]}),o.jsxs("button",{onClick:()=>G("Planejar Vistorias"),className:"w-full text-left px-3 py-2 text-sm bg-blue-600 hover:bg-blue-700 rounded-md transition-colors mb-2",children:[o.jsx("i",{className:"fas fa-route mr-2"}),"Vistorias"]})]}),r&&(u==null?void 0:u.role)==="inspector"&&o.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-4",children:[o.jsx("h3",{className:"text-md font-semibold mb-2",children:"🔍 Área de Vistoria"}),o.jsxs("button",{onClick:()=>G("Planejar Vistorias"),className:"w-full text-left px-3 py-2 text-sm bg-green-600 hover:bg-green-700 rounded-md transition-colors mb-2",children:[o.jsx("i",{className:"fas fa-map-marked-alt mr-2"}),"Vistorias"]})]}),o.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-4",children:[o.jsx("h3",{className:"text-md font-semibold mb-2",children:"Legenda de Risco"}),o.jsxs("ul",{className:"space-y-1 text-sm",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"h-3 w-3 rounded-full mr-2 border border-red-700",style:{backgroundColor:"rgba(255,0,0,0.6)"}}),"Alto Risco"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"h-3 w-3 rounded-full mr-2 border border-orange-700",style:{backgroundColor:"rgba(255,165,0,0.6)"}}),"Médio Risco"]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"h-3 w-3 rounded-full mr-2 border border-yellow-600",style:{backgroundColor:"rgba(255,255,0,0.6)"}}),"Baixo Risco"]})]})]})]}),o.jsxs("div",{className:"flex-shrink-0 text-xs text-gray-400 pt-4 border-t border-gray-700 mt-4",children:[o.jsx("p",{children:"© 2025 Defesa Civil de Goiás"}),o.jsx("p",{children:"Universidade Federal de Goiás"})]})]}),o.jsx(b_,{isOpen:y,onClose:()=>b(!1)}),o.jsx(up,{isOpen:w,onClose:()=>N(!1),areaToEdit:g()}),o.jsx(w_,{isOpen:T,onClose:()=>k(!1)}),o.jsx(E_,{isOpen:P,onClose:()=>H(!1)}),o.jsx(L_,{isOpen:O,onClose:()=>R(!1)})]})},N_=({isOpen:h,onClose:v,areaToRemove:d})=>{const{requestAreaRemoval:m,loading:r}=zt(),[u,g]=le.useState(""),[y,b]=le.useState(""),[w,N]=le.useState({}),T=[{value:"RISK_RESOLVED",label:"Risco Resolvido",description:"Área foi estabilizada ou teve o risco mitigado"},{value:"INCORRECT_CLASSIFICATION",label:"Classificação Incorreta",description:"Área foi incorretamente classificada como risco"},{value:"AREA_REMOVED",label:"Área Removida",description:"Área física foi removida ou modificada significativamente"},{value:"DUPLICATE_ENTRY",label:"Entrada Duplicada",description:"Área já está cadastrada em outro registro"},{value:"OTHER",label:"Outro Motivo",description:"Especificar outro motivo na justificativa"}],k=()=>{const O={};return u||(O.reason="Selecione um motivo para a remoção"),y.trim()?y.trim().length<20&&(O.justification="Justificativa deve ter pelo menos 20 caracteres"):O.justification="Justificativa é obrigatória",N(O),Object.keys(O).length===0},P=async O=>{if(O.preventDefault(),!!k())try{const R=m(d==null?void 0:d.id,u,y.trim());R&&(g(""),b(""),N({}),v(),alert(`✅ Solicitação de remoção enviada com sucesso!

ID: ${R.id}
Status: Aguardando aprovação

⚠️ A solicitação será analisada pela Defesa Civil antes da remoção.`))}catch(R){console.error("Erro ao solicitar remoção:",R),alert("Erro ao enviar solicitação. Tente novamente.")}},H=()=>{g(""),b(""),N({}),v()};return!h||!d?null:hi.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-red-600 text-white p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:"Solicitar Remoção de Área"}),o.jsxs("p",{className:"text-red-100 text-sm mt-1",children:[d.nome," (",d.id,")"]})]}),o.jsx("button",{onClick:H,className:"text-white hover:text-red-200 text-2xl font-bold",children:"×"})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"text-yellow-500 text-xl",children:"⚠️"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-yellow-800",children:"Aviso Importante"}),o.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Esta solicitação será analisada pela Defesa Civil. A remoção só será efetivada após aprovação das autoridades competentes."})]})]})}),o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Motivo da Remoção *"}),o.jsx("div",{className:"space-y-3",children:T.map(O=>o.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer group",children:[o.jsx("input",{type:"radio",name:"reason",value:O.value,checked:u===O.value,onChange:R=>{g(R.target.value),w.reason&&N(J=>({...J,reason:""}))},className:"mt-1 h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-800 group-hover:text-red-600",children:O.label}),o.jsx("div",{className:"text-sm text-gray-600",children:O.description})]})]},O.value))}),w.reason&&o.jsx("p",{className:"text-red-600 text-sm mt-2",children:w.reason})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"justification",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Justificativa Detalhada *"}),o.jsx("textarea",{id:"justification",rows:"6",value:y,onChange:O=>{b(O.target.value),w.justification&&N(R=>({...R,justification:""}))},className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none ${w.justification?"border-red-500":"border-gray-300"}`,placeholder:"Descreva detalhadamente o motivo da solicitação de remoção. Inclua informações sobre vistorias técnicas, obras realizadas, ou qualquer outro dado relevante..."}),o.jsxs("div",{className:"flex justify-between mt-1",children:[w.justification&&o.jsx("p",{className:"text-red-600 text-sm",children:w.justification}),o.jsxs("p",{className:"text-gray-500 text-sm ml-auto",children:[y.length,"/500 caracteres"]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Informações da Área"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Nome:"})," ",d.nome]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Município:"})," ",d.municipio]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Bairro:"})," ",d.bairro]})]}),o.jsxs("div",{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Tipo de Risco:"})," ",d.tipoRisco]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Nível de Ameaça:"}),o.jsx("span",{className:`ml-1 px-2 py-1 rounded text-xs ${d.nivelAmeaca==="Alto"?"bg-red-100 text-red-800":d.nivelAmeaca==="Médio"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:d.nivelAmeaca})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Data de Cadastro:"})," ",d.dataCadastro]})]})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between items-center",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"* Campos obrigatórios"}),o.jsxs("div",{className:"space-x-3",children:[o.jsx("button",{type:"button",onClick:H,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:P,disabled:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Enviando...":"Solicitar Remoção"})]})]})]})}),document.body)},T_=()=>{const{isInfoPanelOpen:h,getSelectedArea:v,toggleInfoPanel:d,isAuthenticated:m,submitVote:r}=zt(),u=v(),[g,y]=le.useState(!1),[b,w]=le.useState(!1),[N,T]=le.useState(!1),[k,P]=le.useState(null),[H,O]=le.useState(""),R=(F,me)=>me==null||Array.isArray(me)&&me.length===0||String(me).trim()===""?o.jsxs("p",{children:[o.jsxs("strong",{className:"text-gray-900",children:[F,":"]}),o.jsx("em",{className:"text-gray-500",children:" Não informado"})]}):o.jsxs("p",{children:[o.jsxs("strong",{className:"text-gray-900",children:[F,":"]})," ",me]}),J=()=>{d(!1)},ce=()=>{console.log("🖊️ Botão editar clicado. Autenticado:",m),m?(console.log("✅ Abrindo modal de edição do InfoPanel"),y(!0)):(console.log("❌ Usuário não autenticado"),alert("Faça login para editar áreas de risco."))},G=()=>{console.log("🗑️ Botão remoção clicado. Autenticado:",m),m?(console.log("✅ Abrindo modal de solicitação de remoção"),w(!0)):(console.log("❌ Usuário não autenticado"),alert("Faça login para solicitar remoção de áreas de risco."))},ne=()=>{if(!m){alert("Faça login para votar nas áreas de risco.");return}ae("POSITIVE")},W=()=>{if(!m){alert("Faça login para votar nas áreas de risco.");return}ae("NEGATIVE")},ae=F=>{console.log("🗳️ Iniciando votação:",F,"para área:",u==null?void 0:u.id),P({areaId:u.id,voteType:F,requestData:{type:"AREA_CLASSIFICATION",areaName:u.nome,areaId:u.id,riskLevel:u.nivelAmeaca}}),T(!0)},oe=()=>{k&&H.trim()?(console.log("✅ Confirmando voto:",k),r(k.areaId,"AREA_CLASSIFICATION",k.voteType,H.trim()),P(null),O(""),T(!1),alert(`Voto ${k.voteType==="POSITIVE"?"positivo":"negativo"} registrado com sucesso!
Ele será validado pela equipe técnica.`)):alert("Por favor, forneça uma justificativa técnica para seu voto.")},ye=()=>{P(null),O(""),T(!1)};return!u||!h?null:o.jsxs("aside",{className:`bg-white w-96 flex-shrink-0 p-6 shadow-xl fixed right-0 transform ${h?"translate-x-0":"translate-x-full"} transition-transform duration-300 ease-in-out z-30 overflow-y-auto border-l-2 border-gray-200`,style:{top:"80px",height:"calc(100vh - 80px)"},children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Detalhes: ",u.nome," (",u.id,")"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[m&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:ce,className:"text-blue-600 hover:text-blue-800 transition-colors p-1",title:"Editar área",children:o.jsx("i",{className:"fas fa-edit text-lg"})}),o.jsx("button",{onClick:G,className:"text-red-600 hover:text-red-800 transition-colors p-1",title:"Solicitar remoção",children:o.jsx("i",{className:"fas fa-trash-alt text-lg"})}),o.jsx("div",{className:"border-l border-gray-300 h-6 mx-2"}),o.jsx("button",{onClick:ne,className:"text-green-600 hover:text-green-800 transition-colors p-1",title:"Votar Positivamente - Concordo com a classificação desta área",children:o.jsx("i",{className:"fas fa-thumbs-up text-lg"})}),o.jsx("button",{onClick:W,className:"text-red-600 hover:text-red-800 transition-colors p-1",title:"Votar Negativamente - Discordo da classificação desta área",children:o.jsx("i",{className:"fas fa-thumbs-down text-lg"})})]}),o.jsx("button",{onClick:J,className:"text-gray-600 hover:text-gray-900",children:o.jsx("i",{className:"fas fa-times text-2xl"})})]})]}),h&&o.jsxs("div",{className:"space-y-3 text-sm text-gray-700 max-h-[calc(100%-60px)] overflow-y-auto pr-2",children:[o.jsxs("div",{className:`p-3 rounded-lg border ${u.corNivelTailwind||"border-gray-300"} mb-4`,children:[o.jsx("p",{className:"font-semibold text-lg",children:u.tipoRisco||o.jsx("em",{className:"text-gray-500",children:"Não informado"})}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-gray-900",children:"Nível de Ameaça:"}),u.nivelAmeaca||o.jsx("em",{className:"text-gray-500",children:"Não informado"})]})]}),o.jsxs("div",{className:"space-y-2",children:[R("Município",u.municipio),R("Bairro/Localidade",u.bairro),R("Responsável DC",u.responsavelDC),R("Data Cadastro",u.dataCadastro),R("Última Atualização",u.ultimaAtualizacao),R("Coordenada Latitude",u.latitude),R("Coordenada Longitude",u.longitude),R("Área (m²)",u.area),R("Altimetria",u.altimetria),R("Tipo de Solo",u.tipoSolo),R("Uso do Solo",u.usoSolo),R("Situação Legal",u.situacaoLegal),o.jsx("hr",{className:"my-3"}),o.jsx("h3",{className:"font-semibold text-md text-gray-900 mt-3",children:"Descrição Detalhada"}),o.jsx("p",{className:"text-justify",children:u.descricao||o.jsx("em",{className:"text-gray-500",children:"Não informado"})}),o.jsx("h3",{className:"font-semibold text-md text-gray-900 mt-3",children:"Fatores Condicionantes"}),R("Naturais",u.fatoresNaturais),R("Antrópicos",u.fatoresAntropicos),o.jsx("h3",{className:"font-semibold text-md text-gray-900 mt-3",children:"Evidências de Instabilidade"}),o.jsx("p",{children:u.evidencias||o.jsx("em",{className:"text-gray-500",children:"Não informado"})}),o.jsx("hr",{className:"my-3"}),o.jsx("h3",{className:"font-semibold text-md text-gray-900 mt-3",children:"Impactos e Vulnerabilidades"}),R("População Exposta",u.populacaoExposta),R("Edificações Expostas",u.edificacoesExpostas),R("Infraestrutura Crítica",u.infraestruturaExposta),o.jsx("hr",{className:"my-3"}),o.jsx("h3",{className:"font-semibold text-md text-gray-900 mt-3",children:"Histórico de Incidentes"}),u.historicoIncidentes&&u.historicoIncidentes.length>0?o.jsx("ul",{className:"list-disc list-inside pl-2 space-y-1",children:u.historicoIncidentes.map((F,me)=>o.jsxs("li",{children:[o.jsxs("strong",{children:[F.data,":"]})," ",F.descricao]},me))}):o.jsx("p",{children:o.jsx("em",{className:"text-gray-500",children:"Nenhum incidente registrado."})}),o.jsx("hr",{className:"my-3"}),o.jsx("h3",{className:"font-semibold text-md text-gray-900 mt-3",children:"Monitoramento e Ações"}),R("Ações Mitigadoras Existentes",u.acoesMitigadoras),R("Medidas Preventivas Recomendadas",u.medidasRecomendadas),R("Status do Monitoramento",u.statusMonitoramento),o.jsx("hr",{className:"my-3"}),o.jsx("h3",{className:"font-semibold text-md text-gray-900 mt-3",children:"Anexos"}),u.anexos&&u.anexos.length>0?o.jsx("ul",{className:"list-disc list-inside pl-2 space-y-1",children:u.anexos.map((F,me)=>o.jsx("li",{children:o.jsxs("a",{href:F.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:[F.nome," ",o.jsx("i",{className:"fas fa-external-link-alt text-xs"})]})},me))}):o.jsx("p",{children:o.jsx("em",{className:"text-gray-500",children:"Nenhum anexo disponível."})})]})]}),o.jsx(up,{isOpen:g,onClose:()=>y(!1),areaToEdit:u}),o.jsx(N_,{isOpen:b,onClose:()=>w(!1),areaToRemove:u}),o.jsx(dp,{isOpen:N,onClose:ye,onConfirm:oe,requestData:k==null?void 0:k.requestData})]})},A_=({isOpen:h,onClose:v})=>{const{userTokens:d,getWithdrawableAmount:m,canWithdraw:r,processWithdrawal:u,getWithdrawHistory:g,COIN_VALUE:y,MIN_WITHDRAWAL:b}=zt(),[w,N]=le.useState("withdraw"),[T,k]=le.useState({coins:"",paymentMethod:"PIX",pixKey:"",bankAccount:{bank:"",agency:"",account:"",accountType:"corrente"}}),[P,H]=le.useState(!1),O=m(),R=g(),J=(ae,oe)=>{k(ye=>({...ye,[ae]:oe}))},ce=(ae,oe)=>{k(ye=>({...ye,bankAccount:{...ye.bankAccount,[ae]:oe}}))},G=async ae=>{ae.preventDefault(),H(!0);try{const oe=parseInt(T.coins);if(oe<b){alert(`Saque mínimo de ${b} SIGAR Coins`);return}if(oe>d){alert("Saldo insuficiente");return}const ye=T.paymentMethod==="PIX"?{pixKey:T.pixKey}:T.bankAccount;u({coins:oe,paymentMethod:T.paymentMethod,accountInfo:ye}),alert(`Saque de ${oe} SIGAR Coins (R$ ${(oe*y).toFixed(2)}) solicitado com sucesso!
Processamento em até 2 dias úteis.`),k({coins:"",paymentMethod:"PIX",pixKey:"",bankAccount:{bank:"",agency:"",account:"",accountType:"corrente"}}),N("history")}catch(oe){alert(oe.message)}finally{H(!1)}},ne=ae=>{switch(ae){case"PROCESSING":return"⏳";case"COMPLETED":return"✅";case"FAILED":return"❌";default:return"❓"}},W=ae=>{switch(ae){case"PROCESSING":return"Processando";case"COMPLETED":return"Concluído";case"FAILED":return"Falhou";default:return"Desconhecido"}};return h?hi.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:"💰 Saque de SIGAR Coins"}),o.jsx("p",{className:"text-green-100 text-sm mt-1",children:"Transforme suas coins em dinheiro real"})]}),o.jsx("button",{onClick:v,className:"text-white hover:text-green-200 text-2xl font-bold",children:"×"})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-3 text-center",children:[o.jsx("div",{className:"text-xl font-bold",children:d}),o.jsx("div",{className:"text-xs text-green-100",children:"SIGAR Coins"})]}),o.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-3 text-center",children:[o.jsxs("div",{className:"text-xl font-bold",children:["R$ ",O.toFixed(2)]}),o.jsx("div",{className:"text-xs text-green-100",children:"Valor Disponível"})]}),o.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-3 text-center",children:[o.jsxs("div",{className:"text-xl font-bold",children:["R$ ",y.toFixed(2)]}),o.jsx("div",{className:"text-xs text-green-100",children:"Por Coin"})]})]})]}),o.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>N("withdraw"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${w==="withdraw"?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:"💸 Sacar Coins"}),o.jsxs("button",{onClick:()=>N("history"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${w==="history"?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:["📋 Histórico (",R.length,")"]})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[w==="withdraw"&&o.jsxs("div",{className:"space-y-6",children:[!r()&&o.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:[o.jsx("strong",{children:"⚠️ Saque Indisponível:"})," Você precisa de pelo menos ",b," SIGAR Coins para sacar."]}),o.jsxs("form",{onSubmit:G,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade de SIGAR Coins para Saque"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",min:b,max:d,value:T.coins,onChange:ae=>J("coins",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:`Mínimo ${b} coins`,disabled:!r(),required:!0}),T.coins&&o.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Valor a receber: ",o.jsxs("strong",{className:"text-green-600",children:["R$ ",(T.coins*y).toFixed(2)]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de Pagamento"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>J("paymentMethod","PIX"),className:`p-3 border rounded-lg text-left transition-colors ${T.paymentMethod==="PIX"?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx("div",{className:"font-medium",children:"PIX"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Instantâneo"})]}),o.jsxs("button",{type:"button",onClick:()=>J("paymentMethod","BANK_TRANSFER"),className:`p-3 border rounded-lg text-left transition-colors ${T.paymentMethod==="BANK_TRANSFER"?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx("div",{className:"font-medium",children:"Transferência"}),o.jsx("div",{className:"text-xs text-gray-500",children:"1-2 dias úteis"})]})]})]}),T.paymentMethod==="PIX"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chave PIX"}),o.jsx("input",{type:"text",value:T.pixKey,onChange:ae=>J("pixKey",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"CPF, e-mail, celular ou chave aleatória",required:!0})]}),T.paymentMethod==="BANK_TRANSFER"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco"}),o.jsxs("select",{value:T.bankAccount.bank,onChange:ae=>ce("bank",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Selecione"}),o.jsx("option",{value:"001",children:"Banco do Brasil"}),o.jsx("option",{value:"104",children:"Caixa Econômica"}),o.jsx("option",{value:"341",children:"Itaú"}),o.jsx("option",{value:"237",children:"Bradesco"}),o.jsx("option",{value:"033",children:"Santander"}),o.jsx("option",{value:"260",children:"Nu Pagamentos"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Conta"}),o.jsxs("select",{value:T.bankAccount.accountType,onChange:ae=>ce("accountType",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"corrente",children:"Corrente"}),o.jsx("option",{value:"poupanca",children:"Poupança"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agência"}),o.jsx("input",{type:"text",value:T.bankAccount.agency,onChange:ae=>ce("agency",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0000",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conta"}),o.jsx("input",{type:"text",value:T.bankAccount.account,onChange:ae=>ce("account",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"00000-0",required:!0})]})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsx("button",{type:"submit",disabled:!r()||P,className:`w-full py-3 px-4 rounded-md font-medium transition-colors ${r()&&!P?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:P?"⏳ Processando...":"💰 Solicitar Saque"})})]})]}),w==="history"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Histórico de Saques"})}),R.length===0?o.jsxs("div",{className:"text-center text-gray-500 py-12",children:[o.jsx("div",{className:"text-4xl mb-4",children:"💰"}),o.jsx("p",{children:"Nenhum saque realizado ainda"})]}):o.jsx("div",{className:"space-y-3",children:R.map(ae=>o.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:"text-lg",children:ne(ae.status)}),o.jsxs("span",{className:"font-semibold text-gray-800",children:[ae.coins," SIGAR Coins"]}),o.jsxs("span",{className:"text-sm text-gray-500",children:["→ R$ ",ae.amount.toFixed(2)]})]}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Método:"})," ",ae.paymentMethod==="PIX"?"PIX":"Transferência Bancária"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Solicitado:"})," ",new Date(ae.requestedAt).toLocaleString("pt-BR")]}),ae.processedAt&&o.jsxs("div",{children:[o.jsx("strong",{children:"Processado:"})," ",new Date(ae.processedAt).toLocaleString("pt-BR")]})]})]}),o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${ae.status==="COMPLETED"?"bg-green-100 text-green-800":ae.status==="PROCESSING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:W(ae.status)})]})},ae.id))})]})]})]})}),document.body):null},M_=({isOpen:h,onClose:v})=>{const{userTokens:d,userSubmissions:m,getUserStats:r,getRemovalRequestStats:u,getWithdrawableAmount:g,canWithdraw:y,COIN_VALUE:b}=zt(),[w,N]=le.useState(!1),T=r(),k=u(),P=g(),H=J=>{switch(J){case"APPROVED":return"✅";case"REJECTED":return"❌";case"PENDING":return"⏳";default:return"❓"}},O=J=>{switch(J){case"APPROVED":return"Aprovada";case"REJECTED":return"Rejeitada";case"PENDING":return"Em Análise";default:return"Desconhecido"}},R=J=>{switch(J){case"APPROVED":return"text-green-600 bg-green-100";case"REJECTED":return"text-red-600 bg-red-100";case"PENDING":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return h?hi.createPortal(o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"text-3xl",children:"🪙"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"SIGAR Coins"}),o.jsx("p",{className:"text-yellow-100",children:"Sistema de Recompensas por Contribuições"})]})]}),o.jsx("button",{onClick:v,className:"text-white hover:text-yellow-200 text-2xl font-bold",children:"×"})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:T.totalTokens}),o.jsx("div",{className:"text-sm text-yellow-700",children:"Total de SIGAR Coins"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:T.totalSubmissions}),o.jsx("div",{className:"text-sm text-blue-700",children:"Áreas Submetidas"})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:T.approvedSubmissions}),o.jsx("div",{className:"text-sm text-green-700",children:"Áreas Aprovadas"})]}),o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:T.pendingSubmissions}),o.jsx("div",{className:"text-sm text-orange-700",children:"Em Análise"})]})]}),o.jsxs("div",{className:"mb-6 bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"💸 Sacar SIGAR Coins"}),o.jsxs("div",{className:"text-sm text-green-700",children:["1 SIGAR Coin = R$ ",b.toFixed(2)]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:d}),o.jsx("div",{className:"text-sm text-green-700",children:"Coins Disponíveis"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",P.toFixed(2)]}),o.jsx("div",{className:"text-sm text-green-700",children:"Valor Convertido"})]})]}),o.jsx("div",{className:"flex gap-2",children:o.jsx("button",{onClick:()=>N(!0),disabled:!y(),className:`flex-1 py-2 px-4 rounded-md font-medium transition-colors ${y()?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:y()?"💰 Sacar Coins":"🚫 Saque Indisponível"})}),!y()&&o.jsx("div",{className:"mt-2 text-xs text-gray-600 text-center",children:"Mínimo de 20 SIGAR Coins para saque"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"💰 Sistema de Recompensas"}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"📍 Nova submissão de área:"}),o.jsx("span",{className:"font-semibold text-yellow-600",children:"+5 coins"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"✅ Área aprovada por técnico:"}),o.jsx("span",{className:"font-semibold text-green-600",children:"+20 coins"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"🚨 Área crítica aprovada:"}),o.jsx("span",{className:"font-semibold text-red-600",children:"+50 coins"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"🏆 Participação mensal ativa:"}),o.jsx("span",{className:"font-semibold text-blue-600",children:"+10 coins"})]})]})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"📋 Suas Submissões"}),m.length===0?o.jsxs("div",{className:"text-center text-gray-500 py-8",children:[o.jsx("div",{className:"text-4xl mb-2",children:"📍"}),o.jsx("p",{children:"Nenhuma submissão de área realizada ainda."}),o.jsx("p",{className:"text-sm mt-1",children:"Comece submetendo áreas de risco para ganhar SIGAR Coins!"})]}):o.jsx("div",{className:"space-y-3",children:m.map(J=>o.jsx("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-lg",children:H(J.status)}),o.jsx("h4",{className:"font-semibold text-gray-800",children:J.areaName}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R(J.status)}`,children:O(J.status)})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:J.description}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Submetido em: ",new Date(J.submittedAt).toLocaleString("pt-BR")]}),J.reviewNotes&&o.jsxs("div",{className:"text-xs text-gray-600 mt-1 bg-gray-50 p-2 rounded",children:[o.jsx("strong",{children:"Observações:"})," ",J.reviewNotes]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-yellow-600",children:["+",J.tokensEarned]}),o.jsx("div",{className:"text-xs text-gray-500",children:"SIGAR Coins"})]})]})},J.id))})]}),k.total>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"🗑️ Solicitações de Remoção"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:k.total}),o.jsx("div",{className:"text-sm text-purple-700",children:"Total Solicitado"})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.approved}),o.jsx("div",{className:"text-sm text-green-700",children:"Aprovadas"})]}),o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:k.pending}),o.jsx("div",{className:"text-sm text-orange-700",children:"Pendentes"})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["💡 ",o.jsx("strong",{children:"Dica:"})," Áreas de alto risco aprovadas rendem mais coins!"]}),o.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Fechar"})]})]})}),o.jsx(A_,{isOpen:w,onClose:()=>N(!1)})]}),document.body):null},hp=({show:h,tokens:v,message:d,onClose:m})=>{const[r,u]=le.useState(!1);return le.useEffect(()=>{if(h){u(!0);const g=setTimeout(()=>{u(!1),setTimeout(m,300)},3e3);return()=>clearTimeout(g)}},[h,m]),h?hi.createPortal(o.jsx("div",{className:`fixed top-4 right-4 z-50 transform transition-all duration-300 ${r?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:o.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white p-4 rounded-lg shadow-lg max-w-sm",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"text-2xl",children:"🪙"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"font-bold text-lg",children:["+",v," SIGAR Coins"]}),o.jsx("div",{className:"text-sm text-yellow-100",children:d})]}),o.jsx("button",{onClick:()=>u(!1),className:"text-white hover:text-yellow-200 text-xl font-bold",children:"×"})]})})}),document.body):null},j_=({children:h})=>{const[v,d]=le.useState(!1),[m,r]=le.useState(!1),{isTokenModalOpen:u,toggleTokenModal:g,tokenNotification:y,hideTokenNotification:b}=zt(),w=()=>{d(!v)},N=T=>{r(T)};return o.jsxs("div",{className:"bg-gray-100 h-screen overflow-hidden",children:[o.jsx(y_,{onToggleMenu:w}),m&&o.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("i",{className:"fas fa-pencil-alt"}),o.jsx("span",{className:"font-medium",children:"Modo Desenho Ativo"}),o.jsx("span",{className:"text-green-200",children:"•"}),o.jsx("span",{className:"text-sm",children:"Use as ferramentas no mapa para desenhar"}),o.jsx("button",{onClick:()=>r(!1),className:"ml-4 text-green-200 hover:text-white",children:o.jsx("i",{className:"fas fa-times"})})]})}),o.jsxs("div",{className:"flex h-full",style:{paddingTop:"80px"},children:[o.jsx(S_,{isOpen:v,onDrawModeChange:N,isDrawMode:m}),o.jsx("main",{className:"flex-grow relative overflow-hidden",children:Qs.cloneElement(h,{isDrawMode:m,onDrawModeChange:N})}),o.jsx(T_,{})]}),o.jsx(M_,{isOpen:u,onClose:()=>g(!1)}),o.jsx(hp,{show:y.show,tokens:y.tokens,message:y.message,onClose:b})]})};function fp(h,v){const d=le.useRef(v);le.useEffect(function(){v!==d.current&&h.attributionControl!=null&&(d.current!=null&&h.attributionControl.removeAttribution(d.current),v!=null&&h.attributionControl.addAttribution(v)),d.current=v},[h,v])}const C_=1;function R_(h){return Object.freeze({__version:C_,map:h})}function D_(h,v){return Object.freeze({...h,...v})}const vd=le.createContext(null);function _d(){const h=le.use(vd);if(h==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return h}function O_(h){function v(d,m){const{instance:r,context:u}=h(d).current;le.useImperativeHandle(m,()=>r);const{children:g}=d;return g==null?null:Qs.createElement(vd,{value:u},g)}return le.forwardRef(v)}function k_(h){function v(d,m){const[r,u]=le.useState(!1),{instance:g}=h(d,u).current;le.useImperativeHandle(m,()=>g),le.useEffect(function(){r&&g.update()},[g,r,d.children]);const y=g._contentNode;return y?hi.createPortal(d.children,y):null}return le.forwardRef(v)}function z_(h){function v(d,m){const{instance:r}=h(d).current;return le.useImperativeHandle(m,()=>r),null}return le.forwardRef(v)}function xd(h,v){const d=le.useRef(void 0);le.useEffect(function(){return v!=null&&h.instance.on(v),d.current=v,function(){d.current!=null&&h.instance.off(d.current),d.current=null}},[h,v])}function tc(h,v){const d=h.pane??v.pane;return d?{...h,pane:d}:h}function P_(h,v){return function(m,r){const u=_d(),g=h(tc(m,u),u);return fp(u.map,m.attribution),xd(g.current,m.eventHandlers),v(g.current,u,m,r),g}}var rr={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var B_=rr.exports,zm;function U_(){return zm||(zm=1,function(h,v){(function(d,m){m(v)})(B_,function(d){var m="1.9.4";function r(i){var a,l,p,_;for(l=1,p=arguments.length;l<p;l++){_=arguments[l];for(a in _)i[a]=_[a]}return i}var u=Object.create||function(){function i(){}return function(a){return i.prototype=a,new i}}();function g(i,a){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var p=l.call(arguments,2);return function(){return i.apply(a,p.length?p.concat(l.call(arguments)):arguments)}}var y=0;function b(i){return"_leaflet_id"in i||(i._leaflet_id=++y),i._leaflet_id}function w(i,a,l){var p,_,E,M;return M=function(){p=!1,_&&(E.apply(l,_),_=!1)},E=function(){p?_=arguments:(i.apply(l,arguments),setTimeout(M,a),p=!0)},E}function N(i,a,l){var p=a[1],_=a[0],E=p-_;return i===p&&l?i:((i-_)%E+E)%E+_}function T(){return!1}function k(i,a){if(a===!1)return i;var l=Math.pow(10,a===void 0?6:a);return Math.round(i*l)/l}function P(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function H(i){return P(i).split(/\s+/)}function O(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?u(i.options):{});for(var l in a)i.options[l]=a[l];return i.options}function R(i,a,l){var p=[];for(var _ in i)p.push(encodeURIComponent(l?_.toUpperCase():_)+"="+encodeURIComponent(i[_]));return(!a||a.indexOf("?")===-1?"?":"&")+p.join("&")}var J=/\{ *([\w_ -]+) *\}/g;function ce(i,a){return i.replace(J,function(l,p){var _=a[p];if(_===void 0)throw new Error("No value provided for variable "+l);return typeof _=="function"&&(_=_(a)),_})}var G=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function ne(i,a){for(var l=0;l<i.length;l++)if(i[l]===a)return l;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ae(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var oe=0;function ye(i){var a=+new Date,l=Math.max(0,16-(a-oe));return oe=a+l,window.setTimeout(i,l)}var F=window.requestAnimationFrame||ae("RequestAnimationFrame")||ye,me=window.cancelAnimationFrame||ae("CancelAnimationFrame")||ae("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function _e(i,a,l){if(l&&F===ye)i.call(a);else return F.call(window,g(i,a))}function Se(i){i&&me.call(window,i)}var gt={__proto__:null,extend:r,create:u,bind:g,get lastId(){return y},stamp:b,throttle:w,wrapNum:N,falseFn:T,formatNum:k,trim:P,splitWords:H,setOptions:O,getParamString:R,template:ce,isArray:G,indexOf:ne,emptyImageUrl:W,requestFn:F,cancelFn:me,requestAnimFrame:_e,cancelAnimFrame:Se};function Fe(){}Fe.extend=function(i){var a=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=a.__super__=this.prototype,p=u(l);p.constructor=a,a.prototype=p;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(a[_]=this[_]);return i.statics&&r(a,i.statics),i.includes&&(qe(i.includes),r.apply(null,[p].concat(i.includes))),r(p,i),delete p.statics,delete p.includes,p.options&&(p.options=l.options?u(l.options):{},r(p.options,i.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,M=p._initHooks.length;E<M;E++)p._initHooks[E].call(this)}},a},Fe.include=function(i){var a=this.prototype.options;return r(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},Fe.mergeOptions=function(i){return r(this.prototype.options,i),this},Fe.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function qe(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=G(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(i,a,l){if(typeof i=="object")for(var p in i)this._on(p,i[p],a);else{i=H(i);for(var _=0,E=i.length;_<E;_++)this._on(i[_],a,l)}return this},off:function(i,a,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var p in i)this._off(p,i[p],a);else{i=H(i);for(var _=arguments.length===1,E=0,M=i.length;E<M;E++)_?this._off(i[E]):this._off(i[E],a,l)}return this},_on:function(i,a,l,p){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,l)===!1){l===this&&(l=void 0);var _={fn:a,ctx:l};p&&(_.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(_)}},_off:function(i,a,l){var p,_,E;if(this._events&&(p=this._events[i],!!p)){if(arguments.length===1){if(this._firingCount)for(_=0,E=p.length;_<E;_++)p[_].fn=T;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var M=this._listens(i,a,l);if(M!==!1){var B=p[M];this._firingCount&&(B.fn=T,this._events[i]=p=p.slice()),p.splice(M,1)}}},fire:function(i,a,l){if(!this.listens(i,l))return this;var p=r({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var _=this._events[i];if(_){this._firingCount=this._firingCount+1||1;for(var E=0,M=_.length;E<M;E++){var B=_[E],V=B.fn;B.once&&this.off(i,V,B.ctx),V.call(B.ctx||this,p)}this._firingCount--}}return l&&this._propagateEvent(p),this},listens:function(i,a,l,p){typeof i!="string"&&console.warn('"string" type argument expected');var _=a;typeof a!="function"&&(p=!!a,_=void 0,l=void 0);var E=this._events&&this._events[i];if(E&&E.length&&this._listens(i,_,l)!==!1)return!0;if(p){for(var M in this._eventParents)if(this._eventParents[M].listens(i,a,l,p))return!0}return!1},_listens:function(i,a,l){if(!this._events)return!1;var p=this._events[i]||[];if(!a)return!!p.length;l===this&&(l=void 0);for(var _=0,E=p.length;_<E;_++)if(p[_].fn===a&&p[_].ctx===l)return _;return!1},once:function(i,a,l){if(typeof i=="object")for(var p in i)this._on(p,i[p],a,!0);else{i=H(i);for(var _=0,E=i.length;_<E;_++)this._on(i[_],a,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[b(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[b(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,r({layer:i.target,propagatedFrom:i.target},i),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var ue=Fe.extend(Y);function se(i,a,l){this.x=l?Math.round(i):i,this.y=l?Math.round(a):a}var Ue=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};se.prototype={clone:function(){return new se(this.x,this.y)},add:function(i){return this.clone()._add(A(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(A(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new se(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new se(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ue(this.x),this.y=Ue(this.y),this},distanceTo:function(i){i=A(i);var a=i.x-this.x,l=i.y-this.y;return Math.sqrt(a*a+l*l)},equals:function(i){return i=A(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=A(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function A(i,a,l){return i instanceof se?i:G(i)?new se(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new se(i.x,i.y):new se(i,a,l)}function K(i,a){if(i)for(var l=a?[i,a]:i,p=0,_=l.length;p<_;p++)this.extend(l[p])}K.prototype={extend:function(i){var a,l;if(!i)return this;if(i instanceof se||typeof i[0]=="number"||"x"in i)a=l=A(i);else if(i=C(i),a=i.min,l=i.max,!a||!l)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=l.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,l;return typeof i[0]=="number"||i instanceof se?i=A(i):i=C(i),i instanceof K?(a=i.min,l=i.max):a=l=i,a.x>=this.min.x&&l.x<=this.max.x&&a.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=C(i);var a=this.min,l=this.max,p=i.min,_=i.max,E=_.x>=a.x&&p.x<=l.x,M=_.y>=a.y&&p.y<=l.y;return E&&M},overlaps:function(i){i=C(i);var a=this.min,l=this.max,p=i.min,_=i.max,E=_.x>a.x&&p.x<l.x,M=_.y>a.y&&p.y<l.y;return E&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,l=this.max,p=Math.abs(a.x-l.x)*i,_=Math.abs(a.y-l.y)*i;return C(A(a.x-p,a.y-_),A(l.x+p,l.y+_))},equals:function(i){return i?(i=C(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function C(i,a){return!i||i instanceof K?i:new K(i,a)}function ee(i,a){if(i)for(var l=a?[i,a]:i,p=0,_=l.length;p<_;p++)this.extend(l[p])}ee.prototype={extend:function(i){var a=this._southWest,l=this._northEast,p,_;if(i instanceof ge)p=i,_=i;else if(i instanceof ee){if(p=i._southWest,_=i._northEast,!p||!_)return this}else return i?this.extend(de(i)||re(i)):this;return!a&&!l?(this._southWest=new ge(p.lat,p.lng),this._northEast=new ge(_.lat,_.lng)):(a.lat=Math.min(p.lat,a.lat),a.lng=Math.min(p.lng,a.lng),l.lat=Math.max(_.lat,l.lat),l.lng=Math.max(_.lng,l.lng)),this},pad:function(i){var a=this._southWest,l=this._northEast,p=Math.abs(a.lat-l.lat)*i,_=Math.abs(a.lng-l.lng)*i;return new ee(new ge(a.lat-p,a.lng-_),new ge(l.lat+p,l.lng+_))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ge||"lat"in i?i=de(i):i=re(i);var a=this._southWest,l=this._northEast,p,_;return i instanceof ee?(p=i.getSouthWest(),_=i.getNorthEast()):p=_=i,p.lat>=a.lat&&_.lat<=l.lat&&p.lng>=a.lng&&_.lng<=l.lng},intersects:function(i){i=re(i);var a=this._southWest,l=this._northEast,p=i.getSouthWest(),_=i.getNorthEast(),E=_.lat>=a.lat&&p.lat<=l.lat,M=_.lng>=a.lng&&p.lng<=l.lng;return E&&M},overlaps:function(i){i=re(i);var a=this._southWest,l=this._northEast,p=i.getSouthWest(),_=i.getNorthEast(),E=_.lat>a.lat&&p.lat<l.lat,M=_.lng>a.lng&&p.lng<l.lng;return E&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=re(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(i,a){return i instanceof ee?i:new ee(i,a)}function ge(i,a,l){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,l!==void 0&&(this.alt=+l)}ge.prototype={equals:function(i,a){if(!i)return!1;i=de(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+k(this.lat,i)+", "+k(this.lng,i)+")"},distanceTo:function(i){return Be.distance(this,de(i))},wrap:function(){return Be.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,l=a/Math.cos(Math.PI/180*this.lat);return re([this.lat-a,this.lng-l],[this.lat+a,this.lng+l])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function de(i,a,l){return i instanceof ge?i:G(i)&&typeof i[0]!="object"?i.length===3?new ge(i[0],i[1],i[2]):i.length===2?new ge(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ge(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new ge(i,a,l)}var it={latLngToPoint:function(i,a){var l=this.projection.project(i),p=this.scale(a);return this.transformation._transform(l,p)},pointToLatLng:function(i,a){var l=this.scale(a),p=this.transformation.untransform(i,l);return this.projection.unproject(p)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,l=this.scale(i),p=this.transformation.transform(a.min,l),_=this.transformation.transform(a.max,l);return new K(p,_)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?N(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?N(i.lat,this.wrapLat,!0):i.lat,p=i.alt;return new ge(l,a,p)},wrapLatLngBounds:function(i){var a=i.getCenter(),l=this.wrapLatLng(a),p=a.lat-l.lat,_=a.lng-l.lng;if(p===0&&_===0)return i;var E=i.getSouthWest(),M=i.getNorthEast(),B=new ge(E.lat-p,E.lng-_),V=new ge(M.lat-p,M.lng-_);return new ee(B,V)}},Be=r({},it,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var l=Math.PI/180,p=i.lat*l,_=a.lat*l,E=Math.sin((a.lat-i.lat)*l/2),M=Math.sin((a.lng-i.lng)*l/2),B=E*E+Math.cos(p)*Math.cos(_)*M*M,V=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*V}}),Li=6378137,Ea={R:Li,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,l=this.MAX_LATITUDE,p=Math.max(Math.min(l,i.lat),-l),_=Math.sin(p*a);return new se(this.R*i.lng*a,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(i){var a=180/Math.PI;return new ge((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:function(){var i=Li*Math.PI;return new K([-i,-i],[i,i])}()};function Mn(i,a,l,p){if(G(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=l,this._d=p}Mn.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new se((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function Wi(i,a,l,p){return new Mn(i,a,l,p)}var La=r({},Be,{code:"EPSG:3857",projection:Ea,transformation:function(){var i=.5/(Math.PI*Ea.R);return Wi(i,.5,-i,.5)}()}),$s=r({},La,{code:"EPSG:900913"});function hr(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function fr(i,a){var l="",p,_,E,M,B,V;for(p=0,E=i.length;p<E;p++){for(B=i[p],_=0,M=B.length;_<M;_++)V=B[_],l+=(_?"L":"M")+V.x+" "+V.y;l+=a?xe.svg?"z":"x":""}return l||"M0 0"}var qt=document.documentElement.style,os="ActiveXObject"in window,mr=os&&!document.addEventListener,eo="msLaunchUri"in navigator&&!("documentMode"in document),jn=Vt("webkit"),pr=Vt("android"),to=Vt("android 2")||Vt("android 3"),ic=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),nc=pr&&Vt("Google")&&ic<537&&!("AudioNode"in window),$i=!!window.opera,Mt=!eo&&Vt("chrome"),Si=Vt("gecko")&&!jn&&!$i&&!os,Pt=!Mt&&Vt("safari"),gr=Vt("phantom"),vr="OTransition"in qt,ac=navigator.platform.indexOf("Win")===0,Sa=os&&"transition"in qt,Cn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!to,zi="MozPerspective"in qt,rs=!window.L_DISABLE_3D&&(Sa||Cn||zi)&&!vr&&!gr,Ni=typeof orientation<"u"||Vt("mobile"),sc=Ni&&jn,_r=Ni&&Cn,io=!window.PointerEvent&&window.MSPointerEvent,ls=!!(window.PointerEvent||io),Rn="ontouchstart"in window||!!window.TouchEvent,oc=!window.L_NO_TOUCH&&(Rn||ls),xr=Ni&&$i,yr=Ni&&Si,no=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ao=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",T,a),window.removeEventListener("testPassiveEventSupport",T,a)}catch{}return i}(),br=function(){return!!document.createElement("canvas").getContext}(),so=!!(document.createElementNS&&hr("svg").createSVGRect),Pi=!!so&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),vt=!so&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),jt=navigator.platform.indexOf("Mac")===0,Dn=navigator.platform.indexOf("Linux")===0;function Vt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var xe={ie:os,ielt9:mr,edge:eo,webkit:jn,android:pr,android23:to,androidStock:nc,opera:$i,chrome:Mt,gecko:Si,safari:Pt,phantom:gr,opera12:vr,win:ac,ie3d:Sa,webkit3d:Cn,gecko3d:zi,any3d:rs,mobile:Ni,mobileWebkit:sc,mobileWebkit3d:_r,msPointer:io,pointer:ls,touch:oc,touchNative:Rn,mobileOpera:xr,mobileGecko:yr,retina:no,passiveEvents:ao,canvas:br,svg:so,vml:vt,inlineSvg:Pi,mac:jt,linux:Dn},wr=xe.msPointer?"MSPointerDown":"pointerdown",oo=xe.msPointer?"MSPointerMove":"pointermove",On=xe.msPointer?"MSPointerUp":"pointerup",cs=xe.msPointer?"MSPointerCancel":"pointercancel",Bi={touchstart:wr,touchmove:oo,touchend:On,touchcancel:cs},en={touchstart:Sr,touchmove:Na,touchend:Na,touchcancel:Na},fi={},tn=!1;function dt(i,a,l){return a==="touchstart"&&rc(),en[a]?(l=en[a].bind(this,l),i.addEventListener(Bi[a],l,!1),l):(console.warn("wrong event specified:",a),T)}function Er(i,a,l){if(!Bi[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(Bi[a],l,!1)}function Lr(i){fi[i.pointerId]=i}function nn(i){fi[i.pointerId]&&(fi[i.pointerId]=i)}function an(i){delete fi[i.pointerId]}function rc(){tn||(document.addEventListener(wr,Lr,!0),document.addEventListener(oo,nn,!0),document.addEventListener(On,an,!0),document.addEventListener(cs,an,!0),tn=!0)}function Na(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var l in fi)a.touches.push(fi[l]);a.changedTouches=[a],i(a)}}function Sr(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&ot(a),Na(i,a)}function lc(i){var a={},l,p;for(p in i)l=i[p],a[p]=l&&l.bind?l.bind(i):l;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var us=200;function ds(i,a){i.addEventListener("dblclick",a);var l=0,p;function _(E){if(E.detail!==1){p=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var M=co(E);if(!(M.some(function(V){return V instanceof HTMLLabelElement&&V.attributes.for})&&!M.some(function(V){return V instanceof HTMLInputElement||V instanceof HTMLSelectElement}))){var B=Date.now();B-l<=us?(p++,p===2&&a(lc(E))):p=1,l=B}}}return i.addEventListener("click",_),{dblclick:a,simDblclick:_}}function Ti(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var Ta=Bn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kn=Bn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),sn=kn==="webkitTransition"||kn==="OTransition"?kn+"End":"transitionend";function hs(i){return typeof i=="string"?document.getElementById(i):i}function on(i,a){var l=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!l||l==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(i,null);l=p?p[a]:null}return l==="auto"?null:l}function ze(i,a,l){var p=document.createElement(i);return p.className=a||"",l&&l.appendChild(p),p}function Qe(i){var a=i.parentNode;a&&a.removeChild(i)}function Et(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function rn(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function zn(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Pn(i,a){if(i.classList!==void 0)return i.classList.contains(a);var l=Lt(i);return l.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(l)}function Ae(i,a){if(i.classList!==void 0)for(var l=H(a),p=0,_=l.length;p<_;p++)i.classList.add(l[p]);else if(!Pn(i,a)){var E=Lt(i);ro(i,(E?E+" ":"")+a)}}function Je(i,a){i.classList!==void 0?i.classList.remove(a):ro(i,P((" "+Lt(i)+" ").replace(" "+a+" "," ")))}function ro(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function Lt(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Ct(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&Nr(i,a)}function Nr(i,a){var l=!1,p="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(p)}catch{if(a===1)return}a=Math.round(a*100),l?(l.Enabled=a!==100,l.Opacity=a):i.style.filter+=" progid:"+p+"(opacity="+a+")"}function Bn(i){for(var a=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in a)return i[l];return!1}function Yt(i,a,l){var p=a||new se(0,0);i.style[Ta]=(xe.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(l?" scale("+l+")":"")}function nt(i,a){i._leaflet_pos=a,xe.any3d?Yt(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function Ui(i){return i._leaflet_pos||new se(0,0)}var mi,Aa,fs;if("onselectstart"in document)mi=function(){Te(window,"selectstart",ot)},Aa=function(){Ie(window,"selectstart",ot)};else{var Un=Bn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);mi=function(){if(Un){var i=document.documentElement.style;fs=i[Un],i[Un]="none"}},Aa=function(){Un&&(document.documentElement.style[Un]=fs,fs=void 0)}}function Ma(){Te(window,"dragstart",ot)}function lo(){Ie(window,"dragstart",ot)}var ms,In;function ja(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Hn(),ms=i,In=i.style.outlineStyle,i.style.outlineStyle="none",Te(window,"keydown",Hn))}function Hn(){ms&&(ms.style.outlineStyle=In,ms=void 0,In=void 0,Ie(window,"keydown",Hn))}function ln(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Ii(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var Tr={__proto__:null,TRANSFORM:Ta,TRANSITION:kn,TRANSITION_END:sn,get:hs,getStyle:on,create:ze,remove:Qe,empty:Et,toFront:rn,toBack:zn,hasClass:Pn,addClass:Ae,removeClass:Je,setClass:ro,getClass:Lt,setOpacity:Ct,testProp:Bn,setTransform:Yt,setPosition:nt,getPosition:Ui,get disableTextSelection(){return mi},get enableTextSelection(){return Aa},disableImageDrag:Ma,enableImageDrag:lo,preventOutline:ja,restoreOutline:Hn,getSizedParentNode:ln,getScale:Ii};function Te(i,a,l,p){if(a&&typeof a=="object")for(var _ in a)cn(i,_,a[_],l);else{a=H(a);for(var E=0,M=a.length;E<M;E++)cn(i,a[E],l,p)}return this}var ei="_leaflet_events";function Ie(i,a,l,p){if(arguments.length===1)pi(i),delete i[ei];else if(a&&typeof a=="object")for(var _ in a)gi(i,_,a[_],l);else if(a=H(a),arguments.length===2)pi(i,function(B){return ne(a,B)!==-1});else for(var E=0,M=a.length;E<M;E++)gi(i,a[E],l,p);return this}function pi(i,a){for(var l in i[ei]){var p=l.split(/\d/)[0];(!a||a(p))&&gi(i,p,null,null,l)}}var Ca={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function cn(i,a,l,p){var _=a+b(l)+(p?"_"+b(p):"");if(i[ei]&&i[ei][_])return this;var E=function(B){return l.call(p||i,B||window.event)},M=E;!xe.touchNative&&xe.pointer&&a.indexOf("touch")===0?E=dt(i,a,E):xe.touch&&a==="dblclick"?E=ds(i,E):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(Ca[a]||a,E,xe.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(E=function(B){B=B||window.event,dn(i,B)&&M(B)},i.addEventListener(Ca[a],E,!1)):i.addEventListener(a,M,!1):i.attachEvent("on"+a,E),i[ei]=i[ei]||{},i[ei][_]=E}function gi(i,a,l,p,_){_=_||a+b(l)+(p?"_"+b(p):"");var E=i[ei]&&i[ei][_];if(!E)return this;!xe.touchNative&&xe.pointer&&a.indexOf("touch")===0?Er(i,a,E):xe.touch&&a==="dblclick"?Ti(i,E):"removeEventListener"in i?i.removeEventListener(Ca[a]||a,E,!1):i.detachEvent("on"+a,E),i[ei][_]=null}function Ai(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Gn(i){return cn(i,"wheel",Ai),this}function Zn(i){return Te(i,"mousedown touchstart dblclick contextmenu",Ai),i._leaflet_disable_click=!0,this}function ot(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function vi(i){return ot(i),Ai(i),this}function co(i){if(i.composedPath)return i.composedPath();for(var a=[],l=i.target;l;)a.push(l),l=l.parentNode;return a}function St(i,a){if(!a)return new se(i.clientX,i.clientY);var l=Ii(a),p=l.boundingClientRect;return new se((i.clientX-p.left)/l.x-a.clientLeft,(i.clientY-p.top)/l.y-a.clientTop)}var un=xe.linux&&xe.chrome?window.devicePixelRatio:xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ra(i){return xe.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/un:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function dn(i,a){var l=a.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var cc={__proto__:null,on:Te,off:Ie,stopPropagation:Ai,disableScrollPropagation:Gn,disableClickPropagation:Zn,preventDefault:ot,stop:vi,getPropagationPath:co,getMousePosition:St,getWheelDelta:Ra,isExternalTarget:dn,addListener:Te,removeListener:Ie},ps=ue.extend({run:function(i,a,l,p){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Ui(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_e(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,l=this._duration*1e3;a<l?this._runFrame(this._easeOut(a/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var l=this._startPos.add(this._offset.multiplyBy(i));a&&l._round(),nt(this._el,l),this.fire("step")},_complete:function(){Se(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Re=ue.extend({options:{crs:La,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=O(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(de(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kn&&xe.any3d&&!xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,sn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,l){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(de(i),a,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=r({animate:l.animate},l.zoom),l.pan=r({animate:l.animate,duration:l.duration},l.pan));var p=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,l.zoom):this._tryAnimatedPan(i,l.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,l){var p=this.getZoomScale(a),_=this.getSize().divideBy(2),E=i instanceof se?i:this.latLngToContainerPoint(i),M=E.subtract(_).multiplyBy(1-1/p),B=this.containerPointToLatLng(_.add(M));return this.setView(B,a,{zoom:l})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():re(i);var l=A(a.paddingTopLeft||a.padding||[0,0]),p=A(a.paddingBottomRight||a.padding||[0,0]),_=this.getBoundsZoom(i,!1,l.add(p));if(_=typeof a.maxZoom=="number"?Math.min(a.maxZoom,_):_,_===1/0)return{center:i.getCenter(),zoom:_};var E=p.subtract(l).divideBy(2),M=this.project(i.getSouthWest(),_),B=this.project(i.getNorthEast(),_),V=this.unproject(M.add(B).divideBy(2).add(E),_);return{center:V,zoom:_}},fitBounds:function(i,a){if(i=re(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,a);return this.setView(l.center,l.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=A(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ps,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Ae(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,l){if(l=l||{},l.animate===!1||!xe.any3d)return this.setView(i,a,l);this._stop();var p=this.project(this.getCenter()),_=this.project(i),E=this.getSize(),M=this._zoom;i=de(i),a=a===void 0?M:a;var B=Math.max(E.x,E.y),V=B*this.getZoomScale(M,a),ie=_.distanceTo(p)||1,he=1.42,fe=he*he;function ve(et){var yi=et?-1:1,Ci=et?V:B,Vi=V*V-B*B+yi*fe*fe*ie*ie,Ri=2*Ci*fe*ie,Va=Vi/Ri,As=Math.sqrt(Va*Va+1)-Va,Ya=As<1e-9?-18:Math.log(As);return Ya}function Ne(et){return(Math.exp(et)-Math.exp(-et))/2}function We(et){return(Math.exp(et)+Math.exp(-et))/2}function at(et){return Ne(et)/We(et)}var xt=ve(0);function Xt(et){return B*(We(xt)/We(xt+he*et))}function Yr(et){return B*(We(xt)*at(xt+he*et)-Ne(xt))/fe}function Xr(et){return 1-Math.pow(1-et,1.5)}var qa=Date.now(),ta=(ve(1)-xt)/he,Fr=l.duration?1e3*l.duration:1e3*ta*.8;function ia(){var et=(Date.now()-qa)/Fr,yi=Xr(et)*ta;et<=1?(this._flyToFrame=_e(ia,this),this._move(this.unproject(p.add(_.subtract(p).multiplyBy(Yr(yi)/ie)),M),this.getScaleZoom(B/Xt(yi),M),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),ia.call(this),this},flyToBounds:function(i,a){var l=this._getBoundsCenterZoom(i,a);return this.flyTo(l.center,l.zoom,a)},setMaxBounds:function(i){return i=re(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var l=this.getCenter(),p=this._limitCenter(l,this._zoom,re(i));return l.equals(p)||this.panTo(p,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var l=A(a.paddingTopLeft||a.padding||[0,0]),p=A(a.paddingBottomRight||a.padding||[0,0]),_=this.project(this.getCenter()),E=this.project(i),M=this.getPixelBounds(),B=C([M.min.add(l),M.max.subtract(p)]),V=B.getSize();if(!B.contains(E)){this._enforcingBounds=!0;var ie=E.subtract(B.getCenter()),he=B.extend(E).getSize().subtract(V);_.x+=ie.x<0?-he.x:he.x,_.y+=ie.y<0?-he.y:he.y,this.panTo(this.unproject(_),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=r({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),p=a.divideBy(2).round(),_=l.divideBy(2).round(),E=p.subtract(_);return!E.x&&!E.y?this:(i.animate&&i.pan?this.panBy(E):(i.pan&&this._rawPanBy(E),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=r({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=g(this._handleGeolocationResponse,this),l=g(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,l,i):navigator.geolocation.getCurrentPosition(a,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,l=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,l=i.coords.longitude,p=new ge(a,l),_=p.toBounds(i.coords.accuracy*2),E=this._locateOptions;if(E.setView){var M=this.getBoundsZoom(_);this.setView(p,E.maxZoom?Math.min(M,E.maxZoom):M)}var B={latlng:p,bounds:_,timestamp:i.timestamp};for(var V in i.coords)typeof i.coords[V]=="number"&&(B[V]=i.coords[V]);this.fire("locationfound",B)}},addHandler:function(i,a){if(!a)return this;var l=this[i]=new a(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Se(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Qe(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),p=ze("div",l,a||this._mapPane);return i&&(this._panes[i]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new ee(a,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,l){i=re(i),l=A(l||[0,0]);var p=this.getZoom()||0,_=this.getMinZoom(),E=this.getMaxZoom(),M=i.getNorthWest(),B=i.getSouthEast(),V=this.getSize().subtract(l),ie=C(this.project(B,p),this.project(M,p)).getSize(),he=xe.any3d?this.options.zoomSnap:1,fe=V.x/ie.x,ve=V.y/ie.y,Ne=a?Math.max(fe,ve):Math.min(fe,ve);return p=this.getScaleZoom(Ne,p),he&&(p=Math.round(p/(he/100))*(he/100),p=a?Math.ceil(p/he)*he:Math.floor(p/he)*he),Math.max(_,Math.min(E,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new se(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var l=this._getTopLeftPoint(i,a);return new K(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var l=this.options.crs;return a=a===void 0?this._zoom:a,l.scale(i)/l.scale(a)},getScaleZoom:function(i,a){var l=this.options.crs;a=a===void 0?this._zoom:a;var p=l.zoom(i*l.scale(a));return isNaN(p)?1/0:p},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(de(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(A(i),a)},layerPointToLatLng:function(i){var a=A(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(de(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(de(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(re(i))},distance:function(i,a){return this.options.crs.distance(de(i),de(a))},containerPointToLayerPoint:function(i){return A(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return A(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint(A(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(i)))},mouseEventToContainerPoint:function(i){return St(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=hs(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(a,"scroll",this._onScroll,this),this._containerId=b(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&xe.any3d,Ae(i,"leaflet-container"+(xe.touch?" leaflet-touch":"")+(xe.retina?" leaflet-retina":"")+(xe.ielt9?" leaflet-oldie":"")+(xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=on(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nt(this._mapPane,new se(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ae(i.markerPane,"leaflet-zoom-hide"),Ae(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,l){nt(this._mapPane,new se(0,0));var p=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var _=this._zoom!==a;this._moveStart(_,l)._move(i,a)._moveEnd(_),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,l,p){a===void 0&&(a=this._zoom);var _=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),p?l&&l.pinch&&this.fire("zoom",l):((_||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Se(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){nt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[b(this._container)]=this;var a=i?Ie:Te;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),xe.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Se(this._resizeRequest),this._resizeRequest=_e(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var l=[],p,_=a==="mouseout"||a==="mouseover",E=i.target||i.srcElement,M=!1;E;){if(p=this._targets[b(E)],p&&(a==="click"||a==="preclick")&&this._draggableMoved(p)){M=!0;break}if(p&&p.listens(a,!0)&&(_&&!dn(E,i)||(l.push(p),_))||E===this._container)break;E=E.parentNode}return!l.length&&!M&&!_&&this.listens(a,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var l=i.type;l==="mousedown"&&ja(a),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,l){if(i.type==="click"){var p=r({},i);p.type="preclick",this._fireDOMEvent(p,p.type,l)}var _=this._findEventTargets(i,a);if(l){for(var E=[],M=0;M<l.length;M++)l[M].listens(a,!0)&&E.push(l[M]);_=E.concat(_)}if(_.length){a==="contextmenu"&&ot(i);var B=_[0],V={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var ie=B.getLatLng&&(!B._radius||B._radius<=10);V.containerPoint=ie?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(i),V.layerPoint=this.containerPointToLayerPoint(V.containerPoint),V.latlng=ie?B.getLatLng():this.layerPointToLatLng(V.layerPoint)}for(M=0;M<_.length;M++)if(_[M].fire(a,V,!0),V.originalEvent._stopped||_[M].options.bubblingMouseEvents===!1&&ne(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return Ui(this._mapPane)||new se(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var l=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var l=this.getSize()._divideBy(2);return this.project(i,a)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,l){var p=this._getNewPixelOrigin(l,a);return this.project(i,a)._subtract(p)},_latLngBoundsToNewLayerBounds:function(i,a,l){var p=this._getNewPixelOrigin(l,a);return C([this.project(i.getSouthWest(),a)._subtract(p),this.project(i.getNorthWest(),a)._subtract(p),this.project(i.getSouthEast(),a)._subtract(p),this.project(i.getNorthEast(),a)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,l){if(!l)return i;var p=this.project(i,a),_=this.getSize().divideBy(2),E=new K(p.subtract(_),p.add(_)),M=this._getBoundsOffset(E,l,a);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?i:this.unproject(p.add(M),a)},_limitOffset:function(i,a){if(!a)return i;var l=this.getPixelBounds(),p=new K(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(p,a))},_getBoundsOffset:function(i,a,l){var p=C(this.project(a.getNorthEast(),l),this.project(a.getSouthWest(),l)),_=p.min.subtract(i.min),E=p.max.subtract(i.max),M=this._rebound(_.x,-E.x),B=this._rebound(_.y,-E.y);return new se(M,B)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),l=this.getMaxZoom(),p=xe.any3d?this.options.zoomSnap:1;return p&&(i=Math.round(i/p)*p),Math.max(a,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var l=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,a),!0)},_createAnimProxy:function(){var i=this._proxy=ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var l=Ta,p=this._proxy.style[l];Yt(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),p===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();Yt(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(a),_=this._getCenterOffset(i)._divideBy(1-1/p);return l.animate!==!0&&!this.getSize().contains(_)?!1:(_e(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,l,p){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,Ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Da(i,a){return new Re(i,a)}var Rt=Fe.extend({options:{position:"topright"},initialize:function(i){O(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),l=this.getPosition(),p=i._controlCorners[l];return Ae(a,"leaflet-control"),l.indexOf("bottom")!==-1?p.insertBefore(a,p.firstChild):p.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),qn=function(i){return new Rt(i)};Re.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",l=this._controlContainer=ze("div",a+"control-container",this._container);function p(_,E){var M=a+_+" "+a+E;i[_+E]=ze("div",M,l)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Qe(this._controlCorners[i]);Qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ar=Rt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,l,p){return l<p?-1:p<l?1:0}},initialize:function(i,a,l){O(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in i)this._addLayer(i[p],p);for(p in a)this._addLayer(a[p],p,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Rt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(b(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=ze("div",i),l=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Zn(a),Gn(a);var p=this._section=ze("section",i+"-list");l&&(this._map.on("click",this.collapse,this),Te(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=ze("a",i+"-toggle",a);_.href="#",_.title="Layers",_.setAttribute("role","button"),Te(_,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){ot(E),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=ze("div",i+"-base",p),this._separator=ze("div",i+"-separator",p),this._overlaysList=ze("div",i+"-overlays",p),a.appendChild(p)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&b(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:l}),this.options.sortLayers&&this._layers.sort(g(function(p,_){return this.options.sortFunction(p.layer,_.layer,p.name,_.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Et(this._baseLayersList),Et(this._overlaysList),this._layerControlInputs=[];var i,a,l,p,_=0;for(l=0;l<this._layers.length;l++)p=this._layers[l],this._addItem(p),a=a||p.overlay,i=i||!p.overlay,_+=p.overlay?0:1;return this.options.hideSingleBase&&(i=i&&_>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(b(i.target)),l=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,a)},_createRadioElement:function(i,a){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=l,p.firstChild},_addItem:function(i){var a=document.createElement("label"),l=this._map.hasLayer(i.layer),p;i.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=l):p=this._createRadioElement("leaflet-base-layers_"+b(this),l),this._layerControlInputs.push(p),p.layerId=b(i.layer),Te(p,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+i.name;var E=document.createElement("span");a.appendChild(E),E.appendChild(p),E.appendChild(_);var M=i.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,l,p=[],_=[];this._handlingClick=!0;for(var E=i.length-1;E>=0;E--)a=i[E],l=this._getLayer(a.layerId).layer,a.checked?p.push(l):a.checked||_.push(l);for(E=0;E<_.length;E++)this._map.hasLayer(_[E])&&this._map.removeLayer(_[E]);for(E=0;E<p.length;E++)this._map.hasLayer(p[E])||this._map.addLayer(p[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,l,p=this._map.getZoom(),_=i.length-1;_>=0;_--)a=i[_],l=this._getLayer(a.layerId).layer,a.disabled=l.options.minZoom!==void 0&&p<l.options.minZoom||l.options.maxZoom!==void 0&&p>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Te(i,"click",ot),this.expand();var a=this;setTimeout(function(){Ie(i,"click",ot),a._preventClick=!1})}}),uc=function(i,a,l){return new Ar(i,a,l)},uo=Rt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",l=ze("div",a+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,a+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,a+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,l,p,_){var E=ze("a",l,p);return E.innerHTML=i,E.href="#",E.title=a,E.setAttribute("role","button"),E.setAttribute("aria-label",a),Zn(E),Te(E,"click",vi),Te(E,"click",_,this),Te(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";Je(this._zoomInButton,a),Je(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Ae(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Ae(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Re.mergeOptions({zoomControl:!0}),Re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new uo,this.addControl(this.zoomControl))});var ho=function(i){return new uo(i)},Mr=Rt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",l=ze("div",a),p=this.options;return this._addScales(p,a+"-line",l),i.on(p.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,l){i.metric&&(this._mScale=ze("div",a,l)),i.imperial&&(this._iScale=ze("div",a,l))},_update:function(){var i=this._map,a=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),l=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,l,a/i)},_updateImperial:function(i){var a=i*3.2808399,l,p,_;a>5280?(l=a/5280,p=this._getRoundNum(l),this._updateScale(this._iScale,p+" mi",p/l)):(_=this._getRoundNum(a),this._updateScale(this._iScale,_+" ft",_/a))},_updateScale:function(i,a,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),l=i/a;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,a*l}}),dc=function(i){return new Mr(i)},hc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fo=Rt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xe.inlineSvg?hc+" ":"")+"Leaflet</a>"},initialize:function(i){O(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ze("div","leaflet-control-attribution"),Zn(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});Re.mergeOptions({attributionControl:!0}),Re.addInitHook(function(){this.options.attributionControl&&new fo().addTo(this)});var fc=function(i){return new fo(i)};Rt.Layers=Ar,Rt.Zoom=uo,Rt.Scale=Mr,Rt.Attribution=fo,qn.layers=uc,qn.zoom=ho,qn.scale=dc,qn.attribution=fc;var ti=Fe.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ti.addTo=function(i,a){return i.addHandler(a,this),this};var mc={Events:Y},jr=xe.touch?"touchstart mousedown":"mousedown",Hi=ue.extend({options:{clickTolerance:3},initialize:function(i,a,l,p){O(this,p),this._element=i,this._dragStartTarget=a||i,this._preventOutline=l},enable:function(){this._enabled||(Te(this._dragStartTarget,jr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Hi._dragging===this&&this.finishDrag(!0),Ie(this._dragStartTarget,jr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Pn(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Hi._dragging===this&&this.finishDrag();return}if(!(Hi._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Hi._dragging=this,this._preventOutline&&ja(this._element),Ma(),mi(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,l=ln(this._element);this._startPoint=new se(a.clientX,a.clientY),this._startPos=Ui(this._element),this._parentScale=Ii(l);var p=i.type==="mousedown";Te(document,p?"mousemove":"touchmove",this._onMove,this),Te(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,l=new se(a.clientX,a.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,ot(i),this._moved||(this.fire("dragstart"),this._moved=!0,Ae(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),nt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ie(document,"mousemove touchmove",this._onMove,this),Ie(document,"mouseup touchend touchcancel",this._onUp,this),lo(),Aa();var a=this._moved&&this._moving;this._moving=!1,Hi._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Cr(i,a,l){var p,_=[1,4,2,8],E,M,B,V,ie,he,fe,ve;for(E=0,he=i.length;E<he;E++)i[E]._code=hn(i[E],a);for(B=0;B<4;B++){for(fe=_[B],p=[],E=0,he=i.length,M=he-1;E<he;M=E++)V=i[E],ie=i[M],V._code&fe?ie._code&fe||(ve=vs(ie,V,fe,a,l),ve._code=hn(ve,a),p.push(ve)):(ie._code&fe&&(ve=vs(ie,V,fe,a,l),ve._code=hn(ve,a),p.push(ve)),p.push(V));i=p}return i}function gs(i,a){var l,p,_,E,M,B,V,ie,he;if(!i||i.length===0)throw new Error("latlngs not passed");_t(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var fe=de([0,0]),ve=re(i),Ne=ve.getNorthWest().distanceTo(ve.getSouthWest())*ve.getNorthEast().distanceTo(ve.getNorthWest());Ne<1700&&(fe=mo(i));var We=i.length,at=[];for(l=0;l<We;l++){var xt=de(i[l]);at.push(a.project(de([xt.lat-fe.lat,xt.lng-fe.lng])))}for(B=V=ie=0,l=0,p=We-1;l<We;p=l++)_=at[l],E=at[p],M=_.y*E.x-E.y*_.x,V+=(_.x+E.x)*M,ie+=(_.y+E.y)*M,B+=M*3;B===0?he=at[0]:he=[V/B,ie/B];var Xt=a.unproject(A(he));return de([Xt.lat+fe.lat,Xt.lng+fe.lng])}function mo(i){for(var a=0,l=0,p=0,_=0;_<i.length;_++){var E=de(i[_]);a+=E.lat,l+=E.lng,p++}return de([a/p,l/p])}var pc={__proto__:null,clipPolygon:Cr,polygonCenter:gs,centroid:mo};function Rr(i,a){if(!a||!i.length)return i.slice();var l=a*a;return i=_c(i,l),i=vc(i,l),i}function po(i,a,l){return Math.sqrt(fn(i,a,l,!0))}function gc(i,a,l){return fn(i,a,l)}function vc(i,a){var l=i.length,p=typeof Uint8Array<"u"?Uint8Array:Array,_=new p(l);_[0]=_[l-1]=1,go(i,_,a,0,l-1);var E,M=[];for(E=0;E<l;E++)_[E]&&M.push(i[E]);return M}function go(i,a,l,p,_){var E=0,M,B,V;for(B=p+1;B<=_-1;B++)V=fn(i[B],i[p],i[_],!0),V>E&&(M=B,E=V);E>l&&(a[M]=1,go(i,a,l,p,M),go(i,a,l,M,_))}function _c(i,a){for(var l=[i[0]],p=1,_=0,E=i.length;p<E;p++)xc(i[p],i[_])>a&&(l.push(i[p]),_=p);return _<E-1&&l.push(i[E-1]),l}var Dr;function Or(i,a,l,p,_){var E=p?Dr:hn(i,l),M=hn(a,l),B,V,ie;for(Dr=M;;){if(!(E|M))return[i,a];if(E&M)return!1;B=E||M,V=vs(i,a,B,l,_),ie=hn(V,l),B===E?(i=V,E=ie):(a=V,M=ie)}}function vs(i,a,l,p,_){var E=a.x-i.x,M=a.y-i.y,B=p.min,V=p.max,ie,he;return l&8?(ie=i.x+E*(V.y-i.y)/M,he=V.y):l&4?(ie=i.x+E*(B.y-i.y)/M,he=B.y):l&2?(ie=V.x,he=i.y+M*(V.x-i.x)/E):l&1&&(ie=B.x,he=i.y+M*(B.x-i.x)/E),new se(ie,he,_)}function hn(i,a){var l=0;return i.x<a.min.x?l|=1:i.x>a.max.x&&(l|=2),i.y<a.min.y?l|=4:i.y>a.max.y&&(l|=8),l}function xc(i,a){var l=a.x-i.x,p=a.y-i.y;return l*l+p*p}function fn(i,a,l,p){var _=a.x,E=a.y,M=l.x-_,B=l.y-E,V=M*M+B*B,ie;return V>0&&(ie=((i.x-_)*M+(i.y-E)*B)/V,ie>1?(_=l.x,E=l.y):ie>0&&(_+=M*ie,E+=B*ie)),M=i.x-_,B=i.y-E,p?M*M+B*B:new se(_,E)}function _t(i){return!G(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function kr(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_t(i)}function vo(i,a){var l,p,_,E,M,B,V,ie;if(!i||i.length===0)throw new Error("latlngs not passed");_t(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var he=de([0,0]),fe=re(i),ve=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());ve<1700&&(he=mo(i));var Ne=i.length,We=[];for(l=0;l<Ne;l++){var at=de(i[l]);We.push(a.project(de([at.lat-he.lat,at.lng-he.lng])))}for(l=0,p=0;l<Ne-1;l++)p+=We[l].distanceTo(We[l+1])/2;if(p===0)ie=We[0];else for(l=0,E=0;l<Ne-1;l++)if(M=We[l],B=We[l+1],_=M.distanceTo(B),E+=_,E>p){V=(E-p)/_,ie=[B.x-V*(B.x-M.x),B.y-V*(B.y-M.y)];break}var xt=a.unproject(A(ie));return de([xt.lat+he.lat,xt.lng+he.lng])}var zr={__proto__:null,simplify:Rr,pointToSegmentDistance:po,closestPointOnSegment:gc,clipSegment:Or,_getEdgeIntersection:vs,_getBitCode:hn,_sqClosestPointOnSegment:fn,isFlat:_t,_flat:kr,polylineCenter:vo},_s={project:function(i){return new se(i.lng,i.lat)},unproject:function(i){return new ge(i.y,i.x)},bounds:new K([-180,-90],[180,90])},xs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,l=this.R,p=i.lat*a,_=this.R_MINOR/l,E=Math.sqrt(1-_*_),M=E*Math.sin(p),B=Math.tan(Math.PI/4-p/2)/Math.pow((1-M)/(1+M),E/2);return p=-l*Math.log(Math.max(B,1e-10)),new se(i.lng*a*l,p)},unproject:function(i){for(var a=180/Math.PI,l=this.R,p=this.R_MINOR/l,_=Math.sqrt(1-p*p),E=Math.exp(-i.y/l),M=Math.PI/2-2*Math.atan(E),B=0,V=.1,ie;B<15&&Math.abs(V)>1e-7;B++)ie=_*Math.sin(M),ie=Math.pow((1-ie)/(1+ie),_/2),V=Math.PI/2-2*Math.atan(E*ie)-M,M+=V;return new ge(M*a,i.x*a/l)}},Pr={__proto__:null,LonLat:_s,Mercator:xs,SphericalMercator:Ea},Vn=r({},Be,{code:"EPSG:3395",projection:xs,transformation:function(){var i=.5/(Math.PI*xs.R);return Wi(i,.5,-i,.5)}()}),Br=r({},Be,{code:"EPSG:4326",projection:_s,transformation:Wi(1/180,1,-1/180,.5)}),yc=r({},it,{projection:_s,transformation:Wi(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var l=a.lng-i.lng,p=a.lat-i.lat;return Math.sqrt(l*l+p*p)},infinite:!0});it.Earth=Be,it.EPSG3395=Vn,it.EPSG3857=La,it.EPSG900913=$s,it.EPSG4326=Br,it.Simple=yc;var ii=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[b(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[b(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var l=this.getEvents();a.on(l,this),this.once("remove",function(){a.off(l,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Re.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=b(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=b(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return b(i)in this._layers},eachLayer:function(i,a){for(var l in this._layers)i.call(a,this._layers[l]);return this},_addLayers:function(i){i=i?G(i)?i:[i]:[];for(var a=0,l=i.length;a<l;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[b(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=b(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,l=this._getZoomSpan();for(var p in this._zoomBoundLayers){var _=this._zoomBoundLayers[p].options;i=_.minZoom===void 0?i:Math.min(i,_.minZoom),a=_.maxZoom===void 0?a:Math.max(a,_.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var mn=ii.extend({initialize:function(i,a){O(this,a),this._layers={};var l,p;if(i)for(l=0,p=i.length;l<p;l++)this.addLayer(i[l])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),l,p;for(l in this._layers)p=this._layers[l],p[i]&&p[i].apply(p,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var l in this._layers)i.call(a,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return b(i)}}),Ur=function(i,a){return new mn(i,a)},Bt=mn.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),mn.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),mn.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new ee;for(var a in this._layers){var l=this._layers[a];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),Oa=function(i,a){return new Bt(i,a)},Yn=Fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){O(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(l,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(p,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(i,a){var l=this.options,p=l[a+"Size"];typeof p=="number"&&(p=[p,p]);var _=A(p),E=A(a==="shadow"&&l.shadowAnchor||l.iconAnchor||_&&_.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(l.className||""),E&&(i.style.marginLeft=-E.x+"px",i.style.marginTop=-E.y+"px"),_&&(i.style.width=_.x+"px",i.style.height=_.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return xe.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function ys(i){return new Yn(i)}var Xn=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Xn.imagePath!="string"&&(Xn.imagePath=this._detectIconPath()),(this.options.imagePath||Xn.imagePath)+Yn.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(l,p,_){var E=p.exec(l);return E&&E[_]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ze("div","leaflet-default-icon-path",document.body),a=on(i,"background-image")||on(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),_o=ti.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Hi(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ae(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,l=a._map,p=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,E=Ui(a._icon),M=l.getPixelBounds(),B=l.getPixelOrigin(),V=C(M.min._subtract(B).add(_),M.max._subtract(B).subtract(_));if(!V.contains(E)){var ie=A((Math.max(V.max.x,E.x)-V.max.x)/(M.max.x-V.max.x)-(Math.min(V.min.x,E.x)-V.min.x)/(M.min.x-V.min.x),(Math.max(V.max.y,E.y)-V.max.y)/(M.max.y-V.max.y)-(Math.min(V.min.y,E.y)-V.min.y)/(M.min.y-V.min.y)).multiplyBy(p);l.panBy(ie,{animate:!1}),this._draggable._newPos._add(ie),this._draggable._startPos._add(ie),nt(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=_e(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Se(this._panRequest),this._panRequest=_e(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,l=a._shadow,p=Ui(a._icon),_=a._map.layerPointToLatLng(p);l&&nt(l,p),a._latlng=_,i.latlng=_,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Se(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Fn=ii.extend({options:{icon:new Xn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){O(this,a),this._latlng=de(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=de(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),p=!1;l!==this._icon&&(this._icon&&this._removeIcon(),p=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),Ae(l,a),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(l,"focus",this._panOnFocus,this);var _=i.icon.createShadow(this._shadow),E=!1;_!==this._shadow&&(this._removeShadow(),E=!0),_&&(Ae(_,a),_.alt=""),this._shadow=_,i.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&E&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ie(this._icon,"focus",this._panOnFocus,this),Qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qe(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&nt(this._icon,i),this._shadow&&nt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_o)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _o(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Ct(this._icon,i),this._shadow&&Ct(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,l=a.iconSize?A(a.iconSize):A(0,0),p=a.iconAnchor?A(a.iconAnchor):A(0,0);i.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:l.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xo(i,a){return new Fn(i,a)}var Mi=ii.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return O(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ka=Mi.extend({options:{fill:!0,radius:10},initialize:function(i,a){O(this,a),this._latlng=de(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=de(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return Mi.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,l=this._clickTolerance(),p=[i+l,a+l];this._pxBounds=new K(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ir(i,a){return new ka(i,a)}var yo=ka.extend({initialize:function(i,a,l){if(typeof a=="number"&&(a=r({},l,{radius:a})),O(this,a),this._latlng=de(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new ee(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Mi.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,l=this._map,p=l.options.crs;if(p.distance===Be.distance){var _=Math.PI/180,E=this._mRadius/Be.R/_,M=l.project([a+E,i]),B=l.project([a-E,i]),V=M.add(B).divideBy(2),ie=l.unproject(V).lat,he=Math.acos((Math.cos(E*_)-Math.sin(a*_)*Math.sin(ie*_))/(Math.cos(a*_)*Math.cos(ie*_)))/_;(isNaN(he)||he===0)&&(he=E/Math.cos(Math.PI/180*a)),this._point=V.subtract(l.getPixelOrigin()),this._radius=isNaN(he)?0:V.x-l.project([ie,i-he]).x,this._radiusY=V.y-M.y}else{var fe=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(fe).x}this._updateBounds()}});function bc(i,a,l){return new yo(i,a,l)}var ji=Mi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){O(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,l=null,p=fn,_,E,M=0,B=this._parts.length;M<B;M++)for(var V=this._parts[M],ie=1,he=V.length;ie<he;ie++){_=V[ie-1],E=V[ie];var fe=p(i,_,E,!0);fe<a&&(a=fe,l=p(i,_,E))}return l&&(l.distance=Math.sqrt(a)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=de(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new ee,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return _t(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],l=_t(i),p=0,_=i.length;p<_;p++)l?(a[p]=de(i[p]),this._bounds.extend(a[p])):a[p]=this._convertLatLngs(i[p]);return a},_project:function(){var i=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new se(i,i);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,l){var p=i[0]instanceof ge,_=i.length,E,M;if(p){for(M=[],E=0;E<_;E++)M[E]=this._map.latLngToLayerPoint(i[E]),l.extend(M[E]);a.push(M)}else for(E=0;E<_;E++)this._projectLatlngs(i[E],a,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,l,p,_,E,M,B,V;for(l=0,_=0,E=this._rings.length;l<E;l++)for(V=this._rings[l],p=0,M=V.length;p<M-1;p++)B=Or(V[p],V[p+1],i,p,!0),B&&(a[_]=a[_]||[],a[_].push(B[0]),(B[1]!==V[p+1]||p===M-2)&&(a[_].push(B[1]),_++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,l=0,p=i.length;l<p;l++)i[l]=Rr(i[l],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var l,p,_,E,M,B,V=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,E=this._parts.length;l<E;l++)for(B=this._parts[l],p=0,M=B.length,_=M-1;p<M;_=p++)if(!(!a&&p===0)&&po(i,B[_],B[p])<=V)return!0;return!1}});function wc(i,a){return new ji(i,a)}ji._flat=kr;var Kn=ji.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=ji.prototype._convertLatLngs.call(this,i),l=a.length;return l>=2&&a[0]instanceof ge&&a[0].equals(a[l-1])&&a.pop(),a},_setLatLngs:function(i){ji.prototype._setLatLngs.call(this,i),_t(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _t(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,l=new se(a,a);if(i=new K(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,_=this._rings.length,E;p<_;p++)E=Cr(this._rings[p],i,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,l,p,_,E,M,B,V,ie;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(E=0,V=this._parts.length;E<V;E++)for(l=this._parts[E],M=0,ie=l.length,B=ie-1;M<ie;B=M++)p=l[M],_=l[B],p.y>i.y!=_.y>i.y&&i.x<(_.x-p.x)*(i.y-p.y)/(_.y-p.y)+p.x&&(a=!a);return a||ji.prototype._containsPoint.call(this,i,!0)}});function Ut(i,a){return new Kn(i,a)}var It=Bt.extend({initialize:function(i,a){O(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=G(i)?i:i.features,l,p,_;if(a){for(l=0,p=a.length;l<p;l++)_=a[l],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var E=this.options;if(E.filter&&!E.filter(i))return this;var M=za(i,E);return M?(M.feature=Qn(i),M.defaultOptions=M.options,this.resetStyle(M),E.onEachFeature&&E.onEachFeature(i,M),this.addLayer(M)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=r({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function za(i,a){var l=i.type==="Feature"?i.geometry:i,p=l?l.coordinates:null,_=[],E=a&&a.pointToLayer,M=a&&a.coordsToLatLng||bs,B,V,ie,he;if(!p&&!l)return null;switch(l.type){case"Point":return B=M(p),bo(E,i,B,a);case"MultiPoint":for(ie=0,he=p.length;ie<he;ie++)B=M(p[ie]),_.push(bo(E,i,B,a));return new Bt(_);case"LineString":case"MultiLineString":return V=Pa(p,l.type==="LineString"?0:1,M),new ji(V,a);case"Polygon":case"MultiPolygon":return V=Pa(p,l.type==="Polygon"?1:2,M),new Kn(V,a);case"GeometryCollection":for(ie=0,he=l.geometries.length;ie<he;ie++){var fe=za({geometry:l.geometries[ie],type:"Feature",properties:i.properties},a);fe&&_.push(fe)}return new Bt(_);case"FeatureCollection":for(ie=0,he=l.features.length;ie<he;ie++){var ve=za(l.features[ie],a);ve&&_.push(ve)}return new Bt(_);default:throw new Error("Invalid GeoJSON object.")}}function bo(i,a,l,p){return i?i(a,l):new Fn(l,p&&p.markersInheritOptions&&p)}function bs(i){return new ge(i[1],i[0],i[2])}function Pa(i,a,l){for(var p=[],_=0,E=i.length,M;_<E;_++)M=a?Pa(i[_],a-1,l):(l||bs)(i[_]),p.push(M);return p}function Ba(i,a){return i=de(i),i.alt!==void 0?[k(i.lng,a),k(i.lat,a),k(i.alt,a)]:[k(i.lng,a),k(i.lat,a)]}function ws(i,a,l,p){for(var _=[],E=0,M=i.length;E<M;E++)_.push(a?ws(i[E],_t(i[E])?0:a-1,l,p):Ba(i[E],p));return!a&&l&&_.length>0&&_.push(_[0].slice()),_}function ni(i,a){return i.feature?r({},i.feature,{geometry:a}):Qn(a)}function Qn(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var pn={toGeoJSON:function(i){return ni(this,{type:"Point",coordinates:Ba(this.getLatLng(),i)})}};Fn.include(pn),yo.include(pn),ka.include(pn),ji.include({toGeoJSON:function(i){var a=!_t(this._latlngs),l=ws(this._latlngs,a?1:0,!1,i);return ni(this,{type:(a?"Multi":"")+"LineString",coordinates:l})}}),Kn.include({toGeoJSON:function(i){var a=!_t(this._latlngs),l=a&&!_t(this._latlngs[0]),p=ws(this._latlngs,l?2:a?1:0,!0,i);return a||(p=[p]),ni(this,{type:(l?"Multi":"")+"Polygon",coordinates:p})}}),mn.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(l){a.push(l.toGeoJSON(i).geometry.coordinates)}),ni(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var l=a==="GeometryCollection",p=[];return this.eachLayer(function(_){if(_.toGeoJSON){var E=_.toGeoJSON(i);if(l)p.push(E.geometry);else{var M=Qn(E);M.type==="FeatureCollection"?p.push.apply(p,M.features):p.push(M)}}}),l?ni(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function Es(i,a){return new It(i,a)}var Hr=Es,_i=ii.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,l){this._url=i,this._bounds=re(a),O(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&rn(this._image),this},bringToBack:function(){return this._map&&zn(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=re(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:ze("img");if(Ae(a,"leaflet-image-layer"),this._zoomAnimated&&Ae(a,"leaflet-zoom-animated"),this.options.className&&Ae(a,this.options.className),a.onselectstart=T,a.onmousemove=T,a.onload=g(this.fire,this,"load"),a.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Yt(this._image,l,a)},_reset:function(){var i=this._image,a=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=a.getSize();nt(i,a.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){Ct(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Jn=function(i,a,l){return new _i(i,a,l)},Ls=_i.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:ze("video");if(Ae(a,"leaflet-image-layer"),this._zoomAnimated&&Ae(a,"leaflet-zoom-animated"),this.options.className&&Ae(a,this.options.className),a.onselectstart=T,a.onmousemove=T,a.onloadeddata=g(this.fire,this,"load"),i){for(var l=a.getElementsByTagName("source"),p=[],_=0;_<l.length;_++)p.push(l[_].src);this._url=l.length>0?p:[a.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var M=ze("source");M.src=this._url[E],a.appendChild(M)}}});function Gr(i,a,l){return new Ls(i,a,l)}var Gi=_i.extend({_initImage:function(){var i=this._image=this._url;Ae(i,"leaflet-image-layer"),this._zoomAnimated&&Ae(i,"leaflet-zoom-animated"),this.options.className&&Ae(i,this.options.className),i.onselectstart=T,i.onmousemove=T}});function Zr(i,a,l){return new Gi(i,a,l)}var ai=ii.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof ge||G(i))?(this._latlng=de(i),O(this,a)):(O(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Ct(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Ct(this._container,1),this.bringToFront(),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Ct(this._container,0),this._removeTimeout=setTimeout(g(Qe,void 0,this._container),200)):Qe(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=de(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rn(this._container),this},bringToBack:function(){return this._map&&zn(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof Bt){a=null;var l=this._source._layers;for(var p in l)if(l[p]._map){a=l[p];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=A(this.options.offset),l=this._getAnchor();this._zoomAnimated?nt(this._container,i.add(l)):a=a.add(i).add(l);var p=this._containerBottom=-a.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=p+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Re.include({_initOverlay:function(i,a,l,p){var _=a;return _ instanceof i||(_=new i(p).setContent(a)),l&&_.setLatLng(l),_}}),ii.include({_initOverlay:function(i,a,l,p){var _=l;return _ instanceof i?(O(_,p),_._source=this):(_=a&&!p?a:new i(p,this),_.setContent(l)),_}});var Ua=ai.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,ai.prototype.openOn.call(this,i)},onAdd:function(i){ai.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mi||this._source.on("preclick",Ai))},onRemove:function(i){ai.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mi||this._source.off("preclick",Ai))},getEvents:function(){var i=ai.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=ze("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=ze("div",i+"-content-wrapper",a);if(this._contentNode=ze("div",i+"-content",l),Zn(a),Gn(this._contentNode),Te(a,"contextmenu",Ai),this._tipContainer=ze("div",i+"-tip-container",a),this._tip=ze("div",i+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=ze("a",i+"-close-button",a);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Te(p,"click",function(_){ot(_),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),a.width=l+1+"px",a.whiteSpace="",a.height="";var p=i.offsetHeight,_=this.options.maxHeight,E="leaflet-popup-scrolled";_&&p>_?(a.height=_+"px",Ae(i,E)):Je(i,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();nt(this._container,a.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(on(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+a,p=this._containerWidth,_=new se(this._containerLeft,-l-this._containerBottom);_._add(Ui(this._container));var E=i.layerPointToContainerPoint(_),M=A(this.options.autoPanPadding),B=A(this.options.autoPanPaddingTopLeft||M),V=A(this.options.autoPanPaddingBottomRight||M),ie=i.getSize(),he=0,fe=0;E.x+p+V.x>ie.x&&(he=E.x+p-ie.x+V.x),E.x-he-B.x<0&&(he=E.x-B.x),E.y+l+V.y>ie.y&&(fe=E.y+l-ie.y+V.y),E.y-fe-B.y<0&&(fe=E.y-B.y),(he||fe)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([he,fe]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ec=function(i,a){return new Ua(i,a)};Re.mergeOptions({closePopupOnClick:!0}),Re.include({openPopup:function(i,a,l){return this._initOverlay(Ua,i,a,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),ii.include({bindPopup:function(i,a){return this._popup=this._initOverlay(Ua,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Bt||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){vi(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof Mi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Ss=ai.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){ai.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){ai.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=ai.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ze("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,l,p=this._map,_=this._container,E=p.latLngToContainerPoint(p.getCenter()),M=p.layerPointToContainerPoint(i),B=this.options.direction,V=_.offsetWidth,ie=_.offsetHeight,he=A(this.options.offset),fe=this._getAnchor();B==="top"?(a=V/2,l=ie):B==="bottom"?(a=V/2,l=0):B==="center"?(a=V/2,l=ie/2):B==="right"?(a=0,l=ie/2):B==="left"?(a=V,l=ie/2):M.x<E.x?(B="right",a=0,l=ie/2):(B="left",a=V+(he.x+fe.x)*2,l=ie/2),i=i.subtract(A(a,l,!0)).add(he).add(fe),Je(_,"leaflet-tooltip-right"),Je(_,"leaflet-tooltip-left"),Je(_,"leaflet-tooltip-top"),Je(_,"leaflet-tooltip-bottom"),Ae(_,"leaflet-tooltip-"+B),nt(_,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Ct(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lc=function(i,a){return new Ss(i,a)};Re.include({openTooltip:function(i,a,l){return this._initOverlay(Ss,i,a,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),ii.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ss,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[a](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Bt||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(Te(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Te(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,l,p;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),p=this._map.containerPointToLayerPoint(l),a=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(a)}});var wo=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(Et(a),a.appendChild(l.html)):a.innerHTML=l.html!==!1?l.html:"",l.bgPos){var p=A(l.bgPos);a.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function qr(i){return new wo(i)}Yn.Default=Xn;var gn=ii.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){O(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Qe(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof se?i:new se(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,l=-i(-1/0,1/0),p=0,_=a.length,E;p<_;p++)E=a[p].style.zIndex,a[p]!==this._container&&E&&(l=i(l,+E));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xe.ielt9){Ct(this._container,this.options.opacity);var i=+new Date,a=!1,l=!1;for(var p in this._tiles){var _=this._tiles[p];if(!(!_.current||!_.loaded)){var E=Math.min(1,(i-_.loaded)/200);Ct(_.el,E),E<1?a=!0:(_.active?l=!0:this._onOpaqueTile(_),_.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),a&&(Se(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=a-Math.abs(i-l),this._onUpdateLevel(l)):(Qe(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var p=this._levels[i],_=this._map;return p||(p=this._levels[i]={},p.el=ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=a,p.origin=_.project(_.unproject(_.getPixelOrigin()),i).round(),p.zoom=i,this._setZoomTransform(p,_.getCenter(),_.getZoom()),T(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var i,a,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var p=a.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Qe(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,l,p){var _=Math.floor(i/2),E=Math.floor(a/2),M=l-1,B=new se(+_,+E);B.z=+M;var V=this._tileCoordsToKey(B),ie=this._tiles[V];return ie&&ie.active?(ie.retain=!0,!0):(ie&&ie.loaded&&(ie.retain=!0),M>p?this._retainParent(_,E,M,p):!1)},_retainChildren:function(i,a,l,p){for(var _=2*i;_<2*i+2;_++)for(var E=2*a;E<2*a+2;E++){var M=new se(_,E);M.z=l+1;var B=this._tileCoordsToKey(M),V=this._tiles[B];if(V&&V.active){V.retain=!0;continue}else V&&V.loaded&&(V.retain=!0);l+1<p&&this._retainChildren(_,E,l+1,p)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,l,p){var _=Math.round(a);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var E=this.options.updateWhenZooming&&_!==this._tileZoom;(!p||E)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,a)},_setZoomTransform:function(i,a,l){var p=this._map.getZoomScale(l,i.zoom),_=i.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(a,l)).round();xe.any3d?Yt(i.el,_,p):nt(i.el,_)},_resetGrid:function(){var i=this._map,a=i.options.crs,l=this._tileSize=this.getTileSize(),p=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],p).x/l.x),Math.ceil(i.project([0,a.wrapLng[1]],p).x/l.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],p).y/l.x),Math.ceil(i.project([a.wrapLat[1],0],p).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,l=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),p=a.getZoomScale(l,this._tileZoom),_=a.project(i,this._tileZoom).floor(),E=a.getSize().divideBy(p*2);return new K(_.subtract(E),_.add(E))},_update:function(i){var a=this._map;if(a){var l=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(i),_=this._pxBoundsToTileRange(p),E=_.getCenter(),M=[],B=this.options.keepBuffer,V=new K(_.getBottomLeft().subtract([B,-B]),_.getTopRight().add([B,-B]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ie in this._tiles){var he=this._tiles[ie].coords;(he.z!==this._tileZoom||!V.contains(new se(he.x,he.y)))&&(this._tiles[ie].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var fe=_.min.y;fe<=_.max.y;fe++)for(var ve=_.min.x;ve<=_.max.x;ve++){var Ne=new se(ve,fe);if(Ne.z=this._tileZoom,!!this._isValidTile(Ne)){var We=this._tiles[this._tileCoordsToKey(Ne)];We?We.current=!0:M.push(Ne)}}if(M.sort(function(xt,Xt){return xt.distanceTo(E)-Xt.distanceTo(E)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var at=document.createDocumentFragment();for(ve=0;ve<M.length;ve++)this._addTile(M[ve],at);this._level.el.appendChild(at)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var l=this._globalTileRange;if(!a.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!a.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(i);return re(this.options.bounds).overlaps(p)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,l=this.getTileSize(),p=i.scaleBy(l),_=p.add(l),E=a.unproject(p,i.z),M=a.unproject(_,i.z);return[E,M]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),l=new ee(a[0],a[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),l=new se(+a[0],+a[1]);return l.z=+a[2],l},_removeTile:function(i){var a=this._tiles[i];a&&(Qe(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Ae(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=T,i.onmousemove=T,xe.ielt9&&this.options.opacity<1&&Ct(i,this.options.opacity)},_addTile:function(i,a){var l=this._getTilePos(i),p=this._tileCoordsToKey(i),_=this.createTile(this._wrapCoords(i),g(this._tileReady,this,i));this._initTile(_),this.createTile.length<2&&_e(g(this._tileReady,this,i,null,_)),nt(_,l),this._tiles[p]={el:_,coords:i,current:!0},a.appendChild(_),this.fire("tileloadstart",{tile:_,coords:i})},_tileReady:function(i,a,l){a&&this.fire("tileerror",{error:a,tile:l,coords:i});var p=this._tileCoordsToKey(i);l=this._tiles[p],l&&(l.loaded=+new Date,this._map._fadeAnimated?(Ct(l.el,0),Se(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),a||(Ae(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xe.ielt9||!this._map._fadeAnimated?_e(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new se(this._wrapX?N(i.x,this._wrapX):i.x,this._wrapY?N(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new K(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function si(i){return new gn(i)}var vn=gn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=O(this,a),a.detectRetina&&xe.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var l=document.createElement("img");return Te(l,"load",g(this._tileOnLoad,this,a,l)),Te(l,"error",g(this._tileOnError,this,a,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var a={r:xe.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=l),a["-y"]=l}return ce(this._url,r(a,this.options))},_tileOnLoad:function(i,a){xe.ielt9?setTimeout(g(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,l){var p=this.options.errorTileUrl;p&&a.getAttribute("src")!==p&&(a.src=p),i(l,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,l=this.options.zoomReverse,p=this.options.zoomOffset;return l&&(i=a-i),i+p},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=T,a.onerror=T,!a.complete)){a.src=W;var l=this._tiles[i].coords;Qe(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:l})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",W),gn.prototype._removeTile.call(this,i)},_tileReady:function(i,a,l){if(!(!this._map||l&&l.getAttribute("src")===W))return gn.prototype._tileReady.call(this,i,a,l)}});function Ht(i,a){return new vn(i,a)}var Gt=vn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var l=r({},this.defaultWmsParams);for(var p in a)p in this.options||(l[p]=a[p]);a=O(this,a);var _=a.detectRetina&&xe.retina?2:1,E=this.getTileSize();l.width=E.x*_,l.height=E.y*_,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,vn.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),l=this._crs,p=C(l.project(a[0]),l.project(a[1])),_=p.min,E=p.max,M=(this._wmsVersion>=1.3&&this._crs===Br?[_.y,_.x,E.y,E.x]:[_.x,_.y,E.x,E.y]).join(","),B=vn.prototype.getTileUrl.call(this,i);return B+R(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(i,a){return r(this.wmsParams,i),a||this.redraw(),this}});function Wn(i,a){return new Gt(i,a)}vn.WMS=Gt,Ht.wms=Wn;var oi=ii.extend({options:{padding:.1},initialize:function(i){O(this,i),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var l=this._map.getZoomScale(a,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,a),E=p.multiplyBy(-l).add(_).subtract(this._map._getNewPixelOrigin(i,a));xe.any3d?Yt(this._container,E,l):nt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),l=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new K(l,l.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ia=oi.extend({options:{tolerance:0},getEvents:function(){var i=oi.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Te(i,"mousemove",this._onMouseMove,this),Te(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Se(this._redrawRequest),delete this._ctx,Qe(this._container),Ie(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oi.prototype._update.call(this);var i=this._bounds,a=this._container,l=i.getSize(),p=xe.retina?2:1;nt(a,i.min),a.width=p*l.x,a.height=p*l.y,a.style.width=l.x+"px",a.style.height=l.y+"px",xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[b(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,l=a.next,p=a.prev;l?l.prev=p:this._drawLast=p,p?p.next=l:this._drawFirst=l,delete i._order,delete this._layers[b(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),l=[],p,_;for(_=0;_<a.length;_++){if(p=Number(a[_]),isNaN(p))return;l.push(p)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||_e(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var l=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)i=p.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var l,p,_,E,M=i._parts,B=M.length,V=this._ctx;if(B){for(V.beginPath(),l=0;l<B;l++){for(p=0,_=M[l].length;p<_;p++)E=M[l][p],V[p?"lineTo":"moveTo"](E.x,E.y);a&&V.closePath()}this._fillStroke(V,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,l=this._ctx,p=Math.max(Math.round(i._radius),1),_=(Math.max(Math.round(i._radiusY),1)||p)/p;_!==1&&(l.save(),l.scale(1,_)),l.beginPath(),l.arc(a.x,a.y/_,p,0,Math.PI*2,!1),_!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,a){var l=a.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),l,p,_=this._drawFirst;_;_=_.next)l=_.layer,l.options.interactive&&l._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(p=l);this._fireEvent(p?[p]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(Je(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var l,p,_=this._drawFirst;_;_=_.next)l=_.layer,l.options.interactive&&l._containsPoint(a)&&(p=l);p!==this._hoveredLayer&&(this._handleMouseOut(i),p&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([p],i,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,l){this._map._fireDOMEvent(a,l||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var l=a.next,p=a.prev;if(l)l.prev=p;else return;p?p.next=l:l&&(this._drawFirst=l),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var l=a.next,p=a.prev;if(p)p.next=l;else return;l?l.prev=p:p&&(this._drawLast=p),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function Ha(i){return xe.canvas?new Ia(i):null}var _n=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$n={_initContainer:function(){this._container=ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oi.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=_n("shape");Ae(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=_n("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[b(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;Qe(a),i.removeInteractiveTarget(a),delete this._layers[b(i)]},_updateStyle:function(i){var a=i._stroke,l=i._fill,p=i.options,_=i._container;_.stroked=!!p.stroke,_.filled=!!p.fill,p.stroke?(a||(a=i._stroke=_n("stroke")),_.appendChild(a),a.weight=p.weight+"px",a.color=p.color,a.opacity=p.opacity,p.dashArray?a.dashStyle=G(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=p.lineCap.replace("butt","flat"),a.joinstyle=p.lineJoin):a&&(_.removeChild(a),i._stroke=null),p.fill?(l||(l=i._fill=_n("fill")),_.appendChild(l),l.color=p.fillColor||p.color,l.opacity=p.fillOpacity):l&&(_.removeChild(l),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),l=Math.round(i._radius),p=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+l+","+p+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){rn(i._container)},_bringToBack:function(i){zn(i._container)}},Ga=xe.vml?_n:hr,Zi=oi.extend({_initContainer:function(){this._container=Ga("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ga("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qe(this._container),Ie(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oi.prototype._update.call(this);var i=this._bounds,a=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,l.setAttribute("width",a.x),l.setAttribute("height",a.y)),nt(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=Ga("path");i.options.className&&Ae(a,i.options.className),i.options.interactive&&Ae(a,"leaflet-interactive"),this._updateStyle(i),this._layers[b(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Qe(i._path),i.removeInteractiveTarget(i._path),delete this._layers[b(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,l=i.options;a&&(l.stroke?(a.setAttribute("stroke",l.color),a.setAttribute("stroke-opacity",l.opacity),a.setAttribute("stroke-width",l.weight),a.setAttribute("stroke-linecap",l.lineCap),a.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?a.setAttribute("stroke-dasharray",l.dashArray):a.removeAttribute("stroke-dasharray"),l.dashOffset?a.setAttribute("stroke-dashoffset",l.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),l.fill?(a.setAttribute("fill",l.fillColor||l.color),a.setAttribute("fill-opacity",l.fillOpacity),a.setAttribute("fill-rule",l.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,fr(i._parts,a))},_updateCircle:function(i){var a=i._point,l=Math.max(Math.round(i._radius),1),p=Math.max(Math.round(i._radiusY),1)||l,_="a"+l+","+p+" 0 1,0 ",E=i._empty()?"M0 0":"M"+(a.x-l)+","+a.y+_+l*2+",0 "+_+-l*2+",0 ";this._setPath(i,E)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){rn(i._path)},_bringToBack:function(i){zn(i._path)}});xe.vml&&Zi.include($n);function xn(i){return xe.svg||xe.vml?new Zi(i):null}Re.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&Ha(i)||xn(i)}});var Vr=Kn.extend({initialize:function(i,a){Kn.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=re(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Zt(i,a){return new Vr(i,a)}Zi.create=Ga,Zi.pointsToPath=fr,It.geometryToLayer=za,It.coordsToLatLng=bs,It.coordsToLatLngs=Pa,It.latLngToCoords=Ba,It.latLngsToCoords=ws,It.getFeature=ni,It.asFeature=Qn,Re.mergeOptions({boxZoom:!0});var Ns=ti.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ie(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),mi(),Ma(),this._startPoint=this._map.mouseEventToContainerPoint(i),Te(document,{contextmenu:vi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ze("div","leaflet-zoom-box",this._container),Ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new K(this._point,this._startPoint),l=a.getSize();nt(this._box,a.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Qe(this._box),Je(this._container,"leaflet-crosshair")),Aa(),lo(),Ie(document,{contextmenu:vi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var a=new ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Re.addInitHook("addHandler","boxZoom",Ns),Re.mergeOptions({doubleClickZoom:!0});var xi=ti.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,l=a.getZoom(),p=a.options.zoomDelta,_=i.originalEvent.shiftKey?l-p:l+p;a.options.doubleClickZoom==="center"?a.setZoom(_):a.setZoomAround(i.containerPoint,_)}});Re.addInitHook("addHandler","doubleClickZoom",xi),Re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Eo=ti.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Hi(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=re(this._map.options.maxBounds);this._offsetLimit=C(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),l=this._initialWorldOffset,p=this._draggable._newPos.x,_=(p-a+l)%i+a-l,E=(p+a+l)%i-a-l,M=Math.abs(_+l)<Math.abs(E+l)?_:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(i){var a=this._map,l=a.options,p=!l.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),p)a.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,M=l.easeLinearity,B=_.multiplyBy(M/E),V=B.distanceTo([0,0]),ie=Math.min(l.inertiaMaxSpeed,V),he=B.multiplyBy(ie/V),fe=ie/(l.inertiaDeceleration*M),ve=he.multiplyBy(-fe/2).round();!ve.x&&!ve.y?a.fire("moveend"):(ve=a._limitOffset(ve,a.options.maxBounds),_e(function(){a.panBy(ve,{duration:fe,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});Re.addInitHook("addHandler","dragging",Eo),Re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Za=ti.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Te(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ie(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,l=i.scrollTop||a.scrollTop,p=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(p,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},l=this.keyCodes,p,_;for(p=0,_=l.left.length;p<_;p++)a[l.left[p]]=[-1*i,0];for(p=0,_=l.right.length;p<_;p++)a[l.right[p]]=[i,0];for(p=0,_=l.down.length;p<_;p++)a[l.down[p]]=[0,i];for(p=0,_=l.up.length;p<_;p++)a[l.up[p]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},l=this.keyCodes,p,_;for(p=0,_=l.zoomIn.length;p<_;p++)a[l.zoomIn[p]]=i;for(p=0,_=l.zoomOut.length;p<_;p++)a[l.zoomOut[p]]=-i},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ie(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,l=this._map,p;if(a in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(p=this._panKeys[a],i.shiftKey&&(p=A(p).multiplyBy(3)),l.options.maxBounds&&(p=l._limitOffset(A(p),l.options.maxBounds)),l.options.worldCopyJump){var _=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(p)));l.panTo(_)}else l.panBy(p)}else if(a in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;vi(i)}}});Re.addInitHook("addHandler","keyboard",Za),Re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qi=ti.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ie(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=Ra(i),l=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var p=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),p),vi(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,E=l?Math.ceil(_/l)*l:_,M=i._limitZoom(a+(this._delta>0?E:-E))-a;this._delta=0,this._startTime=null,M&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+M):i.setZoomAround(this._lastMousePos,a+M))}});Re.addInitHook("addHandler","scrollWheelZoom",qi);var Lo=600;Re.mergeOptions({tapHold:xe.touchNative&&xe.safari&&xe.mobile,tapTolerance:15});var Ts=ti.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ie(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new se(a.clientX,a.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",ot),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Lo),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Ie(document,"touchend",ot),Ie(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Ie(document,"touchend touchcancel contextmenu",this._cancel,this),Ie(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new se(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});l._simulated=!0,a.target.dispatchEvent(l)}});Re.addInitHook("addHandler","tapHold",Ts),Re.mergeOptions({touchZoom:xe.touch,bounceAtZoomLimits:!0});var yn=ti.extend({addHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Ie(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var l=a.mouseEventToContainerPoint(i.touches[0]),p=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(l.add(p)._divideBy(2))),this._startDist=l.distanceTo(p),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),ot(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,l=a.mouseEventToContainerPoint(i.touches[0]),p=a.mouseEventToContainerPoint(i.touches[1]),_=l.distanceTo(p)/this._startDist;if(this._zoom=a.getScaleZoom(_,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&_<1||this._zoom>a.getMaxZoom()&&_>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var E=l._add(p)._divideBy(2)._subtract(this._centerPoint);if(_===1&&E.x===0&&E.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Se(this._animRequest);var M=g(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_e(M,this,!0),ot(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Se(this._animRequest),Ie(document,"touchmove",this._onTouchMove,this),Ie(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Re.addInitHook("addHandler","touchZoom",yn),Re.BoxZoom=Ns,Re.DoubleClickZoom=xi,Re.Drag=Eo,Re.Keyboard=Za,Re.ScrollWheelZoom=qi,Re.TapHold=Ts,Re.TouchZoom=yn,d.Bounds=K,d.Browser=xe,d.CRS=it,d.Canvas=Ia,d.Circle=yo,d.CircleMarker=ka,d.Class=Fe,d.Control=Rt,d.DivIcon=wo,d.DivOverlay=ai,d.DomEvent=cc,d.DomUtil=Tr,d.Draggable=Hi,d.Evented=ue,d.FeatureGroup=Bt,d.GeoJSON=It,d.GridLayer=gn,d.Handler=ti,d.Icon=Yn,d.ImageOverlay=_i,d.LatLng=ge,d.LatLngBounds=ee,d.Layer=ii,d.LayerGroup=mn,d.LineUtil=zr,d.Map=Re,d.Marker=Fn,d.Mixin=mc,d.Path=Mi,d.Point=se,d.PolyUtil=pc,d.Polygon=Kn,d.Polyline=ji,d.Popup=Ua,d.PosAnimation=ps,d.Projection=Pr,d.Rectangle=Vr,d.Renderer=oi,d.SVG=Zi,d.SVGOverlay=Gi,d.TileLayer=vn,d.Tooltip=Ss,d.Transformation=Mn,d.Util=gt,d.VideoOverlay=Ls,d.bind=g,d.bounds=C,d.canvas=Ha,d.circle=bc,d.circleMarker=Ir,d.control=qn,d.divIcon=qr,d.extend=r,d.featureGroup=Oa,d.geoJSON=Es,d.geoJson=Hr,d.gridLayer=si,d.icon=ys,d.imageOverlay=Jn,d.latLng=de,d.latLngBounds=re,d.layerGroup=Ur,d.map=Da,d.marker=xo,d.point=A,d.polygon=Ut,d.polyline=wc,d.popup=Ec,d.rectangle=Zt,d.setOptions=O,d.stamp=b,d.svg=xn,d.svgOverlay=Zr,d.tileLayer=Ht,d.tooltip=Lc,d.transformation=Wi,d.version=m,d.videoOverlay=Gr;var ea=window.L;d.noConflict=function(){return window.L=ea,this},window.L=d})}(rr,rr.exports)),rr.exports}var dr=U_();const es=Pm(dr);function yd(h,v,d){return Object.freeze({instance:h,context:v,container:d})}function bd(h,v){return v==null?function(m,r){const u=le.useRef(void 0);return u.current||(u.current=h(m,r)),u}:function(m,r){const u=le.useRef(void 0);u.current||(u.current=h(m,r));const g=le.useRef(m),{instance:y}=u.current;return le.useEffect(function(){g.current!==m&&(v(y,m,g.current),g.current=m)},[y,m,v]),u}}function mp(h,v){le.useEffect(function(){return(v.layerContainer??v.map).addLayer(h.instance),function(){var u;(u=v.layerContainer)==null||u.removeLayer(h.instance),v.map.removeLayer(h.instance)}},[v,h])}function I_(h){return function(d){const m=_d(),r=h(tc(d,m),m);return fp(m.map,d.attribution),xd(r.current,d.eventHandlers),mp(r.current,m),r}}function H_(h,v){const d=le.useRef(void 0);le.useEffect(function(){if(v.pathOptions!==d.current){const r=v.pathOptions??{};h.instance.setStyle(r),d.current=r}},[h,v])}function G_(h){return function(d){const m=_d(),r=h(tc(d,m),m);return xd(r.current,d.eventHandlers),mp(r.current,m),H_(r.current,d),r}}function Z_(h,v){const d=bd(h),m=P_(d,v);return k_(m)}function q_(h,v){const d=bd(h,v),m=G_(d);return O_(m)}function V_(h,v){const d=bd(h,v),m=I_(d);return z_(m)}function Y_(h,v,d){const{opacity:m,zIndex:r}=v;m!=null&&m!==d.opacity&&h.setOpacity(m),r!=null&&r!==d.zIndex&&h.setZIndex(r)}function X_({bounds:h,boundsOptions:v,center:d,children:m,className:r,id:u,placeholder:g,style:y,whenReady:b,zoom:w,...N},T){const[k]=le.useState({className:r,id:u,style:y}),[P,H]=le.useState(null),O=le.useRef(void 0);le.useImperativeHandle(T,()=>(P==null?void 0:P.map)??null,[P]);const R=le.useCallback(ce=>{if(ce!==null&&!O.current){const G=new dr.Map(ce,N);O.current=G,d!=null&&w!=null?G.setView(d,w):h!=null&&G.fitBounds(h,v),b!=null&&G.whenReady(b),H(R_(G))}},[]);le.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const J=P?Qs.createElement(vd,{value:P},m):g??null;return Qs.createElement("div",{...k,ref:R},J)}const F_=le.forwardRef(X_),K_=q_(function({positions:v,...d},m){const r=new dr.Polygon(v,d);return yd(r,D_(m,{overlayContainer:r}))},function(v,d,m){d.positions!==m.positions&&v.setLatLngs(d.positions)}),Q_=Z_(function(v,d){const m=new dr.Popup(v,d.overlayContainer);return yd(m,d)},function(v,d,{position:m},r){le.useEffect(function(){const{instance:g}=v;function y(w){w.popup===g&&(g.update(),r(!0))}function b(w){w.popup===g&&r(!1)}return d.map.on({popupopen:y,popupclose:b}),d.overlayContainer==null?(m!=null&&g.setLatLng(m),g.openOn(d.map)):d.overlayContainer.bindPopup(g),function(){var N;d.map.off({popupopen:y,popupclose:b}),(N=d.overlayContainer)==null||N.unbindPopup(),d.map.removeLayer(g)}},[v,d,r,m])}),J_=V_(function({url:v,...d},m){const r=new dr.TileLayer(v,tc(d,m));return yd(r,m)},function(v,d,m){Y_(v,d,m);const{url:r}=d;r!=null&&r!==m.url&&v.setUrl(r)}),wd=as(ss((h,v)=>({riskAreas:Vl,selectedAreaId:null,isInfoPanelOpen:!1,loading:!1,error:null,fetchRiskAreas:async()=>{h({loading:!0,error:null});try{try{const d=await Ji.getRiskAreas();h({riskAreas:d.data,loading:!1})}catch{console.info("🔄 Modo desenvolvimento: usando dados mockados (backend não conectado)"),await new Promise(d=>setTimeout(d,100)),h({riskAreas:Vl,loading:!1})}}catch(d){h({error:d.message,loading:!1})}},selectArea:d=>{h({selectedAreaId:d})},toggleInfoPanel:d=>{h({isInfoPanelOpen:d}),d||h({selectedAreaId:null})},getSelectedArea:()=>{const{riskAreas:d,selectedAreaId:m}=v();return m&&Object.values(d).find(u=>u.id===m)||null},addRiskArea:async d=>{h({loading:!0,error:null});try{try{const r=(await Ji.createRiskArea(d)).data;h(u=>{const g=Object.keys(u.riskAreas).map(Number).filter(b=>!isNaN(b)),y=g.length>0?Math.max(...g)+1:1;return{riskAreas:{...u.riskAreas,[y]:r},loading:!1}})}catch{console.info("🔄 Modo desenvolvimento: adicionando área localmente (backend não conectado)"),await new Promise(m=>setTimeout(m,500)),h(m=>{const r=Object.keys(m.riskAreas).map(Number).filter(g=>!isNaN(g)),u=r.length>0?Math.max(...r)+1:1;return{riskAreas:{...m.riskAreas,[u]:d},loading:!1}})}}catch(m){throw h({error:m.message,loading:!1}),m}},updateRiskArea:async(d,m)=>{h({loading:!0,error:null});try{try{const u=(await Ji.updateRiskArea(d,m)).data;h(g=>{const y=Object.keys(g.riskAreas).find(b=>g.riskAreas[b].id===d);return y?{riskAreas:{...g.riskAreas,[y]:u},loading:!1}:{loading:!1}}),console.log("✅ Store: Área atualizada via API")}catch{console.info("🔄 Modo desenvolvimento: atualizando área localmente (backend não conectado)"),await new Promise(r=>setTimeout(r,500)),h(r=>{const u=Object.keys(r.riskAreas).find(g=>r.riskAreas[g].id===d);return u?{riskAreas:{...r.riskAreas,[u]:m},loading:!1}:{loading:!1}}),console.log("✅ Store: Área atualizada localmente")}}catch(r){throw console.error("❌ Store: Erro ao atualizar área:",r),h({error:r.message,loading:!1}),r}},removeRiskArea:d=>{h(m=>{const r={...m.riskAreas},u=Object.keys(r).find(g=>r[g].id===d);return u&&delete r[u],{riskAreas:r,selectedAreaId:m.selectedAreaId===d?null:m.selectedAreaId,isInfoPanelOpen:m.selectedAreaId===d?!1:m.isInfoPanelOpen}})},addArea:async d=>{h({loading:!0,error:null});try{return await new Promise(m=>setTimeout(m,500)),h(m=>{const r=`area_${Date.now()}`;return{riskAreas:{...m.riskAreas,[r]:d},loading:!1}}),!0}catch(m){return h({error:"Erro ao adicionar área de risco",loading:!1}),console.error("Erro ao adicionar área:",m),!1}},clearError:()=>{h({error:null})}}),{name:"sigar-risk-areas-storage",partialize:h=>({riskAreas:h.riskAreas})})),pp=as(ss((h,v)=>({isAuthenticated:!1,user:null,authToken:null,isLoginModalOpen:!1,loginActionTitle:"",loading:!1,error:null,toggleLoginModal:(d,m="")=>{h({isLoginModalOpen:d,loginActionTitle:m})},login:async d=>{h({loading:!0,error:null});try{try{const m=await Ji.login(d),{token:r,user:u}=m.data;return localStorage.setItem("authToken",r),h({isAuthenticated:!0,user:u,authToken:r,loading:!1,isLoginModalOpen:!1,loginActionTitle:""}),{success:!0}}catch{console.info("🔐 Modo desenvolvimento: simulando login (backend não conectado)"),await new Promise(u=>setTimeout(u,500));const m={id:1,username:d.username,name:d.username==="inspetor"?"Inspetor de Campo":"Usuário Simulado",role:d.username==="inspetor"?"inspector":"admin",email:`${d.username}@sigar.go.gov.br`},r="mock-jwt-token-"+Date.now();return localStorage.setItem("authToken",r),h({isAuthenticated:!0,user:m,authToken:r,loading:!1,isLoginModalOpen:!1,loginActionTitle:""}),{success:!0}}}catch(m){return h({error:"Erro ao fazer login. Verifique suas credenciais.",loading:!1}),{success:!1,error:m.message}}},logout:async()=>{try{await Ji.logout()}catch(d){console.warn("Erro ao fazer logout na API:",d.message)}localStorage.removeItem("authToken"),h({isAuthenticated:!1,user:null,authToken:null})},clearError:()=>{h({error:null})},initializeAuth:()=>{const d=localStorage.getItem("authToken");d&&h({isAuthenticated:!0,user:{id:1,username:"usuario.restaurado",name:"Usuário Restaurado",role:"admin",email:"usuario@sigar.go.gov.br"},authToken:d})}}),{name:"sigar-auth-storage",partialize:h=>({isAuthenticated:h.isAuthenticated,user:h.user,authToken:h.authToken})}));(function(h,v,d){function m(r,u){for(;(r=r.parentElement)&&!r.classList.contains(u););return r}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(r,u){this._map=r,this._container=r._container,this._overlayPane=r._panes.overlayPane,this._popupPane=r._panes.popupPane,u&&u.shapeOptions&&(u.shapeOptions=L.Util.extend({},this.options.shapeOptions,u.shapeOptions)),L.setOptions(this,u);var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(L.DomUtil.disableTextSelection(),r.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(r){L.setOptions(this,r)},_fireCreatedEvent:function(r){this._map.fire(L.Draw.Event.CREATED,{layer:r,layerType:this.type})},_cancelDrawing:function(r){r.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(r,u){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,u&&u.drawError&&(u.drawError=L.Util.extend({},this.options.drawError,u.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,r,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var r=this._markers.pop(),u=this._poly,g=u.getLatLngs(),y=g.splice(-1,1)[0];this._poly.setLatLngs(g),this._markerGroup.removeLayer(r),u.getLatLngs().length<2&&this._map.removeLayer(u),this._vertexChanged(y,!1)}},addVertex:function(r){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(r))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(r)),this._poly.addLatLng(r),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(r,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var r=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),u=this._poly.newLatLngIntersects(r[r.length-1]);if(!this.options.allowIntersection&&u||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(r){var u=this._map.mouseEventToLayerPoint(r.originalEvent),g=this._map.layerPointToLatLng(u);this._currentLatLng=g,this._updateTooltip(g),this._updateGuide(u),this._mouseMarker.setLatLng(g),L.DomEvent.preventDefault(r.originalEvent)},_vertexChanged:function(r,u){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(r,u),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(r){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(r),this._clickHandled=!0,this._disableNewMarkers();var u=r.originalEvent,g=u.clientX,y=u.clientY;this._startPoint.call(this,g,y)}},_startPoint:function(r,u){this._mouseDownOrigin=L.point(r,u)},_onMouseUp:function(r){var u=r.originalEvent,g=u.clientX,y=u.clientY;this._endPoint.call(this,g,y,r),this._clickHandled=null},_endPoint:function(r,u,g){if(this._mouseDownOrigin){var y=L.point(r,u).distanceTo(this._mouseDownOrigin),b=this._calculateFinishDistance(g.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(g.latlng),this._finishShape()):b<10&&L.Browser.touch?this._finishShape():Math.abs(y)<9*(h.devicePixelRatio||1)&&this.addVertex(g.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(r){var u,g,y=r.originalEvent;!y.touches||!y.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(u=y.touches[0].clientX,g=y.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,u,g),this._endPoint.call(this,u,g,r),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(r){var u;if(this._markers.length>0){var g;if(this.type===L.Draw.Polyline.TYPE)g=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;g=this._markers[0]}var y=this._map.latLngToContainerPoint(g.getLatLng()),b=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),w=this._map.latLngToContainerPoint(b.getLatLng());u=y.distanceTo(w)}else u=1/0;return u},_updateFinishHandler:function(){var r=this._markers.length;r>1&&this._markers[r-1].on("click",this._finishShape,this),r>2&&this._markers[r-2].off("click",this._finishShape,this)},_createMarker:function(r){var u=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(u),u},_updateGuide:function(r){var u=this._markers?this._markers.length:0;u>0&&(r=r||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[u-1].getLatLng()),r))},_updateTooltip:function(r){var u=this._getTooltipText();r&&this._tooltip.updatePosition(r),this._errorShown||this._tooltip.updateContent(u)},_drawGuide:function(r,u){var g,y,b,w=Math.floor(Math.sqrt(Math.pow(u.x-r.x,2)+Math.pow(u.y-r.y,2))),N=this.options.guidelineDistance,T=this.options.maxGuideLineLength,k=w>T?w-T:N;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));k<w;k+=this.options.guidelineDistance)g=k/w,y={x:Math.floor(r.x*(1-g)+g*u.x),y:Math.floor(r.y*(1-g)+g*u.y)},b=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),b.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(b,y)},_updateGuideColor:function(r){if(this._guidesContainer)for(var u=0,g=this._guidesContainer.childNodes.length;u<g;u++)this._guidesContainer.childNodes[u].style.backgroundColor=r},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var r,u,g=this.options.showLength;return this._markers.length===0?r={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(u=g?this._getMeasurementString():"",r=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:u}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:u}),r},_updateRunningMeasure:function(r,u){var g,y,b=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(g=b-(u?2:1),y=L.GeometryUtil.isVersion07x()?r.distanceTo(this._markers[g].getLatLng())*(this.options.factor||1):this._map.distance(r,this._markers[g].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=y*(u?1:-1))},_getMeasurementString:function(){var r,u=this._currentLatLng,g=this._markers[this._markers.length-1].getLatLng();return r=L.GeometryUtil.isVersion07x()?g&&u&&u.distanceTo?this._measurementRunningTotal+u.distanceTo(g)*(this.options.factor||1):this._measurementRunningTotal||0:g&&u?this._measurementRunningTotal+this._map.distance(u,g)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(r,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var r=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(r,u){L.Draw.Polyline.prototype.initialize.call(this,r,u),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var r=this._markers.length;r===1&&this._markers[0].on("click",this._finishShape,this),r>2&&(this._markers[r-1].on("dblclick",this._finishShape,this),r>3&&this._markers[r-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var r,u;return this._markers.length===0?r=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(r=L.drawLocal.draw.handlers.polygon.tooltip.cont,u=this._getMeasurementString()):(r=L.drawLocal.draw.handlers.polygon.tooltip.end,u=this._getMeasurementString()),{text:r,subtext:u}},_getMeasurementString:function(){var r=this._area,u="";return r||this.options.showLength?(this.options.showLength&&(u=L.Draw.Polyline.prototype._getMeasurementString.call(this)),r&&(u+="<br>"+L.GeometryUtil.readableArea(r,this.options.metric,this.options.precision)),u):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(r,u){var g;!this.options.allowIntersection&&this.options.showArea&&(g=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(g)),L.Draw.Polyline.prototype._vertexChanged.call(this,r,u)},_cleanUpShape:function(){var r=this._markers.length;r>0&&(this._markers[0].off("click",this._finishShape,this),r>2&&this._markers[r-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(r,u){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,r,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),v.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(v,"mouseup",this._onMouseUp,this),L.DomEvent.off(v,"touchend",this._onMouseUp,this),v.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(r){this._isDrawing=!0,this._startLatLng=r.latlng,L.DomEvent.on(v,"mouseup",this._onMouseUp,this).on(v,"touchend",this._onMouseUp,this).preventDefault(r.originalEvent)},_onMouseMove:function(r){var u=r.latlng;this._tooltip.updatePosition(u),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(u))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(r,u){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,u)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(r){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!m(r.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(r){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,r)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,r),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_getTooltipText:function(){var r,u,g,y=L.Draw.SimpleShape.prototype._getTooltipText.call(this),b=this._shape,w=this.options.showArea;return b&&(r=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),u=L.GeometryUtil.geodesicArea(r),g=w?L.GeometryUtil.readableArea(u,this.options.metric):""),{text:y.text,subtext:g}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(r,u){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,u)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(r){var u=r.latlng;this._tooltip.updatePosition(u),this._mouseMarker.setLatLng(u),this._marker?(u=this._mouseMarker.getLatLng(),this._marker.setLatLng(u)):(this._marker=this._createMarker(u),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(r){return new L.Marker(r,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(r){this._onMouseMove(r),this._onClick()},_fireCreatedEvent:function(){var r=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(r,u){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,u)},_fireCreatedEvent:function(){var r=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)},_createMarker:function(r){return new L.CircleMarker(r,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(r,u){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,u)},_drawShape:function(r){if(L.GeometryUtil.isVersion07x())var u=this._startLatLng.distanceTo(r);else var u=this._map.distance(this._startLatLng,r);this._shape?this._shape.setRadius(u):(this._shape=new L.Circle(this._startLatLng,u,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_onMouseMove:function(r){var u,g=r.latlng,y=this.options.showRadius,b=this.options.metric;if(this._tooltip.updatePosition(g),this._isDrawing){this._drawShape(g),u=this._shape.getRadius().toFixed(1);var w="";y&&(w=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(u,b,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:w})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(r,u){this._marker=r,L.setOptions(this,u)},addHooks:function(){var r=this._marker;r.dragging.enable(),r.on("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},removeHooks:function(){var r=this._marker;r.dragging.disable(),r.off("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},_onDragEnd:function(r){var u=r.target;u.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:u})},_toggleMarkerHighlight:function(){var r=this._marker._icon;r&&(r.style.display="none",L.DomUtil.hasClass(r,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,-4)):(L.DomUtil.addClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,4)),r.style.display="")},_offsetMarker:function(r,u){var g=parseInt(r.style.marginTop,10)-u,y=parseInt(r.style.marginLeft,10)-u;r.style.marginTop=g+"px",r.style.marginLeft=y+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(r){this.latlngs=[r._latlngs],r._holes&&(this.latlngs=this.latlngs.concat(r._holes)),this._poly=r,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(r){for(var u=0;u<this._verticesHandlers.length;u++)r(this._verticesHandlers[u])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(r){r.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(r){r.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(r){r.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var r=0;r<this.latlngs.length;r++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[r],this._poly.options.poly))},_updateLatLngs:function(r){this.latlngs=[r.layer._latlngs],r.layer._holes&&(this.latlngs=this.latlngs.concat(r.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(r,u,g){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=r,g&&g.drawError&&(g.drawError=L.Util.extend({},this.options.drawError,g.drawError)),this._latlngs=u,L.setOptions(this,g)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var r=this._poly,u=r._path;r instanceof L.Polygon||(r.options.fill=!1,r.options.editing&&(r.options.editing.fill=!1)),u&&r.options.editing&&r.options.editing.className&&(r.options.original.className&&r.options.original.className.split(" ").forEach(function(g){L.DomUtil.removeClass(u,g)}),r.options.editing.className.split(" ").forEach(function(g){L.DomUtil.addClass(u,g)})),r.setStyle(r.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var r=this._poly,u=r._path;u&&r.options.editing&&r.options.editing.className&&(r.options.editing.className.split(" ").forEach(function(g){L.DomUtil.removeClass(u,g)}),r.options.original.className&&r.options.original.className.split(" ").forEach(function(g){L.DomUtil.addClass(u,g)})),r.setStyle(r.options.original),r._map&&(r._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var r,u,g,y,b=this._defaultShape();for(r=0,g=b.length;r<g;r++)y=this._createMarker(b[r],r),y.on("click",this._onMarkerClick,this),y.on("contextmenu",this._onContextMenu,this),this._markers.push(y);var w,N;for(r=0,u=g-1;r<g;u=r++)(r!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(w=this._markers[u],N=this._markers[r],this._createMiddleMarker(w,N),this._updatePrevNext(w,N))},_createMarker:function(r,u){var g=new L.Marker.Touch(r,{draggable:!0,icon:this.options.icon});return g._origLatLng=r,g._index=u,g.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(g),g},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var r=this._defaultShape(),u=[].splice.apply(r,arguments);return this._poly._convertLatLngs(r,!0),this._poly.redraw(),u},_removeMarker:function(r){var u=r._index;this._markerGroup.removeLayer(r),this._markers.splice(u,1),this._spliceLatLngs(u,1),this._updateIndexes(u,-1),r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(r){var u=r.target,g=this._poly,y=L.LatLngUtil.cloneLatLng(u._origLatLng);if(L.extend(u._origLatLng,u._latlng),g.options.poly){var b=g._map._editTooltip;if(!g.options.poly.allowIntersection&&g.intersects()){L.extend(u._origLatLng,y),u.setLatLng(y);var w=g.options.color;g.setStyle({color:this.options.drawError.color}),b&&b.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){g.setStyle({color:w}),b&&b.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}u._middleLeft&&u._middleLeft.setLatLng(this._getMiddleLatLng(u._prev,u)),u._middleRight&&u._middleRight.setLatLng(this._getMiddleLatLng(u,u._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var N=this._poly.getLatLngs();this._poly._convertLatLngs(N,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(r){var u=L.Polygon&&this._poly instanceof L.Polygon?4:3,g=r.target;this._defaultShape().length<u||(this._removeMarker(g),this._updatePrevNext(g._prev,g._next),g._middleLeft&&this._markerGroup.removeLayer(g._middleLeft),g._middleRight&&this._markerGroup.removeLayer(g._middleRight),g._prev&&g._next?this._createMiddleMarker(g._prev,g._next):g._prev?g._next||(g._prev._middleRight=null):g._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(r){var u=r.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:u,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(r){var u=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),g=this._map.layerPointToLatLng(u),y=r.target;L.extend(y._origLatLng,g),y._middleLeft&&y._middleLeft.setLatLng(this._getMiddleLatLng(y._prev,y)),y._middleRight&&y._middleRight.setLatLng(this._getMiddleLatLng(y,y._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(r,u){this._markerGroup.eachLayer(function(g){g._index>r&&(g._index+=u)})},_createMiddleMarker:function(r,u){var g,y,b,w=this._getMiddleLatLng(r,u),N=this._createMarker(w);N.setOpacity(.6),r._middleRight=u._middleLeft=N,y=function(){N.off("touchmove",y,this);var T=u._index;N._index=T,N.off("click",g,this).on("click",this._onMarkerClick,this),w.lat=N.getLatLng().lat,w.lng=N.getLatLng().lng,this._spliceLatLngs(T,0,w),this._markers.splice(T,0,N),N.setOpacity(1),this._updateIndexes(T,1),u._index++,this._updatePrevNext(r,N),this._updatePrevNext(N,u),this._poly.fire("editstart")},b=function(){N.off("dragstart",y,this),N.off("dragend",b,this),N.off("touchmove",y,this),this._createMiddleMarker(r,N),this._createMiddleMarker(N,u)},g=function(){y.call(this),b.call(this),this._fireEdit()},N.on("click",g,this).on("dragstart",y,this).on("dragend",b,this).on("touchmove",y,this),this._markerGroup.addLayer(N)},_updatePrevNext:function(r,u){r&&(r._next=u),u&&(u._prev=r)},_getMiddleLatLng:function(r,u){var g=this._poly._map,y=g.project(r.getLatLng()),b=g.project(u.getLatLng());return g.unproject(y._add(b)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(r,u){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=r,L.Util.setOptions(this,u)},addHooks:function(){var r=this._shape;this._shape._map&&(this._map=this._shape._map,r.setStyle(r.options.editing),r._map&&(this._map=r._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var r=this._shape;if(r.setStyle(r.options.original),r._map){this._unbindMarker(this._moveMarker);for(var u=0,g=this._resizeMarkers.length;u<g;u++)this._unbindMarker(this._resizeMarkers[u]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(r,u){var g=new L.Marker.Touch(r,{draggable:!0,icon:u,zIndexOffset:10});return this._bindMarker(g),this._markerGroup.addLayer(g),g},_bindMarker:function(r){r.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(r){r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(r){r.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(r){var u=r.target,g=u.getLatLng();u===this._moveMarker?this._move(g):this._resize(g),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(r){r.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(r){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r),typeof this._getCorners=="function"){var u=this._getCorners(),g=r.target,y=g._cornerIndex;g.setOpacity(0),this._oppositeCorner=u[(y+2)%4],this._toggleCornerMarkers(0,y)}this._shape.fire("editstart")},_onTouchMove:function(r){var u=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),g=this._map.layerPointToLatLng(u);return r.target===this._moveMarker?this._move(g):this._resize(g),this._shape.redraw(),!1},_onTouchEnd:function(r){r.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getBounds(),u=r.getCenter();this._moveMarker=this._createMarker(u,this.options.moveIcon)},_createResizeMarker:function(){var r=this._getCorners();this._resizeMarkers=[];for(var u=0,g=r.length;u<g;u++)this._resizeMarkers.push(this._createMarker(r[u],this.options.resizeIcon)),this._resizeMarkers[u]._cornerIndex=u},_onMarkerDragStart:function(r){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r);var u=this._getCorners(),g=r.target,y=g._cornerIndex;this._oppositeCorner=u[(y+2)%4],this._toggleCornerMarkers(0,y)},_onMarkerDragEnd:function(r){var u,g,y=r.target;y===this._moveMarker&&(u=this._shape.getBounds(),g=u.getCenter(),y.setLatLng(g)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,r)},_move:function(r){for(var u,g=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),y=this._shape.getBounds(),b=y.getCenter(),w=[],N=0,T=g.length;N<T;N++)u=[g[N].lat-b.lat,g[N].lng-b.lng],w.push([r.lat+u[0],r.lng+u[1]]);this._shape.setLatLngs(w),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(r){var u;this._shape.setBounds(L.latLngBounds(r,this._oppositeCorner)),u=this._shape.getBounds(),this._moveMarker.setLatLng(u.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var r=this._shape.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_toggleCornerMarkers:function(r){for(var u=0,g=this._resizeMarkers.length;u<g;u++)this._resizeMarkers[u].setOpacity(r)},_repositionCornerMarkers:function(){for(var r=this._getCorners(),u=0,g=this._resizeMarkers.length;u<g;u++)this._resizeMarkers[u].setLatLng(r[u])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getLatLng();this._moveMarker=this._createMarker(r,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(r){if(this._resizeMarkers.length){var u=this._getResizeMarkerPoint(r);this._resizeMarkers[0].setLatLng(u)}this._shape.setLatLng(r),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var r=this._shape.getLatLng(),u=this._getResizeMarkerPoint(r);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(u,this.options.resizeIcon))},_getResizeMarkerPoint:function(r){var u=this._shape._radius*Math.cos(Math.PI/4),g=this._map.project(r);return this._map.unproject([g.x+u,g.y-u])},_resize:function(r){var u=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=u.distanceTo(r):radius=this._map.distance(u,r),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(r,u){var g={};if(r.touches!==void 0){if(!r.touches.length)return;g=r.touches[0]}else if(r.pointerType!=="touch"||(g=r,!this._filterClick(r)))return;var y=this._map.mouseEventToContainerPoint(g),b=this._map.mouseEventToLayerPoint(g),w=this._map.layerPointToLatLng(b);this._map.fire(u,{latlng:w,layerPoint:b,containerPoint:y,pageX:g.pageX,pageY:g.pageY,originalEvent:r})},_filterClick:function(r){var u=r.timeStamp||r.originalEvent.timeStamp,g=L.DomEvent._lastClick&&u-L.DomEvent._lastClick;return g&&g>100&&g<500||r.target._simulatedClick&&!r._simulated?(L.DomEvent.stop(r),!1):(L.DomEvent._lastClick=u,!0)},_onTouchStart:function(r){this._map._loaded&&this._touchEvent(r,"touchstart")},_onTouchEnd:function(r){this._map._loaded&&this._touchEvent(r,"touchend")},_onTouchCancel:function(r){if(this._map._loaded){var u="touchcancel";this._detectIE()&&(u="pointercancel"),this._touchEvent(r,u)}},_onTouchLeave:function(r){this._map._loaded&&this._touchEvent(r,"touchleave")},_onTouchMove:function(r){this._map._loaded&&this._touchEvent(r,"touchmove")},_detectIE:function(){var r=h.navigator.userAgent,u=r.indexOf("MSIE ");if(u>0)return parseInt(r.substring(u+5,r.indexOf(".",u)),10);if(r.indexOf("Trident/")>0){var g=r.indexOf("rv:");return parseInt(r.substring(g+3,r.indexOf(".",g)),10)}var y=r.indexOf("Edge/");return y>0&&parseInt(r.substring(y+5,r.indexOf(".",y)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var r=this._icon,u=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?u.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):u.concat(["touchcancel"]),L.DomUtil.addClass(r,"leaflet-clickable"),L.DomEvent.on(r,"click",this._onMouseClick,this),L.DomEvent.on(r,"keypress",this._onKeyPress,this);for(var g=0;g<u.length;g++)L.DomEvent.on(r,u[g],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var r=h.navigator.userAgent,u=r.indexOf("MSIE ");if(u>0)return parseInt(r.substring(u+5,r.indexOf(".",u)),10);if(r.indexOf("Trident/")>0){var g=r.indexOf("rv:");return parseInt(r.substring(g+3,r.indexOf(".",g)),10)}var y=r.indexOf("Edge/");return y>0&&parseInt(r.substring(y+5,r.indexOf(".",y)),10)}}),L.LatLngUtil={cloneLatLngs:function(r){for(var u=[],g=0,y=r.length;g<y;g++)Array.isArray(r[g])?u.push(L.LatLngUtil.cloneLatLngs(r[g])):u.push(this.cloneLatLng(r[g]));return u},cloneLatLng:function(r){return L.latLng(r.lat,r.lng)}},function(){var r={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(u){var g,y,b=u.length,w=0,N=Math.PI/180;if(b>2){for(var T=0;T<b;T++)g=u[T],y=u[(T+1)%b],w+=(y.lng-g.lng)*N*(2+Math.sin(g.lat*N)+Math.sin(y.lat*N));w=6378137*w*6378137/2}return Math.abs(w)},formattedNumber:function(u,g){var y=parseFloat(u).toFixed(g),b=L.drawLocal.format&&L.drawLocal.format.numeric,w=b&&b.delimiters,N=w&&w.thousands,T=w&&w.decimal;if(N||T){var k=y.split(".");y=N?k[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+N):k[0],T=T||".",k.length>1&&(y=y+T+k[1])}return y},readableArea:function(u,g,N){var b,w,N=L.Util.extend({},r,N);return g?(w=["ha","m"],type=typeof g,type==="string"?w=[g]:type!=="boolean"&&(w=g),b=u>=1e6&&w.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*u,N.km)+" km²":u>=1e4&&w.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*u,N.ha)+" ha":L.GeometryUtil.formattedNumber(u,N.m)+" m²"):(u/=.836127,b=u>=3097600?L.GeometryUtil.formattedNumber(u/3097600,N.mi)+" mi²":u>=4840?L.GeometryUtil.formattedNumber(u/4840,N.ac)+" acres":L.GeometryUtil.formattedNumber(u,N.yd)+" yd²"),b},readableDistance:function(u,g,y,b,T){var N,T=L.Util.extend({},r,T);switch(g?typeof g=="string"?g:"metric":y?"feet":b?"nauticalMile":"yards"){case"metric":N=u>1e3?L.GeometryUtil.formattedNumber(u/1e3,T.km)+" km":L.GeometryUtil.formattedNumber(u,T.m)+" m";break;case"feet":u*=3.28083,N=L.GeometryUtil.formattedNumber(u,T.ft)+" ft";break;case"nauticalMile":u*=.53996,N=L.GeometryUtil.formattedNumber(u/1e3,T.nm)+" nm";break;case"yards":default:u*=1.09361,N=u>1760?L.GeometryUtil.formattedNumber(u/1760,T.mi)+" miles":L.GeometryUtil.formattedNumber(u,T.yd)+" yd"}return N},isVersion07x:function(){var u=L.version.split(".");return parseInt(u[0],10)===0&&parseInt(u[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(r,u,g,y){return this._checkCounterclockwise(r,g,y)!==this._checkCounterclockwise(u,g,y)&&this._checkCounterclockwise(r,u,g)!==this._checkCounterclockwise(r,u,y)},_checkCounterclockwise:function(r,u,g){return(g.y-r.y)*(u.x-r.x)>(u.y-r.y)*(g.x-r.x)}}),L.Polyline.include({intersects:function(){var r,u,g,y=this._getProjectedPoints(),b=y?y.length:0;if(this._tooFewPointsForIntersection())return!1;for(r=b-1;r>=3;r--)if(u=y[r-1],g=y[r],this._lineSegmentsIntersectsRange(u,g,r-2))return!0;return!1},newLatLngIntersects:function(r,u){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(r),u)},newPointIntersects:function(r,u){var g=this._getProjectedPoints(),y=g?g.length:0,b=g?g[y-1]:null,w=y-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(b,r,w,u?1:0)},_tooFewPointsForIntersection:function(r){var u=this._getProjectedPoints(),g=u?u.length:0;return g+=r||0,!u||g<=3},_lineSegmentsIntersectsRange:function(r,u,g,y){var b,w,N=this._getProjectedPoints();y=y||0;for(var T=g;T>y;T--)if(b=N[T-1],w=N[T],L.LineUtil.segmentsIntersect(r,u,b,w))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var r=[],u=this._defaultShape(),g=0;g<u.length;g++)r.push(this._map.latLngToLayerPoint(u[g]));return r}}),L.Polygon.include({intersects:function(){var r,u,g,y,b=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(r=b.length,u=b[0],g=b[r-1],y=r-2,this._lineSegmentsIntersectsRange(g,u,y,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(r){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,r);var u;this._toolbars={},L.DrawToolbar&&this.options.draw&&(u=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=u,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(u=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=u,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(r){var u,g=L.DomUtil.create("div","leaflet-draw"),y=!1;for(var b in this._toolbars)this._toolbars.hasOwnProperty(b)&&(u=this._toolbars[b].addToolbar(r))&&(y||(L.DomUtil.hasClass(u,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(u.childNodes[0],"leaflet-draw-toolbar-top"),y=!0),g.appendChild(u));return g},onRemove:function(){for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&this._toolbars[r].removeToolbar()},setDrawingOptions:function(r){for(var u in this._toolbars)this._toolbars[u]instanceof L.DrawToolbar&&this._toolbars[u].setOptions(r)},_toolbarEnabled:function(r){var u=r.target;for(var g in this._toolbars)this._toolbars[g]!==u&&this._toolbars[g].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(r){L.setOptions(this,r),this._modes={},this._actionButtons=[],this._activeMode=null;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(r){var u,g=L.DomUtil.create("div","leaflet-draw-section"),y=0,b=this._toolbarClass||"",w=this.getModeHandlers(r);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=r,u=0;u<w.length;u++)w[u].enabled&&this._initModeHandler(w[u].handler,this._toolbarContainer,y++,b,w[u].title);if(y)return this._lastButtonIndex=--y,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),g.appendChild(this._toolbarContainer),g.appendChild(this._actionsContainer),g},removeToolbar:function(){for(var r in this._modes)this._modes.hasOwnProperty(r)&&(this._disposeButton(this._modes[r].button,this._modes[r].handler.enable,this._modes[r].handler),this._modes[r].handler.disable(),this._modes[r].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var u=0,g=this._actionButtons.length;u<g;u++)this._disposeButton(this._actionButtons[u].button,this._actionButtons[u].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(r,u,g,y,b){var w=r.type;this._modes[w]={},this._modes[w].handler=r,this._modes[w].button=this._createButton({type:w,title:b,className:y+"-"+w,container:u,callback:this._modes[w].handler.enable,context:this._modes[w].handler}),this._modes[w].buttonIndex=g,this._modes[w].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!h.MSStream},_createButton:function(r){var u=L.DomUtil.create("a",r.className||"",r.container),g=L.DomUtil.create("span","sr-only",r.container);u.href="#",u.appendChild(g),r.title&&(u.title=r.title,g.innerHTML=r.title),r.text&&(u.innerHTML=r.text,g.innerHTML=r.text);var y=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(u,"click",L.DomEvent.stopPropagation).on(u,"mousedown",L.DomEvent.stopPropagation).on(u,"dblclick",L.DomEvent.stopPropagation).on(u,"touchstart",L.DomEvent.stopPropagation).on(u,"click",L.DomEvent.preventDefault).on(u,y,r.callback,r.context),u},_disposeButton:function(r,u){var g=this._detectIOS()?"touchstart":"click";L.DomEvent.off(r,"click",L.DomEvent.stopPropagation).off(r,"mousedown",L.DomEvent.stopPropagation).off(r,"dblclick",L.DomEvent.stopPropagation).off(r,"touchstart",L.DomEvent.stopPropagation).off(r,"click",L.DomEvent.preventDefault).off(r,g,u)},_handlerActivated:function(r){this.disable(),this._activeMode=this._modes[r.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(r){var u,g,y,b,w=this._actionsContainer,N=this.getActions(r),T=N.length;for(g=0,y=this._actionButtons.length;g<y;g++)this._disposeButton(this._actionButtons[g].button,this._actionButtons[g].callback);for(this._actionButtons=[];w.firstChild;)w.removeChild(w.firstChild);for(var k=0;k<T;k++)"enabled"in N[k]&&!N[k].enabled||(u=L.DomUtil.create("li","",w),b=this._createButton({title:N[k].title,text:N[k].text,container:u,callback:N[k].callback,context:N[k].context}),this._actionButtons.push({button:b,callback:N[k].callback}))},_showActionsToolbar:function(){var r=this._activeMode.buttonIndex,u=this._lastButtonIndex,g=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=g+"px",r===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),r===u&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(r){this._map=r,this._popupPane=r._panes.popupPane,this._visible=!1,this._container=r.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(r){return this._container?(r.subtext=r.subtext||"",r.subtext.length!==0||this._singleLineLabel?r.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(r.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+r.subtext+"</span><br />":"")+"<span>"+r.text+"</span>",r.text||r.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(r){var u=this._map.latLngToLayerPoint(r),g=this._container;return this._container&&(this._visible&&(g.style.visibility="inherit"),L.DomUtil.setPosition(g,u)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(r){for(var u in this.options)this.options.hasOwnProperty(u)&&r[u]&&(r[u]=L.extend({},this.options[u],r[u]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,r)},getModeHandlers:function(r){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(r,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(r,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(r,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(r,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(r,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(r,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(r){return[{enabled:r.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:r.completeShape,context:r},{enabled:r.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:r.deleteLastVertex,context:r},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(r){L.setOptions(this,r);for(var u in this._modes)this._modes.hasOwnProperty(u)&&r.hasOwnProperty(u)&&this._modes[u].handler.setOptions(r[u])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(r){r.edit&&(r.edit.selectedPathOptions===void 0&&(r.edit.selectedPathOptions=this.options.edit.selectedPathOptions),r.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,r.edit.selectedPathOptions)),r.remove&&(r.remove=L.extend({},this.options.remove,r.remove)),r.poly&&(r.poly=L.extend({},this.options.poly,r.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,r),this._selectedFeatureCount=0},getModeHandlers:function(r){var u=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(r,{featureGroup:u,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(r,{featureGroup:u}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(r){var u=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return r.removeAllLayers&&u.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),u},addToolbar:function(r){var u=L.Toolbar.prototype.addToolbar.call(this,r);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),u},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var r,u=this.options.featureGroup,g=u.getLayers().length!==0;this.options.edit&&(r=this._modes[L.EditToolbar.Edit.TYPE].button,g?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",g?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(r=this._modes[L.EditToolbar.Delete.TYPE].button,g?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",g?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(r,u){if(L.Handler.prototype.initialize.call(this,r),L.setOptions(this,u),this._featureGroup=u.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),r._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(r){this._revertLayer(r)},this)},save:function(){var r=new L.LayerGroup;this._featureGroup.eachLayer(function(u){u.edited&&(r.addLayer(u),u.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:r})},_backupLayer:function(r){var u=L.Util.stamp(r);this._uneditedLayerProps[u]||(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?this._uneditedLayerProps[u]={latlngs:L.LatLngUtil.cloneLatLngs(r.getLatLngs())}:r instanceof L.Circle?this._uneditedLayerProps[u]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng()),radius:r.getRadius()}:(r instanceof L.Marker||r instanceof L.CircleMarker)&&(this._uneditedLayerProps[u]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(r){var u=L.Util.stamp(r);r.edited=!1,this._uneditedLayerProps.hasOwnProperty(u)&&(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?r.setLatLngs(this._uneditedLayerProps[u].latlngs):r instanceof L.Circle?(r.setLatLng(this._uneditedLayerProps[u].latlng),r.setRadius(this._uneditedLayerProps[u].radius)):(r instanceof L.Marker||r instanceof L.CircleMarker)&&r.setLatLng(this._uneditedLayerProps[u].latlng),r.fire("revert-edited",{layer:r}))},_enableLayerEdit:function(r){var u,g,y=r.layer||r.target||r;this._backupLayer(y),this.options.poly&&(g=L.Util.extend({},this.options.poly),y.options.poly=g),this.options.selectedPathOptions&&(u=L.Util.extend({},this.options.selectedPathOptions),u.maintainColor&&(u.color=y.options.color,u.fillColor=y.options.fillColor),y.options.original=L.extend({},y.options),y.options.editing=u),y instanceof L.Marker?(y.editing&&y.editing.enable(),y.dragging.enable(),y.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):y.editing.enable()},_disableLayerEdit:function(r){var u=r.layer||r.target||r;u.edited=!1,u.editing&&u.editing.disable(),delete u.options.editing,delete u.options.original,this._selectedPathOptions&&(u instanceof L.Marker?this._toggleMarkerHighlight(u):(u.setStyle(u.options.previousOptions),delete u.options.previousOptions)),u instanceof L.Marker?(u.dragging.disable(),u.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):u.editing.disable()},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_onMarkerDragEnd:function(r){var u=r.target;u.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:u})},_onTouchMove:function(r){var u=r.originalEvent.changedTouches[0],g=this._map.mouseEventToLayerPoint(u),y=this._map.layerPointToLatLng(g);r.target.setLatLng(y)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(r,u){if(L.Handler.prototype.initialize.call(this,r),L.Util.setOptions(this,u),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(r){this._deletableLayers.addLayer(r),r.fire("revert-deleted",{layer:r})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(r){this._removeLayer({layer:r})},this),this.save()},_enableLayerDelete:function(r){(r.layer||r.target||r).on("click",this._removeLayer,this)},_disableLayerDelete:function(r){var u=r.layer||r.target||r;u.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(u)},_removeLayer:function(r){var u=r.layer||r.target||r;this._deletableLayers.removeLayer(u),this._deletedLayers.addLayer(u),u.fire("deleted")},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);const W_=({map:h,onAreaDrawn:v,isEnabled:d=!1})=>(le.useEffect(()=>{if(!h||!d)return;const m=new es.FeatureGroup;h.addLayer(m);const r=new es.Control.Draw({position:"topleft",edit:{featureGroup:m,remove:!0},draw:{polygon:{allowIntersection:!1,showArea:!0,drawError:{color:"#e1e100",message:"<strong>Erro:</strong> Você não pode desenhar assim!"},shapeOptions:{color:"#ff0000",weight:2,fillOpacity:.3}},polyline:{shapeOptions:{color:"#ff0000",weight:3,opacity:.8}},circle:{shapeOptions:{color:"#ff0000",weight:2,fillOpacity:.3}},rectangle:{shapeOptions:{color:"#ff0000",weight:2,fillOpacity:.3}},marker:{icon:new es.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})},circlemarker:{radius:10,shapeOptions:{color:"#ff0000",fillColor:"#ff0000",fillOpacity:.6}}}});h.addControl(r);const u=g=>{const y=g.layer;m.addLayer(y);let b=null,w=g.layerType;if(g.layerType==="polygon")b=y.getLatLngs()[0].map(T=>[T.lat,T.lng]);else if(g.layerType==="circle"){const T=y.getLatLng(),k=y.getRadius();b={center:[T.lat,T.lng],radius:k}}else if(g.layerType==="rectangle"){const T=y.getBounds();b=[[T.getSouthWest().lat,T.getSouthWest().lng],[T.getNorthEast().lat,T.getNorthEast().lng]]}else if(g.layerType==="polyline")b=y.getLatLngs().map(T=>[T.lat,T.lng]);else if(g.layerType==="marker"){const T=y.getLatLng();b=[T.lat,T.lng]}else if(g.layerType==="circlemarker"){const T=y.getLatLng(),k=y.getRadius();b={center:[T.lat,T.lng],radius:k}}let N=0;if(g.layerType==="polygon")N=es.GeometryUtil?es.GeometryUtil.geodesicArea(y.getLatLngs()[0]):0;else if(g.layerType==="circle")N=Math.PI*Math.pow(y.getRadius(),2);else if(g.layerType==="rectangle"){const T=y.getBounds(),k=T.getSouthWest(),P=T.getNorthEast(),H=k.distanceTo(es.latLng(k.lat,P.lng)),O=k.distanceTo(es.latLng(P.lat,k.lng));N=H*O}else if(g.layerType==="polyline"){const T=y.getLatLngs();let k=0;for(let P=0;P<T.length-1;P++)k+=T[P].distanceTo(T[P+1]);N=k}else if(g.layerType==="circlemarker"){const k=y.getRadius()*1;N=Math.PI*Math.pow(k,2)}else g.layerType==="marker"&&(N=0);v({coordinates:b,areaType:w,areaSize:Math.round(N),layer:y})};return h.on("draw:created",u),()=>{h.off("draw:created",u),h.removeControl(r),h.removeLayer(m)}},[h,v,d]),null),$_=({isOpen:h,onClose:v,areaData:d})=>{const{addArea:m,isLoading:r}=wd(),u=(R,J)=>{const G={polygon:"Polígono",circle:"Círculo",rectangle:"Retângulo",polyline:"Linha/Trajeto",marker:"Marcador",circlemarker:"Marcador Circular"}[R]||R;return!J||J===0?G:R==="polyline"?J>=1e3?`${G} • ${(J/1e3).toFixed(2)} km`:`${G} • ${J.toFixed(0)} metros`:R==="marker"?G:J>=1e6?`${G} • ${(J/1e6).toFixed(2)} km²`:J>=1e4?`${G} • ${(J/1e4).toFixed(2)} hectares`:`${G} • ${J.toFixed(0)} m²`},[g,y]=le.useState({nome:"",municipio:"Goiânia",bairro:"",tipoRisco:"",nivelAmeaca:"",populacaoAfetada:"",descricao:"",observacoes:""}),[b,w]=le.useState({}),N=[{value:"DESLIZAMENTO",label:"Deslizamento de Terra"},{value:"INUNDACAO",label:"Inundação"},{value:"ALAGAMENTO",label:"Alagamento"},{value:"EROSAO",label:"Erosão"},{value:"CONTAMINACAO",label:"Contaminação do Solo"},{value:"INCENDIO",label:"Risco de Incêndio"},{value:"ESTRUTURAL",label:"Risco Estrutural"},{value:"OUTRO",label:"Outro"}],T=[{value:"BAIXO",label:"Baixo",color:"text-green-600"},{value:"MEDIO",label:"Médio",color:"text-yellow-600"},{value:"ALTO",label:"Alto",color:"text-orange-600"},{value:"MUITO_ALTO",label:"Muito Alto",color:"text-red-600"}],k=()=>{const R={};return g.nome.trim()||(R.nome="Nome da área é obrigatório"),g.bairro.trim()||(R.bairro="Bairro é obrigatório"),g.tipoRisco||(R.tipoRisco="Tipo de risco é obrigatório"),g.nivelAmeaca||(R.nivelAmeaca="Nível de ameaça é obrigatório"),g.descricao.trim()?g.descricao.trim().length<20&&(R.descricao="Descrição deve ter pelo menos 20 caracteres"):R.descricao="Descrição é obrigatória",g.populacaoAfetada&&(isNaN(g.populacaoAfetada)||parseInt(g.populacaoAfetada)<0)&&(R.populacaoAfetada="População deve ser um número válido"),w(R),Object.keys(R).length===0},P=async R=>{var J,ce,G,ne;if(R.preventDefault(),!!k())try{const W={id:`AREA-${Date.now()}`,nome:g.nome.trim(),municipio:g.municipio,bairro:g.bairro.trim(),tipoRisco:g.tipoRisco,nivelAmeaca:g.nivelAmeaca,populacaoAfetada:parseInt(g.populacaoAfetada)||0,descricao:g.descricao.trim(),observacoes:g.observacoes.trim(),dataCadastro:new Date().toISOString().split("T")[0],status:"ATIVA",coordinates:d==null?void 0:d.coordinates,areaType:d==null?void 0:d.areaType,areaSize:d==null?void 0:d.areaSize,lat:((ce=(J=d==null?void 0:d.coordinates)==null?void 0:J[0])==null?void 0:ce[0])||0,lng:((ne=(G=d==null?void 0:d.coordinates)==null?void 0:G[0])==null?void 0:ne[1])||0};await m(W)&&(H(),alert(`✅ Área de risco "${W.nome}" cadastrada com sucesso!

ID: ${W.id}
Tipo: ${u(d==null?void 0:d.areaType,d==null?void 0:d.areaSize)}`))}catch(W){console.error("Erro ao cadastrar área:",W),alert("Erro ao cadastrar área. Tente novamente.")}},H=()=>{y({nome:"",municipio:"Goiânia",bairro:"",tipoRisco:"",nivelAmeaca:"",populacaoAfetada:"",descricao:"",observacoes:""}),w({}),v()},O=(R,J)=>{y(ce=>({...ce,[R]:J})),b[R]&&w(ce=>({...ce,[R]:""}))};return!h||!d?null:hi.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-green-600 text-white p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:"Cadastrar Nova Área de Risco"}),o.jsxs("p",{className:"text-green-100 text-sm mt-1",children:["Área desenhada: ",u(d.areaType,d.areaSize)]})]}),o.jsx("button",{onClick:H,className:"text-white hover:text-green-200 text-2xl font-bold",children:"×"})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:o.jsx("form",{onSubmit:P,noValidate:!0,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nome",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nome da Área *"}),o.jsx("input",{id:"nome",type:"text",value:g.nome,onChange:R=>O("nome",R.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${b.nome?"border-red-500":"border-gray-300"}`,placeholder:"Ex: Encosta do Morro das Pedras"}),b.nome&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.nome})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"municipio",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Município *"}),o.jsxs("select",{id:"municipio",value:g.municipio,onChange:R=>O("municipio",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[o.jsx("option",{value:"Goiânia",children:"Goiânia"}),o.jsx("option",{value:"Aparecida de Goiânia",children:"Aparecida de Goiânia"}),o.jsx("option",{value:"Anápolis",children:"Anápolis"}),o.jsx("option",{value:"Outro",children:"Outro"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"bairro",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bairro *"}),o.jsx("input",{id:"bairro",type:"text",value:g.bairro,onChange:R=>O("bairro",R.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${b.bairro?"border-red-500":"border-gray-300"}`,placeholder:"Ex: Setor Central"}),b.bairro&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.bairro})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tipo de Risco *"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:N.map(R=>o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 border rounded hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"tipoRisco",value:R.value,checked:g.tipoRisco===R.value,onChange:J=>O("tipoRisco",J.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"}),o.jsx("span",{className:"text-sm",children:R.label})]},R.value))}),b.tipoRisco&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.tipoRisco})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nível de Ameaça *"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:T.map(R=>o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 border rounded hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"nivelAmeaca",value:R.value,checked:g.nivelAmeaca===R.value,onChange:J=>O("nivelAmeaca",J.target.value),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"}),o.jsx("span",{className:`text-sm font-medium ${R.color}`,children:R.label})]},R.value))}),b.nivelAmeaca&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.nivelAmeaca})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"populacaoAfetada",className:"block text-sm font-semibold text-gray-700 mb-2",children:"População Afetada (estimativa)"}),o.jsx("input",{id:"populacaoAfetada",type:"number",min:"0",value:g.populacaoAfetada,onChange:R=>O("populacaoAfetada",R.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${b.populacaoAfetada?"border-red-500":"border-gray-300"}`,placeholder:"Ex: 150"}),b.populacaoAfetada&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.populacaoAfetada})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"descricao",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descrição Detalhada *"}),o.jsx("textarea",{id:"descricao",rows:"4",value:g.descricao,onChange:R=>O("descricao",R.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none ${b.descricao?"border-red-500":"border-gray-300"}`,placeholder:"Descreva as características da área, histórico de ocorrências, condições do terreno, proximidade de moradias..."}),o.jsxs("div",{className:"flex justify-between mt-1",children:[b.descricao&&o.jsx("p",{className:"text-red-600 text-sm",children:b.descricao}),o.jsxs("p",{className:"text-gray-500 text-sm ml-auto",children:[g.descricao.length,"/500 caracteres"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"observacoes",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Observações Adicionais"}),o.jsx("textarea",{id:"observacoes",rows:"3",value:g.observacoes,onChange:R=>O("observacoes",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Informações complementares, contatos de referência, medidas já tomadas..."})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:r,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:r?"Cadastrando...":"Cadastrar Área de Risco"})})]})})})]})}),document.body)},e0=({isDrawMode:h=!1,onDrawModeChange:v})=>{const{riskAreas:d,selectArea:m,fetchRiskAreas:r,toggleInfoPanel:u}=wd(),{isLoginModalOpen:g}=pp(),y=le.useRef(null),[b,w]=le.useState(!1),[N,T]=le.useState(null),k=[-15.9339,-49.8333];le.useEffect(()=>{r()},[r]);const P=G=>{g||m(G.id)},H=G=>{g||(m(G.id),u(!0))},O=G=>{T(G),w(!0),v&&v(!1)},R=G=>{y.current=G},J=G=>{switch(G==null?void 0:G.toLowerCase()){case"alto":return"#ef4444";case"médio":return"#f97316";case"baixo":return"#eab308";default:return"#6b7280"}},ce=G=>{switch(G==null?void 0:G.toLowerCase()){case"alto":return"bg-red-100 text-red-800 border-red-200";case"médio":return"bg-orange-100 text-orange-800 border-orange-200";case"baixo":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return o.jsxs("div",{style:{height:"100vh",width:"100%",position:"relative",zIndex:1},children:[o.jsxs(F_,{center:k,zoom:8,style:{height:"100%",width:"100%",zIndex:1},zoomControl:!0,scrollWheelZoom:!0,doubleClickZoom:!0,touchZoom:!0,boxZoom:!0,keyboard:!0,dragging:!0,whenReady:({target:G})=>R(G),children:[o.jsx(J_,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.jsx(W_,{map:y.current,onAreaDrawn:O,isEnabled:h}),Object.values(d).map(G=>o.jsx(K_,{positions:G.coordenadas,pathOptions:{color:G.corMapa,fillColor:G.corMapa,fillOpacity:G.opacidadeMapa,weight:2},eventHandlers:{click:()=>P(G)},children:o.jsx(Q_,{className:"modern-popup",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 min-w-[300px] max-w-[400px]",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:G.nome}),o.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",G.id]})]}),G.nivelAmeaca&&o.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border mb-3 ${ce(G.nivelAmeaca)}`,children:[o.jsx("div",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:J(G.nivelAmeaca)}}),G.nivelAmeaca," Risco"]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[G.municipio&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium text-gray-700 w-20",children:"Local:"}),o.jsxs("span",{className:"text-gray-600",children:[G.municipio,G.bairro&&`, ${G.bairro}`]})]}),G.tipoRisco&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium text-gray-700 w-20",children:"Tipo:"}),o.jsx("span",{className:"text-gray-600",children:G.tipoRisco})]}),G.responsavelDC&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium text-gray-700 w-20",children:"Técnico:"}),o.jsx("span",{className:"text-gray-600",children:G.responsavelDC})]}),G.dataCadastro&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium text-gray-700 w-20",children:"Cadastro:"}),o.jsx("span",{className:"text-gray-600",children:G.dataCadastro})]})]}),G.descricao&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsx("p",{className:"text-xs text-gray-600 line-clamp-3",children:G.descricao})}),o.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-3 space-x-4"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:ne=>{ne.preventDefault(),alert("Funcionalidade de envio de anexo será implementada em breve.")},className:"flex items-center text-xs text-blue-600 hover:text-blue-800 transition-colors",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),"Enviar anexo"]}),o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{onClick:()=>H(G),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded-md hover:bg-blue-700 transition-colors",children:"Ver detalhes"})})]})]})]})})},G.id))]}),o.jsx($_,{isOpen:b,onClose:()=>w(!1),areaData:N})]})},t0=()=>{const{isLoginModalOpen:h,loginActionTitle:v,toggleLoginModal:d,login:m,loading:r,error:u,clearError:g}=zt(),[y,b]=le.useState(""),[w,N]=le.useState(""),[T,k]=le.useState("");le.useEffect(()=>{const R=J=>{J.key==="Escape"&&h&&P()};return h&&(document.addEventListener("keydown",R),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",R),document.body.style.overflow="unset"}},[h]);const P=()=>{d(!1),b(""),N(""),k(""),g()},H=async R=>{if(R.preventDefault(),k(""),!y.trim()||!w.trim()){k("Por favor, preencha todos os campos.");return}const J=await m({username:y,password:w});J.success?(b(""),N("")):k(J.error||"Erro ao fazer login")};if(!h)return null;const O=o.jsxs("div",{className:"modal-overlay fixed inset-0 z-[9999] overflow-y-auto",style:{zIndex:9999},children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:P,style:{zIndex:9998}}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",style:{zIndex:9999,position:"relative"},children:o.jsx("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",onClick:R=>R.stopPropagation(),children:o.jsxs("div",{className:"bg-white px-8 pt-8 pb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-2xl font-semibold text-gray-800",children:["Login: ",v]}),o.jsx("button",{onClick:P,className:"text-gray-500 hover:text-gray-800 text-xl p-1",type:"button",children:o.jsx("i",{className:"fas fa-times"})})]}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["Para ",v==null?void 0:v.toLowerCase(),", por favor, insira suas credenciais."]}),(T||u)&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:o.jsx("p",{className:"text-sm",children:T||u})}),o.jsxs("form",{onSubmit:H,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuário (CPF ou Matrícula)"}),o.jsx("input",{type:"text",id:"username",name:"username",value:y,onChange:R=>b(R.target.value),disabled:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0,autoFocus:!0})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),o.jsx("input",{type:"password",id:"password",name:"password",value:w,onChange:R=>N(R.target.value),disabled:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!0})]}),o.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white font-semibold py-2.5 px-4 rounded-lg transition duration-150 flex items-center justify-center",children:r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Entrando..."]}):"Entrar"})]})]})})})]});return hi.createPortal(O,document.body)},i0=()=>{const{loading:h}=zt();return h?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex items-center space-x-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsx("span",{className:"text-gray-700 font-medium",children:"Carregando..."})]})}):null},n0=()=>{const{error:h,clearError:v}=zt();return le.useEffect(()=>{if(h){const d=setTimeout(()=>{v()},5e3);return()=>clearTimeout(d)}},[h,v]),h?o.jsx("div",{className:"fixed top-20 right-4 z-50 max-w-sm",children:o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Erro"})]}),o.jsx("button",{onClick:v,className:"text-red-500 hover:text-red-700",children:o.jsx("i",{className:"fas fa-times"})})]}),o.jsx("p",{className:"text-sm mt-1",children:h})]})}):null},a0=as(ss((h,v)=>({userTokens:0,isTokenModalOpen:!1,tokenNotification:{show:!1,tokens:0,message:""},COIN_VALUE:.5,MIN_WITHDRAWAL:20,TOKEN_REWARDS:{SUBMISSION:5,APPROVED:20,CRITICAL_AREA:50,MONTHLY_ACTIVE:10},TOKEN_PENALTIES:{BAD_FAITH_VOTE:-15,FALSE_SUBMISSION:-25,SPAM_REPORTS:-10,REPEATED_OFFENSE:-50},toggleTokenModal:d=>{h({isTokenModalOpen:d})},showTokenNotification:(d,m)=>{h({tokenNotification:{show:!0,tokens:d,message:m}})},hideTokenNotification:()=>{h({tokenNotification:{show:!1,tokens:0,message:""}})},addTokens:(d,m="")=>{h(r=>({userTokens:r.userTokens+d})),m&&v().showTokenNotification(d,m)},deductTokens:(d,m="")=>{h(r=>({userTokens:Math.max(0,r.userTokens-d)})),m&&v().showTokenNotification(-d,m)},setTokens:d=>{h({userTokens:d})},getTokenBalance:()=>v().userTokens,getTokenValue:d=>d*v().COIN_VALUE,canWithdraw:()=>{const{userTokens:d,MIN_WITHDRAWAL:m}=v();return d>=m},getWithdrawableAmount:()=>{const{userTokens:d,COIN_VALUE:m}=v();return d*m}}),{name:"sigar-token-storage",partialize:h=>({userTokens:h.userTokens})})),s0=as(ss((h,v)=>({userSubmissions:[],removalRequests:[],isRemovalModalOpen:!1,loadUserData:d=>d==="demo"||d==="admin"||d==="inspetor"?{tokens:85,submissions:[{id:"SUB-DEMO-001",areaId:"R1-GO-001",areaName:"Encosta do Morro da Cruz",description:"Área com histórico de deslizamentos em períodos chuvosos intensos.",riskLevel:"HIGH",affectedPopulation:200,submissionType:"NEW_AREA",status:"APPROVED",submittedAt:"2025-06-10T10:00:00.000Z",tokensEarned:75,reviewedAt:"2025-06-12T14:30:00.000Z",reviewedBy:"Eng. Ana Silva",reviewNotes:"Área confirmada após vistoria técnica. Alto risco de deslizamento confirmado."},{id:"SUB-DEMO-002",areaId:"R-DEMO-002",areaName:"Área Industrial - Setor Norte",description:"Possível contaminação química no solo da área industrial.",riskLevel:"MEDIUM",affectedPopulation:50,submissionType:"NEW_AREA",status:"REJECTED",submittedAt:"2025-06-08T15:20:00.000Z",tokensEarned:5,reviewedAt:"2025-06-09T09:15:00.000Z",reviewedBy:"Téc. Carlos Santos",reviewNotes:"Área não apresenta características de risco significativo após análise técnica."},{id:"SUB-DEMO-003",areaId:"R-DEMO-003",areaName:"Área Residencial - Vila Nova",description:"Suspeita de instabilidade do solo em área residencial.",riskLevel:"LOW",affectedPopulation:150,submissionType:"NEW_AREA",status:"PENDING",submittedAt:"2025-06-15T08:45:00.000Z",tokensEarned:5,reviewedAt:null,reviewedBy:null,reviewNotes:""}],removalRequests:[{id:"REM-DEMO-001",areaId:"R-OLD-001",areaName:"Área Estabilizada - Centro",requestedBy:"Usuário Demo",createdAt:"2025-06-14T10:00:00.000Z",reason:"RISK_RESOLVED",justification:"Área foi estabilizada após obras de contenção realizadas pela prefeitura.",status:"APPROVED",reviewedAt:"2025-06-16T14:00:00.000Z",reviewedBy:"Cap. João Santos - Defesa Civil",reviewNotes:"Solicitação aprovada após vistoria técnica confirmar estabilização.",priority:"MEDIUM"}]}:{tokens:0,submissions:[],removalRequests:[]},addUserSubmission:(d,m="NEW_AREA")=>{const r={id:`SUB-${Date.now()}`,areaId:d.id,areaName:d.nome,submissionType:m,status:"PENDING",submittedAt:new Date().toISOString(),tokensEarned:0,reviewedAt:null,reviewedBy:null,reviewNotes:""};return h(u=>({userSubmissions:[...u.userSubmissions,r]})),r},updateSubmissionStatus:(d,m,r="")=>{h(u=>({userSubmissions:u.userSubmissions.map(y=>y.id===d?{...y,status:m,reviewedAt:new Date().toISOString(),reviewedBy:"Sistema Técnico",reviewNotes:r}:y)}))},approveSubmission:(d,m="")=>{h(r=>({userSubmissions:r.userSubmissions.map(g=>g.id===d?{...g,status:"APPROVED",reviewNotes:m,reviewedAt:new Date().toISOString()}:g)}))},rejectSubmission:(d,m="")=>{h(r=>({userSubmissions:r.userSubmissions.map(g=>g.id===d?{...g,status:"REJECTED",reviewNotes:m,reviewedAt:new Date().toISOString()}:g)}))},getUserStats:()=>{const{userSubmissions:d}=v();return{totalSubmissions:d.length,approvedSubmissions:d.filter(m=>m.status==="APPROVED").length,pendingSubmissions:d.filter(m=>m.status==="PENDING").length,rejectedSubmissions:d.filter(m=>m.status==="REJECTED").length}},getSubmissionStats:()=>{const{userSubmissions:d}=v();return{total:d.length,pending:d.filter(m=>m.status==="PENDING").length,approved:d.filter(m=>m.status==="APPROVED").length,rejected:d.filter(m=>m.status==="REJECTED").length}},toggleRemovalModal:d=>{h({isRemovalModalOpen:d})},requestAreaRemoval:(d,m,r,u,g)=>{const y={id:`REM-${Date.now()}`,areaId:d,areaName:m,requestedBy:(g==null?void 0:g.name)||"Usuário",requestedAt:new Date().toISOString(),reason:r,justification:u,status:"PENDING",reviewedAt:null,reviewedBy:null,reviewNotes:"",priority:"MEDIUM"};return h(b=>({removalRequests:[...b.removalRequests,y]})),y},approveRemovalRequest:(d,m="")=>(h(r=>({removalRequests:r.removalRequests.map(u=>u.id===d?{...u,status:"APPROVED",reviewedAt:new Date().toISOString(),reviewedBy:"Defesa Civil",reviewNotes:m||"Remoção aprovada pela autoridade competente."}:u)})),!0),rejectRemovalRequest:(d,m="")=>(h(r=>({removalRequests:r.removalRequests.map(u=>u.id===d?{...u,status:"REJECTED",reviewedAt:new Date().toISOString(),reviewedBy:"Defesa Civil",reviewNotes:m||"Solicitação de remoção rejeitada."}:u)})),!0),getRemovalRequestStats:()=>{const{removalRequests:d}=v();return{total:d.length,pending:d.filter(m=>m.status==="PENDING").length,approved:d.filter(m=>m.status==="APPROVED").length,rejected:d.filter(m=>m.status==="REJECTED").length}},setUserData:d=>{h({userSubmissions:d.submissions||[],removalRequests:d.removalRequests||[]})}}),{name:"sigar-submissions-storage",partialize:h=>({userSubmissions:h.userSubmissions,removalRequests:h.removalRequests})}));as(ss((h,v)=>({userVotes:[],votingHistory:[],submitVote:(d,m,r,u,g)=>{console.log("🗳️ Submetendo voto:",{requestId:d,requestType:m,voteType:r});const y={id:`VOTE-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,requestId:d,requestType:m,voteType:r,justification:u,votedBy:(g==null?void 0:g.username)||"anonymous",votedAt:new Date().toISOString(),status:"PENDING_REVIEW",validated:!1,penaltyApplied:!1};return h(b=>({userVotes:[...b.userVotes,y],votingHistory:[...b.votingHistory,y]})),v().showVotingWarning(),y},validateVote:(d,m,r="",u)=>{console.log("✅ Validando voto:",d,"Correto:",m),h(g=>{const y=g.userVotes.map(w=>{if(w.id===d){const N={...w,validated:!0,validatedAt:new Date().toISOString(),validatedBy:u==null?void 0:u.username,isCorrect:m,adminNotes:r};return!m&&!w.penaltyApplied?{...N,penaltyApplied:!0,tokensDeducted:15}:N}return w}),b=g.votingHistory.map(w=>w.id===d?y.find(N=>N.id===d):w);return{userVotes:y,votingHistory:b}})},getVotingStats:()=>{const{userVotes:d}=v();return{totalVotes:d.length,pendingVotes:d.filter(m=>!m.validated).length,correctVotes:d.filter(m=>m.validated&&m.isCorrect).length,incorrectVotes:d.filter(m=>m.validated&&!m.isCorrect).length,totalPenalties:d.filter(m=>m.penaltyApplied).reduce((m,r)=>m+(r.tokensDeducted||0),0)}},showVotingWarning:()=>{console.log("⚠️ Aviso de Votação Responsável ativado")}}),{name:"sigar-voting-storage",partialize:h=>({userVotes:h.userVotes,votingHistory:h.votingHistory})}));const o0=as(ss((h,v)=>({inspectionRoadmaps:[],isRoadmapModalOpen:!1,withdrawHistory:[],isWithdrawModalOpen:!1,toggleRoadmapModal:d=>{h({isRoadmapModalOpen:d})},toggleWithdrawModal:d=>{h({isWithdrawModalOpen:d})},createInspectionRoadmap:(d,m)=>{const r={id:`ROADMAP-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,...d,createdAt:new Date().toISOString(),createdBy:(m==null?void 0:m.username)||"admin",status:"ACTIVE",areas:d.areas.map(u=>({...u,status:"PENDING",visitedAt:null,findings:null,inspector:null}))};return h(u=>({inspectionRoadmaps:[r,...u.inspectionRoadmaps]})),r},updateAreaInspection:(d,m,r)=>{h(u=>({inspectionRoadmaps:u.inspectionRoadmaps.map(g=>{if(g.id===d){const y=g.areas.map(N=>N.id===m?{...N,...r,visitedAt:new Date().toISOString()}:N),w=y.filter(N=>N.status==="COMPLETED").length===y.length?"COMPLETED":"IN_PROGRESS";return{...g,areas:y,status:w,lastUpdated:new Date().toISOString()}}return g})}))},getRoadmapStats:()=>{const{inspectionRoadmaps:d}=v();if(!d||d.length===0)return{total:0,active:0,inProgress:0,completed:0,totalAreas:0,completedAreas:0};let m=0,r=0;return d.forEach(u=>{u.areas&&Array.isArray(u.areas)&&(m+=u.areas.length,r+=u.areas.filter(g=>g.status==="COMPLETED").length)}),{total:d.length,active:d.filter(u=>u.status==="ACTIVE").length,inProgress:d.filter(u=>u.status==="IN_PROGRESS").length,completed:d.filter(u=>u.status==="COMPLETED").length,totalAreas:m,completedAreas:r}},loadExampleRoadmaps:()=>{const d=[{id:"ROADMAP-001",title:"Vistoria Região Norte - Janeiro 2025",description:"Inspeção preventiva nas áreas de risco da região norte de Goiânia após período chuvoso intenso.",inspector:"João Silva",priority:"HIGH",estimatedDays:5,status:"ACTIVE",createdAt:new Date("2025-01-15").toISOString(),createdBy:"admin",areas:[{id:"R1-GO-001",name:"Encosta do Morro da Cruz",municipality:"Goiânia",neighborhood:"Jardim das Oliveiras",riskType:"Deslizamento",status:"COMPLETED",inspectedAt:new Date("2025-01-16").toISOString(),inspector:"João Silva"},{id:"R1-GO-002",name:"Vale do Jardim Petrópolis",municipality:"Goiânia",neighborhood:"Jardim Petrópolis",riskType:"Alagamento",status:"IN_PROGRESS",inspectedAt:null,inspector:null}]},{id:"ROADMAP-002",title:"Monitoramento Áreas Críticas - Região Sul",description:"Acompanhamento mensal das áreas classificadas como alto risco na região sul da cidade.",inspector:"Maria Santos",priority:"MEDIUM",estimatedDays:3,status:"PLANNED",createdAt:new Date("2025-01-18").toISOString(),createdBy:"admin",areas:[{id:"R1-GO-004",name:"Setor Vila Nova",municipality:"Goiânia",neighborhood:"Vila Nova",riskType:"Deslizamento",status:"PENDING",inspectedAt:null,inspector:null}]}];h(()=>({inspectionRoadmaps:d})),console.log("✅ Dados de exemplo dos roadmaps carregados:",d.length,"roadmaps")},getAreasForInspection:(d,m,r)=>{const u=(b,w,N)=>{var O,R;let T=0;((O=b.nivelAmeaca)==null?void 0:O.toLowerCase())==="alto"?T+=50:((R=b.nivelAmeaca)==null?void 0:R.toLowerCase())==="médio"?T+=30:T+=10;const k=N.filter(J=>J.areaId===b.id).length,P=w.filter(J=>J.areaId===b.id).length;T+=(k+P)*5;const H=b.ultimaAtualizacao?Math.floor((new Date-new Date(b.ultimaAtualizacao))/(1e3*60*60*24)):365;return H>180?T+=20:H>90&&(T+=10),T},g=b=>b.ultimaAtualizacao||"Não informado",y=(b,w,N)=>{const T=N.filter(P=>P.areaId===b).length,k=w.filter(P=>P.areaId===b).length;return T+k};return Object.values(d).map(b=>({...b,priority:u(b,m,r),lastInspection:g(b),requestCount:y(b.id,m,r)})).sort((b,w)=>w.priority-b.priority)},processWithdrawal:(d,m,r,u,g)=>{const{coins:y,paymentMethod:b,accountInfo:w}=d;if(y>m)throw new Error("Saldo insuficiente de SIGAR Coins");if(y<u)throw new Error(`Saque mínimo de ${u} coins`);const N=y*r,T={id:`WITHDRAW-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,coins:y,amount:N,paymentMethod:b,accountInfo:w,status:"PROCESSING",requestedAt:new Date().toISOString(),processedAt:null,userId:g==null?void 0:g.id,username:g==null?void 0:g.username};return h(k=>({withdrawHistory:[T,...k.withdrawHistory],isWithdrawModalOpen:!1})),setTimeout(()=>{h(k=>({withdrawHistory:k.withdrawHistory.map(P=>P.id===T.id?{...P,status:"COMPLETED",processedAt:new Date().toISOString()}:P)}))},3e3),T},getWithdrawHistory:()=>{const{withdrawHistory:d}=v();return d.sort((m,r)=>new Date(r.requestedAt)-new Date(m.requestedAt))}}),{name:"sigar-roadmap-storage",partialize:h=>({inspectionRoadmaps:h.inspectionRoadmaps,withdrawHistory:h.withdrawHistory})}));function r0(){const{initializeAuth:h}=pp(),{isInfoPanelOpen:v,toggleInfoPanel:d,getSelectedArea:m,fetchRiskAreas:r}=wd(),{tokenNotification:u}=a0(),{loadUserData:g,setUserData:y}=s0(),{loadExampleRoadmaps:b}=o0();return le.useEffect(()=>{(async()=>{if(h(),await r(),localStorage.getItem("authToken")){const T=g("demo");y(T)}b()})()},[h,r,g,y,b]),o.jsxs(o.Fragment,{children:[o.jsx(j_,{selectedArea:m(),isInfoPanelOpen:v,onInfoPanelClose:()=>d(!1),children:o.jsx(e0,{})}),o.jsx(t0,{}),o.jsx(i0,{}),o.jsx(n0,{}),u.show&&o.jsx(hp,{})]})}Bg.createRoot(document.getElementById("root")).render(o.jsx(le.StrictMode,{children:o.jsx(r0,{})}));
